\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation}{}\section{pyneb.\+core.\+pynebcore.\+Observation Class Reference}
\label{classpyneb_1_1core_1_1pynebcore_1_1_observation}\index{pyneb.\+core.\+pynebcore.\+Observation@{pyneb.\+core.\+pynebcore.\+Observation}}


Inherits object.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{\+\_\+\+\_\+init\+\_\+\+\_\+}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{add\+Line} (self, line)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{fill\+Obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{add\+Obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{line\+Labels} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{n\+\_\+lines} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7484ce35d15e5fcda49bab55c3501982}{n\+\_\+valid\+\_\+lines} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\+\_\+obs} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab9a38256db6dda5f5c3a9d1a7cd06d8f}{n\+\_\+obs\+\_\+origin} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{get\+Line}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{get\+Sorted\+Lines}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_abe65e91f7abc06d2c525d6c1a3d05627}{get\+Unique\+Atoms} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{read\+Data}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{get\+Intens}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{get\+Error}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{print\+Intens}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{def\+\_\+\+E\+B\+V}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correct\+Data}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0f98ae4395e7dfa586bcd71d32e43f1}{set\+All\+Errors} (self, err\+\_\+default)
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{add\+Monte\+Carlo\+Obs}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{log\+\_\+}
\begin{DoxyCompactList}\small\item\em myloggin object \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction}
\begin{DoxyCompactList}\small\item\em Red\+Cor object. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{\+\_\+\+\_\+normalize}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line \hyperlink{pynebcore_8py_source_l03391}{3391} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{\+\_\+\+\_\+init\+\_\+\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs\+File = {\ttfamily None}, }
\item[{}]{file\+Format = {\ttfamily \textquotesingle{}lines\+\_\+in\+\_\+cols\textquotesingle{}}, }
\item[{}]{delimiter = {\ttfamily None}, }
\item[{}]{err\+\_\+default = {\ttfamily 0.10}, }
\item[{}]{corrected = {\ttfamily False}, }
\item[{}]{err\+Is\+Relative = {\ttfamily True}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}
\begin{DoxyVerb}Define the observation object, which is a collection of observated intensities of one or more
emission lines for one or more objects, with the corresponding errors.
The observed intensities are read from a file or filled in by the addLine method.
Includes an extinction correction object (pyneb.RedCorr) as Observation.extinction.

Parameters:
    - obsFile       name of the file containing the observations. May be a file object or a file name 
    - fileFormat    lines_in_cols or lines_in_row depending on how the wavelengths are ordered 
                (default: lines_in_cols)
    - delimiter     character separating entries 
    - err_default   default uncertainty assumed on intensities. Will overwrite the error from the file.
    - corrected     Boolean. True if the observed intensities are already corrected from extinction
                (default: False)
    - errIsRelative Boolean. True if the errors are relative to the intensities, False if they
                are in the same unit as the intensity (default: True)

Example:
    Read a file containing corrected intensities:
obs = pn.Observation('obs.dat', corrected = True)
    to obtain a dictionary with the observed  corrected intensities:
i_cor = {label: obs.getLine(label = label).corrIntens for label in obs.lineLabels}\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03393}{3393} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03393}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{03393}                  corrected=\textcolor{keyword}{False}, errIsRelative=\textcolor{keyword}{True}):
03394         \textcolor{stringliteral}{"""}
03395 \textcolor{stringliteral}{        Define the observation object, which is a collection of observated intensities of one or more}
03396 \textcolor{stringliteral}{        emission lines for one or more objects, with the corresponding errors.}
03397 \textcolor{stringliteral}{        The observed intensities are read from a file or filled in by the addLine method.}
03398 \textcolor{stringliteral}{        Includes an extinction correction object (pyneb.RedCorr) as Observation.extinction.}
03399 \textcolor{stringliteral}{        }
03400 \textcolor{stringliteral}{        Parameters:}
03401 \textcolor{stringliteral}{            - obsFile       name of the file containing the observations. May be a file object or a file
       name }
03402 \textcolor{stringliteral}{            - fileFormat    lines\_in\_cols or lines\_in\_row depending on how the wavelengths are ordered }
03403 \textcolor{stringliteral}{                                (default: lines\_in\_cols)}
03404 \textcolor{stringliteral}{            - delimiter     character separating entries }
03405 \textcolor{stringliteral}{            - err\_default   default uncertainty assumed on intensities. Will overwrite the error from the
       file.}
03406 \textcolor{stringliteral}{            - corrected     Boolean. True if the observed intensities are already corrected from extinction}
03407 \textcolor{stringliteral}{                                (default: False)}
03408 \textcolor{stringliteral}{            - errIsRelative Boolean. True if the errors are relative to the intensities, False if they}
03409 \textcolor{stringliteral}{                                are in the same unit as the intensity (default: True)}
03410 \textcolor{stringliteral}{}
03411 \textcolor{stringliteral}{        Example:}
03412 \textcolor{stringliteral}{            Read a file containing corrected intensities:}
03413 \textcolor{stringliteral}{                obs = pn.Observation('obs.dat', corrected = True)}
03414 \textcolor{stringliteral}{            to obtain a dictionary with the observed  corrected intensities:}
03415 \textcolor{stringliteral}{                i\_cor = \{label: obs.getLine(label = label).corrIntens for label in obs.lineLabels\}}
03416 \textcolor{stringliteral}{        }
03417 \textcolor{stringliteral}{        """}        
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03418}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{03418}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{log\_} = pn.log\_ 
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03419}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{03419}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling} = \textcolor{stringliteral}{'Observation'}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03420}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{03420}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} = []
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03421}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{03421}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = []
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03422}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{03422}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction} = pn.RedCorr()
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03423}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{03423}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected} = corrected
03424         \textcolor{keywordflow}{if} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}:
03425             self.extinction.law = \textcolor{stringliteral}{'No correction'}
03426         \textcolor{keywordflow}{if} obsFile \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03427             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{readData}(obsFile=obsFile, fileFormat=fileFormat, delimiter=delimiter,
03428                           err\_default=err\_default, corrected=corrected, errIsRelative=errIsRelative)
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!\+\_\+\+\_\+normalize@{\+\_\+\+\_\+normalize}}
\index{\+\_\+\+\_\+normalize@{\+\_\+\+\_\+normalize}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{\+\_\+\+\_\+normalize}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+normalize (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily \textquotesingle{}H1\+\_\+4861A\textquotesingle{}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}
\begin{DoxyVerb}Normalize the line intensities to a reference line (Hbeta by default).
Not yet implemented\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03885}{3885} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03543}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line()}, and \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03885}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{03885}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{\_\_normalize}(self, label='H1\_4861A'):
03886         \textcolor{stringliteral}{"""}
03887 \textcolor{stringliteral}{        Normalize the line intensities to a reference line (Hbeta by default).}
03888 \textcolor{stringliteral}{        Not yet implemented}
03889 \textcolor{stringliteral}{        }
03890 \textcolor{stringliteral}{        """}
03891         \textcolor{keywordflow}{if} \textcolor{stringliteral}{"="} \textcolor{keywordflow}{in} label:
03892             line\_label, factor = label.split(\textcolor{stringliteral}{'='})
03893             factor = np.float(factor)
03894         \textcolor{keywordflow}{else}:
03895             line\_label = label
03896             factor = 1.
03897         line\_norm = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=line\_label) 
03898         \textcolor{keywordflow}{if} line\_norm \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03899             pn.log\_.warn(\textcolor{stringliteral}{'No normalization possible as \{0\} not found'}.format(line\_label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03900             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03901         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03902             line.\_obsIntens\_n = line.obsIntens / (line\_norm.obsIntens * factor)
03903             line.\_unit = line\_label.strip()
03904     
03905     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!add\+Line@{add\+Line}}
\index{add\+Line@{add\+Line}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{add\+Line}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}
\begin{DoxyVerb}Add a line to an existing observation

Parameters:
    - line    the selected emission line (an instance of EmissionLine)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03436}{3436} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03264}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+corrected}, and \hyperlink{pynebcore_8py_source_l03423}{pyneb.\+core.\+pynebcore.\+Observation.\+corrected}.



Referenced by \hyperlink{pynebcore_8py_source_l03452}{pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs()}, and \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03436}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{03436}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(self, line):
03437         \textcolor{stringliteral}{"""}
03438 \textcolor{stringliteral}{        Add a line to an existing observation}
03439 \textcolor{stringliteral}{}
03440 \textcolor{stringliteral}{        Parameters:}
03441 \textcolor{stringliteral}{            - line    the selected emission line (an instance of EmissionLine)}
03442 \textcolor{stringliteral}{            }
03443 \textcolor{stringliteral}{        """}
03444         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(line, pn.EmissionLine):            
03445             self.log\_.error(\textcolor{stringliteral}{'Trying to add an inappropriate record to observations'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03446             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03447         \textcolor{keywordflow}{if} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}:
03448             line.corrected = \textcolor{keyword}{True}
03449             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(line)
03450         self.lines.append(line)
03451 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!add\+Monte\+Carlo\+Obs@{add\+Monte\+Carlo\+Obs}}
\index{add\+Monte\+Carlo\+Obs@{add\+Monte\+Carlo\+Obs}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{add\+Monte\+Carlo\+Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{N = {\ttfamily 0}, }
\item[{}]{i\+\_\+obs = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}
\begin{DoxyVerb}Adding MonteCarlo random-gauss values of fake observations to an obs object.
The names of the fake observations will be OriginalName-MC-n, n ranging from 0 to N-1

Parameters:
N: number of new observations to be added for each original observation.
i_obs: used in case only a given observations needs to be treated
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03947}{3947} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}, \hyperlink{pynebcore_8py_source_l03347}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03809}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Error()}, \hyperlink{pynebcore_8py_source_l03782}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Intens()}, \hyperlink{pynebcore_8py_source_l03493}{pyneb.\+core.\+pynebcore.\+Observation.\+line\+Labels()}, \hyperlink{pynebcore_8py_source_l03502}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+lines()}, \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}, and \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03947}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{03947}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{addMonteCarloObs}(self, N=0, i\_obs=None):
03948         \textcolor{stringliteral}{"""}
03949 \textcolor{stringliteral}{        Adding MonteCarlo random-gauss values of fake observations to an obs object.}
03950 \textcolor{stringliteral}{        The names of the fake observations will be OriginalName-MC-n, n ranging from 0 to N-1}
03951 \textcolor{stringliteral}{        }
03952 \textcolor{stringliteral}{        Parameters:}
03953 \textcolor{stringliteral}{        N: number of new observations to be added for each original observation.}
03954 \textcolor{stringliteral}{        i\_obs: used in case only a given observations needs to be treated}
03955 \textcolor{stringliteral}{        """}
03956         n\_lines = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{n\_lines}
03957         n\_obs = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs}
03958         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03959             pn.log\_.message(\textcolor{stringliteral}{'Entering'}, calling=\textcolor{stringliteral}{'addMonteCarloObs'})
03960             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} xrange(n\_obs):
03961                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{addMonteCarloObs}(i\_obs=i, N=N)
03962             pn.log\_.message(\textcolor{stringliteral}{'Leaving'}, calling=\textcolor{stringliteral}{'addMonteCarloObs'})
03963         \textcolor{keywordflow}{else}:
03964             intens = np.array([self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{getIntens}()[label] \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{lineLabels}])[:,i\_obs] \textcolor{comment}{# n\_lines}
03965             error = np.array([self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{getError}()[label] \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{lineLabels}])[:,i\_obs]
03966             all\_new\_obs = np.random.standard\_normal((N, n\_lines))
03967             
03968             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} xrange(N):
03969                 new\_obs = intens * (all\_new\_obs[i,:] * error + 1)
03970                 new\_obs[new\_obs < 0.] = 0.
03971                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{addObs}(\textcolor{stringliteral}{'\{0\}-MC-\{1\}'}.format(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}[i\_obs], i), new\_obs, error)
03972     
03973 \end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!add\+Obs@{add\+Obs}}
\index{add\+Obs@{add\+Obs}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{add\+Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name, }
\item[{}]{new\+Obs\+Intens, }
\item[{}]{new\+Obs\+Error = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}
\begin{DoxyVerb}Add an observation (i.e. a list of intensities corresponding to a new object) to the existing set.

Parameters:
    - name            name of the new observation/object
    - newObsIntens    value(s) of the line intensities. Length must match Observation.n_lines\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03467}{3467} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}, \hyperlink{pynebcore_8py_source_l03502}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+lines()}, and \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03467}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{03467}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{addObs}(self, name, newObsIntens, newObsError=None):
03468         \textcolor{stringliteral}{"""}
03469 \textcolor{stringliteral}{        Add an observation (i.e. a list of intensities corresponding to a new object) to the existing set.}
03470 \textcolor{stringliteral}{}
03471 \textcolor{stringliteral}{        Parameters:}
03472 \textcolor{stringliteral}{            - name            name of the new observation/object}
03473 \textcolor{stringliteral}{            - newObsIntens    value(s) of the line intensities. Length must match Observation.n\_lines}
03474 \textcolor{stringliteral}{                }
03475 \textcolor{stringliteral}{        """}
03476         \textcolor{keywordflow}{if} np.ndim(newObsIntens) == 0:
03477             newObsIntens = [newObsIntens]
03478         \textcolor{keywordflow}{if} len(newObsIntens) != self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{n\_lines}:
03479             self.log\_.error(\textcolor{stringliteral}{'Length of observations to be added does not match n\_lines = \{0\}'}.format(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{n\_lines}),
03480                             calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03481             \textcolor{keywordflow}{return}
03482         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03483             self.log\_.error(\textcolor{stringliteral}{'Name \{0\} already exists'}.format(name))
03484             \textcolor{keywordflow}{return}
03485         \textcolor{keywordflow}{for} i, line \textcolor{keywordflow}{in} enumerate(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}):
03486             \textcolor{keywordflow}{if} newObsError \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03487                 line.addObs(newObsIntens[i])
03488             \textcolor{keywordflow}{else}:
03489                 line.addObs(newObsIntens[i], newObsError[i])
03490         self.names.append(name)
03491 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!correct\+Data@{correct\+Data}}
\index{correct\+Data@{correct\+Data}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{correct\+Data}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line = {\ttfamily None}, }
\item[{}]{norm\+Wave = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}
\begin{DoxyVerb}Correct the line intensities with the correction computed with the RedCorr class (extinction.py)
The result is stored in line.corrIntens (corrected intensity in absolute units).\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03906}{3906} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03422}{pyneb.\+core.\+pynebcore.\+Observation.\+extinction}, and \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, and \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03906}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{03906}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(self, line=None, normWave=None):
03907         \textcolor{stringliteral}{"""}
03908 \textcolor{stringliteral}{        Correct the line intensities with the correction computed with the RedCorr class (extinction.py)}
03909 \textcolor{stringliteral}{        The result is stored in line.corrIntens (corrected intensity in absolute units).}
03910 \textcolor{stringliteral}{}
03911 \textcolor{stringliteral}{        """}
03912         \textcolor{keywordflow}{if} line \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03913             line = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}
03914         \textcolor{keywordflow}{if} np.ndim(line) != 0:
03915             \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} line:
03916                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(l, normWave=normWave)
03917         \textcolor{keywordflow}{else}:
03918             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(line, pn.EmissionLine):
03919                 pn.log\_.error(\textcolor{stringliteral}{'Trying to correct something that is not a line'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03920                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}  
03921             line.correctIntens(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction}, normWave=normWave)
03922 
03923             \textcolor{stringliteral}{"""            }
03924 \textcolor{stringliteral}{            # the following is commented for now, we'll see latter how to implement normalized intensities.}
03925 \textcolor{stringliteral}{            if line.\_unit is not None:}
03926 \textcolor{stringliteral}{                try:}
03927 \textcolor{stringliteral}{                    line\_norm = self.getLine(label=line.\_unit)}
03928 \textcolor{stringliteral}{                    line.\_corrIntens\_n = line.obsIntens\_n * self.extinction.getCorr(line.wave,
       line\_norm.wave)}
03929 \textcolor{stringliteral}{                except:}
03930 \textcolor{stringliteral}{                    pn.log\_.warn('No normalized correction for \{0\}'.format(line), calling='
      Observation.correctData')}
03931 \textcolor{stringliteral}{                    line.\_corrIntens\_n = None}
03932 \textcolor{stringliteral}{            """}
03933             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!def\+\_\+\+E\+B\+V@{def\+\_\+\+E\+B\+V}}
\index{def\+\_\+\+E\+B\+V@{def\+\_\+\+E\+B\+V}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{def\+\_\+\+E\+B\+V}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+def\+\_\+\+E\+B\+V (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label1 = {\ttfamily \char`\"{}H1\+\_\+6563A\char`\"{}}, }
\item[{}]{label2 = {\ttfamily \char`\"{}H1\+\_\+4861A\char`\"{}}, }
\item[{}]{r\+\_\+theo = {\ttfamily 2.85}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}
\begin{DoxyVerb}Define the extinction parameter using the ratio of 2 lines.
Calls extinction.setCorr to set the EBV and cHbeta according to the parameters.
Once this is done, one may call correctData to compute the EmissionLine.corrIntens

Parameters:
    - label1 and label2 [EmissionLine.label] observed line whose intensities are used
    - r_theo [float] theoretical line ratio\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03861}{3861} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03861}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{03861}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{def\_EBV}(self, label1="H1\_6563A", label2="H1\_4861A", r\_theo=2.85):
03862         \textcolor{stringliteral}{"""}
03863 \textcolor{stringliteral}{        Define the extinction parameter using the ratio of 2 lines.}
03864 \textcolor{stringliteral}{        Calls extinction.setCorr to set the EBV and cHbeta according to the parameters.}
03865 \textcolor{stringliteral}{        Once this is done, one may call correctData to compute the EmissionLine.corrIntens}
03866 \textcolor{stringliteral}{        }
03867 \textcolor{stringliteral}{        Parameters:}
03868 \textcolor{stringliteral}{            - label1 and label2 [EmissionLine.label] observed line whose intensities are used}
03869 \textcolor{stringliteral}{            - r\_theo [float] theoretical line ratio}
03870 \textcolor{stringliteral}{}
03871 \textcolor{stringliteral}{        """}
03872         line1 = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=label1)
03873         line2 = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=label2)
03874         \textcolor{keywordflow}{if} line1 \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03875             pn.log\_.error(\textcolor{stringliteral}{'\{0\} is not a valid label or is not observed'}.format(line1), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03876             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03877         \textcolor{keywordflow}{if} line2 \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03878             pn.log\_.error(\textcolor{stringliteral}{'\{0\} is not a valid label or is not observed'}.format(line2), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03879             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03880 
03881         obs\_over\_theo = (line1.obsIntens / line2.obsIntens) / r\_theo 
03882         self.extinction.setCorr(obs\_over\_theo, line1.wave, line2.wave)
03883         
03884  
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!fill\+Obs@{fill\+Obs}}
\index{fill\+Obs@{fill\+Obs}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{fill\+Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line\+Label, }
\item[{}]{default = {\ttfamily np.nan}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}
\begin{DoxyVerb}Create a fake observation of a given line, filled with a given value.
Parameters:
    - lineLabel: the label of the new line. If the label corresponds to an already 
defined observation, nothing is done and a warning is issued.
    - default: the value of the fake observations. Default is np.nan
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03452}{3452} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}, \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03493}{pyneb.\+core.\+pynebcore.\+Observation.\+line\+Labels()}, and \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03452}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{03452}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{fillObs}(self, lineLabel, default=np.nan):
03453         \textcolor{stringliteral}{"""}
03454 \textcolor{stringliteral}{        Create a fake observation of a given line, filled with a given value.}
03455 \textcolor{stringliteral}{        Parameters:}
03456 \textcolor{stringliteral}{            - lineLabel: the label of the new line. If the label corresponds to an already }
03457 \textcolor{stringliteral}{                defined observation, nothing is done and a warning is issued.}
03458 \textcolor{stringliteral}{            - default: the value of the fake observations. Default is np.nan}
03459 \textcolor{stringliteral}{        """}
03460 
03461         \textcolor{keywordflow}{if} lineLabel \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{lineLabels}:
03462             newLine = pn.EmissionLine(label=lineLabel, obsIntens=default*np.ones(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs}))
03463             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(newLine)
03464         \textcolor{keywordflow}{else}:
03465             pn.log\_.warn(\textcolor{stringliteral}{'Line \{0\} already in obs'}.format(lineLabel), calling = self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03466 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!get\+Error@{get\+Error}}
\index{get\+Error@{get\+Error}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{get\+Error}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+get\+Error (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\+Obs = {\ttfamily False}, }
\item[{}]{obs\+Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}
\begin{DoxyVerb}Return the line intensity error in form of a dictionary with line labels as keys.

Parameters:
    - returnObs  if False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName    name of an observation. If not set or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03809}{3809} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}, \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}, and \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03809}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{03809}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{getError}(self, returnObs=False, obsName=None):
03810         \textcolor{stringliteral}{"""}
03811 \textcolor{stringliteral}{        Return the line intensity error in form of a dictionary with line labels as keys.}
03812 \textcolor{stringliteral}{        }
03813 \textcolor{stringliteral}{        Parameters:}
03814 \textcolor{stringliteral}{            - returnObs  if False (default), prints the corrected values. }
03815 \textcolor{stringliteral}{                            If True, prints the observed value. }
03816 \textcolor{stringliteral}{            - obsName    name of an observation. If not set or None, all the observations are printed}
03817 \textcolor{stringliteral}{            }
03818 \textcolor{stringliteral}{        """}
03819         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03820             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03821                 obsIndex = self.names.index(obsName)
03822             \textcolor{keywordflow}{else}:
03823                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03824                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03825         \textcolor{keywordflow}{else}:
03826             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs})
03827         to\_return = \{\}
03828         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03829             \textcolor{keywordflow}{if} returnObs:
03830                 to\_return[line.label] = line.obsError[obsIndex]
03831             \textcolor{keywordflow}{else}:
03832                 to\_return[line.label] = line.corrError[obsIndex]
03833         \textcolor{keywordflow}{return} to\_return
03834     
03835     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!get\+Intens@{get\+Intens}}
\index{get\+Intens@{get\+Intens}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{get\+Intens}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+get\+Intens (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\+Obs = {\ttfamily False}, }
\item[{}]{obs\+Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}
\begin{DoxyVerb}Return the line intensities in form of a dictionary with line labels as keys.

Parameters:
    - returnObs  Boolean. If False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName    name of an observation. If not set or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03782}{3782} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}, \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}, and \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03782}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{03782}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{getIntens}(self, returnObs=False, obsName=None):
03783         \textcolor{stringliteral}{"""}
03784 \textcolor{stringliteral}{        Return the line intensities in form of a dictionary with line labels as keys.}
03785 \textcolor{stringliteral}{        }
03786 \textcolor{stringliteral}{        Parameters:}
03787 \textcolor{stringliteral}{            - returnObs  Boolean. If False (default), prints the corrected values. }
03788 \textcolor{stringliteral}{                            If True, prints the observed value. }
03789 \textcolor{stringliteral}{            - obsName    name of an observation. If not set or None, all the observations are printed}
03790 \textcolor{stringliteral}{}
03791 \textcolor{stringliteral}{        """}
03792         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03793             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03794                 obsIndex = self.names.index(obsName)
03795             \textcolor{keywordflow}{else}:
03796                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03797                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03798         \textcolor{keywordflow}{else}:
03799             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs})
03800         to\_return = \{\}
03801         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03802             \textcolor{keywordflow}{if} returnObs:
03803                 to\_return[line.label] = line.obsIntens[obsIndex]
03804             \textcolor{keywordflow}{else}:
03805                 to\_return[line.label] = line.corrIntens[obsIndex]
03806         \textcolor{keywordflow}{return} to\_return
03807     
03808     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!get\+Line@{get\+Line}}
\index{get\+Line@{get\+Line}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{get\+Line}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{elem = {\ttfamily None}, }
\item[{}]{spec = {\ttfamily None}, }
\item[{}]{wave = {\ttfamily None}, }
\item[{}]{label = {\ttfamily None}, }
\item[{}]{blend = {\ttfamily False}, }
\item[{}]{i = {\ttfamily None}, }
\item[{}]{j = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}
\begin{DoxyVerb}Return the lines corresponding to elem-spec-wave or to the label.\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03543}{3543} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03134}{pyneb.\+core.\+pynebcore.\+get\+Line\+Label()}, and \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03885}{pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+normalize()}, and \hyperlink{pynebcore_8py_source_l03861}{pyneb.\+core.\+pynebcore.\+Observation.\+def\+\_\+\+E\+B\+V()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03543}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{03543}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(self, elem=None, spec=None, wave=None, label=None, blend=False, i=None, j=None):
03544         \textcolor{stringliteral}{"""}
03545 \textcolor{stringliteral}{        Return the lines corresponding to elem-spec-wave or to the label.}
03546 \textcolor{stringliteral}{        }
03547 \textcolor{stringliteral}{        """}
03548         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03549             label = \hyperlink{namespacepyneb_1_1core_1_1pynebcore_a14c882fc308d727f77ed33c1f56212e4}{getLineLabel}(elem, spec, wave, blend)[2]
03550         lines = [line \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} \textcolor{keywordflow}{if} line.label == label.strip()]
03551         n\_lines = len(lines)
03552         \textcolor{keywordflow}{if} n\_lines == 0:
03553             self.log\_.warn(\textcolor{stringliteral}{'No line for \{0\} from \{1\}\{2\} at wavelength \{3\} (blend=\{4\})'}.format(label, elem, 
      spec, wave, blend),
03554                            calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03555             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03556         \textcolor{keywordflow}{elif} n\_lines == 1:
03557             \textcolor{keywordflow}{return} lines[0]
03558         \textcolor{keywordflow}{else}:
03559             \textcolor{keywordflow}{return} np.asarray(lines)
03560  
03561 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!get\+Sorted\+Lines@{get\+Sorted\+Lines}}
\index{get\+Sorted\+Lines@{get\+Sorted\+Lines}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{get\+Sorted\+Lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+get\+Sorted\+Lines (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{crit = {\ttfamily \textquotesingle{}atom\textquotesingle{}}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}
\begin{DoxyVerb}Return a list of lines sorted by atoms or wavelengths.

Parameters:
    - crit   criterion to sort the line list ('atom' [default] or 'wave')\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03562}{3562} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, and \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03562}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{03562}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{getSortedLines}(self, crit='atom'):
03563         \textcolor{stringliteral}{"""}
03564 \textcolor{stringliteral}{        Return a list of lines sorted by atoms or wavelengths.}
03565 \textcolor{stringliteral}{        }
03566 \textcolor{stringliteral}{        Parameters:}
03567 \textcolor{stringliteral}{            - crit   criterion to sort the line list ('atom' [default] or 'wave')}
03568 \textcolor{stringliteral}{}
03569 \textcolor{stringliteral}{        """}
03570         \textcolor{keywordflow}{if} crit == \textcolor{stringliteral}{'atom'}:
03571             \textcolor{keywordflow}{return} sorted(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}, key=\textcolor{keyword}{lambda} line: line.atom + str(line.wave))
03572         \textcolor{keywordflow}{elif} crit == \textcolor{stringliteral}{'wave'}:
03573             \textcolor{keywordflow}{return} sorted(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}, key=\textcolor{keyword}{lambda} line: line.wave)
03574         \textcolor{keywordflow}{else}:
03575             self.log\_.error(\textcolor{stringliteral}{'crit = \{0\} is not valid'}.format(crit), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling} + \textcolor{stringliteral}{'.getSortedLines'})
03576 
03577     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_abe65e91f7abc06d2c525d6c1a3d05627}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!get\+Unique\+Atoms@{get\+Unique\+Atoms}}
\index{get\+Unique\+Atoms@{get\+Unique\+Atoms}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{get\+Unique\+Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+get\+Unique\+Atoms (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_abe65e91f7abc06d2c525d6c1a3d05627}
\begin{DoxyVerb}Return a numpy.ndarray of the atoms of the observed lines. If an atom emits 
more than one line, it is returned only once (numpy.unique is applied 
to the list before returning).\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03578}{3578} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}, and \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03578}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_abe65e91f7abc06d2c525d6c1a3d05627}{03578}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_abe65e91f7abc06d2c525d6c1a3d05627}{getUniqueAtoms}(self):
03579         \textcolor{stringliteral}{"""}
03580 \textcolor{stringliteral}{        Return a numpy.ndarray of the atoms of the observed lines. If an atom emits }
03581 \textcolor{stringliteral}{        more than one line, it is returned only once (numpy.unique is applied }
03582 \textcolor{stringliteral}{        to the list before returning).}
03583 \textcolor{stringliteral}{}
03584 \textcolor{stringliteral}{        """}
03585         \textcolor{keywordflow}{return} np.unique([l.atom \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])
03586 
03587     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!line\+Labels@{line\+Labels}}
\index{line\+Labels@{line\+Labels}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{line\+Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+line\+Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}
\begin{DoxyVerb}Property
Array of labels of the lines \end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03493}{3493} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}, and \hyperlink{pynebcore_8py_source_l03452}{pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03493}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{03493}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6b3017332420d65de89c2d47ff51955e}{lineLabels}(self):
03494         \textcolor{stringliteral}{"""}
03495 \textcolor{stringliteral}{        Property}
03496 \textcolor{stringliteral}{        Array of labels of the lines }
03497 \textcolor{stringliteral}{        }
03498 \textcolor{stringliteral}{        """}
03499         \textcolor{keywordflow}{return} np.asarray([line.label \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])   
03500 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!n\+\_\+lines@{n\+\_\+lines}}
\index{n\+\_\+lines@{n\+\_\+lines}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{n\+\_\+lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+lines (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}
\begin{DoxyVerb}Property
Number of lines\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03502}{3502} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}, and \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03502}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{03502}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac61184d33006ae92f2a3ed42adc149be}{n\_lines}(self):
03503         \textcolor{stringliteral}{"""}
03504 \textcolor{stringliteral}{        Property}
03505 \textcolor{stringliteral}{        Number of lines}
03506 \textcolor{stringliteral}{        }
03507 \textcolor{stringliteral}{        """}
03508         \textcolor{keywordflow}{return} len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines})
03509 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!n\+\_\+obs@{n\+\_\+obs}}
\index{n\+\_\+obs@{n\+\_\+obs}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{n\+\_\+obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}
\begin{DoxyVerb}Property
Number of observations. If the number of observations varies from one line to the other,
    returns the number of observations for each line as an array.\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03520}{3520} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}, \hyperlink{pynebcore_8py_source_l03452}{pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs()}, \hyperlink{pynebcore_8py_source_l03809}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Error()}, \hyperlink{pynebcore_8py_source_l03782}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Intens()}, and \hyperlink{pynebcore_8py_source_l03836}{pyneb.\+core.\+pynebcore.\+Observation.\+print\+Intens()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03520}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{03520}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs}(self):
03521         \textcolor{stringliteral}{"""}
03522 \textcolor{stringliteral}{        Property}
03523 \textcolor{stringliteral}{        Number of observations. If the number of observations varies from one line to the other,}
03524 \textcolor{stringliteral}{            returns the number of observations for each line as an array.}
03525 \textcolor{stringliteral}{            }
03526 \textcolor{stringliteral}{        """}
03527         n\_obs = np.asarray([l.obsIntens.size \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])
03528         \textcolor{keywordflow}{for} n \textcolor{keywordflow}{in} n\_obs:
03529             \textcolor{keywordflow}{if} n != n\_obs[0]:
03530                 \textcolor{keywordflow}{return} n\_obs
03531                 
03532         \textcolor{keywordflow}{return} n\_obs[0]
03533     
03534     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab9a38256db6dda5f5c3a9d1a7cd06d8f}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!n\+\_\+obs\+\_\+origin@{n\+\_\+obs\+\_\+origin}}
\index{n\+\_\+obs\+\_\+origin@{n\+\_\+obs\+\_\+origin}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{n\+\_\+obs\+\_\+origin}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs\+\_\+origin (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab9a38256db6dda5f5c3a9d1a7cd06d8f}
\begin{DoxyVerb}Property
Number of observations which are not from MonteCarlo (i.e. without -MC- in the name)
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03536}{3536} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03536}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab9a38256db6dda5f5c3a9d1a7cd06d8f}{03536}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab9a38256db6dda5f5c3a9d1a7cd06d8f}{n\_obs\_origin}(self):
03537         \textcolor{stringliteral}{"""}
03538 \textcolor{stringliteral}{        Property}
03539 \textcolor{stringliteral}{        Number of observations which are not from MonteCarlo (i.e. without -MC- in the name)}
03540 \textcolor{stringliteral}{        """}
03541         \textcolor{keywordflow}{return} len([n \textcolor{keywordflow}{for} n \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} \textcolor{keywordflow}{if} \textcolor{stringliteral}{'-MC-'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} n])
03542 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7484ce35d15e5fcda49bab55c3501982}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!n\+\_\+valid\+\_\+lines@{n\+\_\+valid\+\_\+lines}}
\index{n\+\_\+valid\+\_\+lines@{n\+\_\+valid\+\_\+lines}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{n\+\_\+valid\+\_\+lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+valid\+\_\+lines (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7484ce35d15e5fcda49bab55c3501982}
\begin{DoxyVerb}Property
Number of valid lines (i.e., lines with labels recognized by PyNeb)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03511}{3511} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03511}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7484ce35d15e5fcda49bab55c3501982}{03511}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7484ce35d15e5fcda49bab55c3501982}{n\_valid\_lines}(self):
03512         \textcolor{stringliteral}{"""}
03513 \textcolor{stringliteral}{        Property}
03514 \textcolor{stringliteral}{        Number of valid lines (i.e., lines with labels recognized by PyNeb)}
03515 \textcolor{stringliteral}{        }
03516 \textcolor{stringliteral}{        """}
03517         \textcolor{keywordflow}{return} len([line \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} \textcolor{keywordflow}{if} line.is\_valid])
03518 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!print\+Intens@{print\+Intens}}
\index{print\+Intens@{print\+Intens}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{print\+Intens}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+print\+Intens (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\+Obs = {\ttfamily False}, }
\item[{}]{obs\+Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}
\begin{DoxyVerb}Print the line intensities.

Parameters:
    - returnObs   if False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName     name of an observation. Is unset or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03836}{3836} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}, \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}, and \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03836}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{03836}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{printIntens}(self, returnObs=False, obsName=None):
03837         \textcolor{stringliteral}{"""}
03838 \textcolor{stringliteral}{        Print the line intensities.}
03839 \textcolor{stringliteral}{        }
03840 \textcolor{stringliteral}{        Parameters:}
03841 \textcolor{stringliteral}{            - returnObs   if False (default), prints the corrected values. }
03842 \textcolor{stringliteral}{                            If True, prints the observed value. }
03843 \textcolor{stringliteral}{            - obsName     name of an observation. Is unset or None, all the observations are printed}
03844 \textcolor{stringliteral}{}
03845 \textcolor{stringliteral}{        """}    
03846         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03847             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03848                 obsIndex = self.names.index(obsName)
03849             \textcolor{keywordflow}{else}:
03850                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03851                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03852         \textcolor{keywordflow}{else}:
03853             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aef2877f7f50f5c70cee1f0da97b34081}{n\_obs})
03854         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03855             \textcolor{keywordflow}{if} returnObs:
03856                 print(line.label, line.obsIntens[obsIndex])
03857             \textcolor{keywordflow}{else}:
03858                 print(line.label, line.corrIntens[obsIndex])
03859     
03860             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!read\+Data@{read\+Data}}
\index{read\+Data@{read\+Data}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{read\+Data}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs\+File, }
\item[{}]{file\+Format = {\ttfamily \textquotesingle{}lines\+\_\+in\+\_\+cols\textquotesingle{}}, }
\item[{}]{delimiter = {\ttfamily None}, }
\item[{}]{err\+\_\+default = {\ttfamily 0.10}, }
\item[{}]{corrected = {\ttfamily False}, }
\item[{}]{err\+Is\+Relative = {\ttfamily True}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}
\begin{DoxyVerb}Read observational data from an ascii file. The lines can be listed either in columns or in rows
and the observed objects vary in the other direction. The uncertainty on the line intensities
can be read from the file, or a constant relative value can be assumed.
The lines must be identified by a label in PyNeb's format ion_wave (e.g., 'O3_5007'); the list of ions and
corresponding wavelengths can also be found in pn.LINE_LABEL_LIST.
The following optional fields may also be included (without quotes): 'NAME' (object's name, in one string), 
'E(B-V)', 'cHbeta', and 'e' (observational error).

 
Parameters:
    - obsFile        file containing the observations. May be a file object or a string 
    - fileFormat     emission lines vary across columns ('lines_in_cols', default) or 
                across rows ('lines_in_rows'), or across rows with errors in columns 
                ('lines_in_rows_err_cols')m in which case the column label must start with "err"
    - delimiter      field delimiter (default: None)  
    - err_default    default uncertainty on the line intensities
    - corrected      Boolean. True if the observed intensities are already corrected from extinction
                 (default: False)
    - errIsRelative  Boolean. True if the errors are relative to the intensities, False if they
                 are in the same unit as the intensity (default: False)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03589}{3589} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}, \hyperlink{icf_8py_source_l00016}{pyneb.\+core.\+icf.\+I\+C\+F.\+calling}, \hyperlink{emis_grid_8py_source_l00041}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+calling}, \hyperlink{pynebcore_8py_source_l00090}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{pynebcore_8py_source_l00311}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l00568}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+calling}, \hyperlink{pynebcore_8py_source_l00918}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+calling}, \hyperlink{pynebcore_8py_source_l01175}{pyneb.\+core.\+pynebcore.\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l02572}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+calling}, \hyperlink{pynebcore_8py_source_l03263}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+calling}, \hyperlink{pynebcore_8py_source_l03419}{pyneb.\+core.\+pynebcore.\+Observation.\+calling}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03421}{pyneb.\+core.\+pynebcore.\+Observation.\+names}, and \hyperlink{misc_8py_source_l00260}{pyneb.\+utils.\+misc.\+quiet\+\_\+divide()}.



Referenced by \hyperlink{pynebcore_8py_source_l03578}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Unique\+Atoms()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03589}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{03589}                  errIsRelative=\textcolor{keyword}{True}):
03590         \textcolor{stringliteral}{"""}
03591 \textcolor{stringliteral}{        Read observational data from an ascii file. The lines can be listed either in columns or in rows}
03592 \textcolor{stringliteral}{        and the observed objects vary in the other direction. The uncertainty on the line intensities}
03593 \textcolor{stringliteral}{        can be read from the file, or a constant relative value can be assumed.}
03594 \textcolor{stringliteral}{        The lines must be identified by a label in PyNeb's format ion\_wave (e.g., 'O3\_5007'); the list of
       ions and}
03595 \textcolor{stringliteral}{        corresponding wavelengths can also be found in pn.LINE\_LABEL\_LIST.}
03596 \textcolor{stringliteral}{        The following optional fields may also be included (without quotes): 'NAME' (object's name, in one
       string), }
03597 \textcolor{stringliteral}{        'E(B-V)', 'cHbeta', and 'e' (observational error).}
03598 \textcolor{stringliteral}{        }
03599 \textcolor{stringliteral}{ }
03600 \textcolor{stringliteral}{        Parameters:}
03601 \textcolor{stringliteral}{            - obsFile        file containing the observations. May be a file object or a string }
03602 \textcolor{stringliteral}{            - fileFormat     emission lines vary across columns ('lines\_in\_cols', default) or }
03603 \textcolor{stringliteral}{                                across rows ('lines\_in\_rows'), or across rows with errors in columns }
03604 \textcolor{stringliteral}{                                ('lines\_in\_rows\_err\_cols')m in which case the column label must start with 
      "err"}
03605 \textcolor{stringliteral}{            - delimiter      field delimiter (default: None)  }
03606 \textcolor{stringliteral}{            - err\_default    default uncertainty on the line intensities}
03607 \textcolor{stringliteral}{            - corrected      Boolean. True if the observed intensities are already corrected from
       extinction}
03608 \textcolor{stringliteral}{                                 (default: False)}
03609 \textcolor{stringliteral}{            - errIsRelative  Boolean. True if the errors are relative to the intensities, False if they}
03610 \textcolor{stringliteral}{                                 are in the same unit as the intensity (default: False)}
03611 \textcolor{stringliteral}{}
03612 \textcolor{stringliteral}{        """}    
03613         format\_list = [\textcolor{stringliteral}{'lines\_in\_cols'}, \textcolor{stringliteral}{'lines\_in\_cols2'}, \textcolor{stringliteral}{'lines\_in\_rows'}, \textcolor{stringliteral}{'lines\_in\_rows\_err\_cols'}]
03614         \textcolor{keywordflow}{if} fileFormat \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} format\_list:
03615             self.log\_.error(\textcolor{stringliteral}{'unknown format \{0\}'}.format(fileFormat), calling=\textcolor{stringliteral}{'Observation.readData'})
03616 
03617         \textcolor{keywordflow}{if} type(obsFile) \textcolor{keywordflow}{is} file:
03618             f = obsFile
03619             closeAfterUse = \textcolor{keyword}{False}
03620         \textcolor{keywordflow}{else}:
03621             f = open(obsFile, \textcolor{stringliteral}{'}\textcolor{stringliteral}{r')}
03622 \textcolor{stringliteral}{            closeAfterUse = }\textcolor{keyword}{True}
03623             
03624         \textcolor{keywordflow}{if} fileFormat == \textcolor{stringliteral}{'lines\_in\_cols'}:
03625             hdr = f.readline()
03626             labels = hdr.split(delimiter)
03627             labels = [l.strip() \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} labels]
03628             data = f.readlines()
03629             \textcolor{keywordflow}{if} closeAfterUse:
03630                 f.close()
03631             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [dd.split(delimiter)[0].strip() \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data]
03632             data\_tab = np.asarray([[dd.split(delimiter)[i] \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data] \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} np.arange(len(labels))]
      )
03633             
03634             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(labels):
03635                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'NAME'}:
03636                     \textcolor{keywordflow}{pass}
03637                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'cHbeta'}:
03638                     self.extinction.cHbeta = data\_tab[i].astype(np.float32)
03639                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03640                     self.extinction.E\_BV = data\_tab[i].astype(np.float32)         
03641                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03642                     intens = data\_tab[i].astype(np.float32)
03643                     \textcolor{keywordflow}{try}:
03644                         i\_error = labels.index(label + \textcolor{stringliteral}{'e'})
03645                         error = data\_tab[i\_error].astype(np.float32)
03646                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03647                             error = \hyperlink{namespacepyneb_1_1utils_1_1misc_afa4163f24be7b1472200c24824c72ae1}{quiet\_divide}(error, intens)
03648                     \textcolor{keywordflow}{except}:
03649                         self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03650                         error = data\_tab[1].astype(np.float32) * 0. + err\_default
03651                     \textcolor{keywordflow}{try}:
03652                         line2add = pn.EmissionLine(label=label, obsIntens=intens, obsError=error)
03653                     \textcolor{keywordflow}{except}:
03654                         self.log\_.warn(\textcolor{stringliteral}{'Unknown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03655                     \textcolor{keywordflow}{try}:
03656                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(line2add)
03657                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03658                     \textcolor{keywordflow}{except}:
03659                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03660                         
03661         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_cols2'}:
03662             \textcolor{keywordflow}{if} closeAfterUse:
03663                 f.close()
03664             data\_tab = np.genfromtxt(obsFile, dtype=\textcolor{keywordtype}{None}, delimiter=delimiter, names=\textcolor{keyword}{True}, deletechars=\textcolor{stringliteral}{''})
03665             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} data\_tab.dtype.names:
03666                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03667                     self.extinction.cHbeta = data\_tab[label]
03668                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03669                     self.extinction.E\_BV = data\_tab[label]
03670                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'NAME'}:
03671                     self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = list(data\_tab[label])
03672                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'NAME2'}:
03673                     \textcolor{keywordflow}{try}:
03674                         names2 = list(data\_tab[label])
03675                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [n1 + \textcolor{stringliteral}{'\_'} + n2 \textcolor{keywordflow}{for} n1, n2 \textcolor{keywordflow}{in} zip(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}, names2)]
03676                     \textcolor{keywordflow}{except}:
03677                         \textcolor{keywordflow}{pass}
03678                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03679                     \textcolor{keywordflow}{if} data\_tab[label].dtype.type != np.string\_:
03680                         intens = data\_tab[label]
03681                         \textcolor{keywordflow}{try}:
03682                             error = data\_tab[label + \textcolor{stringliteral}{'e'}]
03683                             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03684                                 error = error / intens
03685                         \textcolor{keywordflow}{except}:
03686                             self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03687                             error = np.ones\_like(data\_tab[label]) * err\_default
03688                         \textcolor{keywordflow}{try}:
03689                             line2add = pn.EmissionLine(label=label, obsIntens=intens, obsError=error)
03690                         \textcolor{keywordflow}{except}:
03691                             self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03692                             \textcolor{keywordflow}{print} label, intens, error 
03693                         \textcolor{keywordflow}{try}:
03694                             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(line2add)
03695                             self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03696                         \textcolor{keywordflow}{except}:
03697                             self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03698                             \textcolor{keywordflow}{print} label, intens, error
03699                     \textcolor{keywordflow}{else}:
03700                         self.log\_.warn(\textcolor{stringliteral}{'Skipped \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03701             
03702         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_rows'}:
03703             hdr = f.readline()
03704             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = hdr.split(delimiter)[1:]
03705             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} =  [l.strip() \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}]
03706             data = f.readlines()
03707             \textcolor{keywordflow}{if} closeAfterUse:
03708                 f.close()
03709 
03710             labels = [dd.split(delimiter)[0].strip() \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data \textcolor{keywordflow}{if} len(dd.strip()) > 0]
03711             data\_tab = np.asarray([[dd.split(delimiter)[i + 1] \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data \textcolor{keywordflow}{if} len(dd.strip()) > 0] \textcolor{keywordflow}{for} i
       \textcolor{keywordflow}{in} np.arange(len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}))])
03712             data\_tab = data\_tab.astype(np.float32)
03713             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(labels):
03714                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03715                     self.extinction.cHbeta = data\_tab[:, i]
03716                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03717                     self.extinction.E\_BV = data\_tab[:, i]
03718                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03719                     intens = data\_tab[:, i]
03720                     \textcolor{keywordflow}{try}:
03721                         i\_error = labels.index(label + \textcolor{stringliteral}{'e'})
03722                         error = data\_tab[:, i\_error]
03723                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03724                             error = error / intens
03725                     \textcolor{keywordflow}{except}:
03726                         self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03727                         error = np.ones\_like(data\_tab[:, 1]) * err\_default
03728                     \textcolor{keywordflow}{try}:
03729                         line2add = pn.EmissionLine(label=label, obsIntens=intens, obsError=error)
03730                     \textcolor{keywordflow}{except}:
03731                         self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03732                         \textcolor{keywordflow}{print} label, intens, error 
03733                     \textcolor{keywordflow}{try}:
03734                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(line2add)
03735                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03736                     \textcolor{keywordflow}{except}:
03737                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03738                         \textcolor{keywordflow}{print} label, intens, error
03739                         
03740         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_rows\_err\_cols'}:
03741             
03742             \textcolor{keywordflow}{if} closeAfterUse:
03743                 f.close()
03744                 
03745             data\_tab = np.genfromtxt(obsFile, dtype=\textcolor{keywordtype}{None}, delimiter=delimiter, names=\textcolor{keyword}{True})
03746             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [name \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} data\_tab.dtype.names[1::] \textcolor{keywordflow}{if} name[0:3] != \textcolor{stringliteral}{'err'}]
03747             error\_names = [name \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} data\_tab.dtype.names \textcolor{keywordflow}{if} name[0:3] == \textcolor{stringliteral}{'err'}]
03748             \textcolor{keywordflow}{if} len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}) != len(error\_names):
03749                 pn.log\_.error(\textcolor{stringliteral}{'Number of columns for intensities <> number of columns for errors'},
03750                               calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03751                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03752             \textcolor{comment}{#names\_locations = [name in self.names for name in data\_tab.dtype.names]}
03753             \textcolor{comment}{#errors\_locations = [name[0:3] == 'err' for name in data\_tab.dtype.names]}
03754             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(data\_tab[\textcolor{stringliteral}{'LINE'}]):
03755                 label = label.strip()
03756                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03757                     self.extinction.cHbeta = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03758                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03759                     self.extinction.E\_BV = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03760                 \textcolor{keywordflow}{else}:
03761                     intens = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03762                     error = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} error\_names])
03763                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03764                         error = error / intens
03765                     \textcolor{keywordflow}{try}:
03766                         line2add = pn.EmissionLine(label=label, obsIntens=intens, obsError=error)
03767                     \textcolor{keywordflow}{except}:
03768                         self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03769                         \textcolor{keywordflow}{print} label, intens, error 
03770                     \textcolor{keywordflow}{try}:
03771                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a5f4b01dbeb8d50963fb7fa21b94bfc17}{addLine}(line2add)
03772                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03773                     \textcolor{keywordflow}{except}:
03774                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03775                         \textcolor{keywordflow}{print} label, intens, error
03776         
03777             
03778         \textcolor{keywordflow}{if} corrected:
03779             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}()
03780             
03781             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0f98ae4395e7dfa586bcd71d32e43f1}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!set\+All\+Errors@{set\+All\+Errors}}
\index{set\+All\+Errors@{set\+All\+Errors}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{set\+All\+Errors}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+pynebcore.\+Observation.\+set\+All\+Errors (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{err\+\_\+default}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0f98ae4395e7dfa586bcd71d32e43f1}
\begin{DoxyVerb}Set the relative uncertainty of all emission lines to a common constant value

Parameters:
    - err_default     default value of the relative uncertainty\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03934}{3934} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



References \hyperlink{pynebcore_8py_source_l03420}{pyneb.\+core.\+pynebcore.\+Observation.\+lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03934}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0f98ae4395e7dfa586bcd71d32e43f1}{03934}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0f98ae4395e7dfa586bcd71d32e43f1}{setAllErrors}(self, err\_default):
03935         \textcolor{stringliteral}{"""}
03936 \textcolor{stringliteral}{        Set the relative uncertainty of all emission lines to a common constant value}
03937 \textcolor{stringliteral}{        }
03938 \textcolor{stringliteral}{        Parameters:}
03939 \textcolor{stringliteral}{            - err\_default     default value of the relative uncertainty}
03940 \textcolor{stringliteral}{        }
03941 \textcolor{stringliteral}{        """}
03942         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03943             line.obs\_err = np.ones\_like(line.obs\_err) * err\_default
03944 
03945     
03946     
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!calling@{calling}}
\index{calling@{calling}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{calling}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+calling}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}


Definition at line \hyperlink{pynebcore_8py_source_l03419}{3419} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l03885}{pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+normalize()}, \hyperlink{logging_8py_source_l00059}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+add2log()}, \hyperlink{red__corr_8py_source_l00658}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+\_\+\+F99\+\_\+like()}, \hyperlink{_config_8py_source_l00086}{pyneb.\+utils.\+Config.\+\_\+\+Config.\+\_\+get\+\_\+\+Pypic\+Path()}, \hyperlink{logging_8py_source_l00051}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+pprint()}, \hyperlink{red__corr_8py_source_l00176}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+\_\+set\+\_\+law()}, \hyperlink{pn__chianti_8py_source_l00284}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Atom\+Chianti.\+\_\+test\+\_\+lev()}, \hyperlink{pn__chianti_8py_source_l00449}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}, \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03861}{pyneb.\+core.\+pynebcore.\+Observation.\+def\+\_\+\+E\+B\+V()}, \hyperlink{pynebcore_8py_source_l03452}{pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs()}, \hyperlink{red__corr_8py_source_l00211}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+get\+Corr()}, \hyperlink{manage__atomic__data_8py_source_l00297}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+get\+Data\+File()}, \hyperlink{pn__chianti_8py_source_l00346}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Atom\+Chianti.\+get\+Energy()}, \hyperlink{pynebcore_8py_source_l03543}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line()}, \hyperlink{pn__chianti_8py_source_l00484}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+get\+Omega()}, \hyperlink{pn__chianti_8py_source_l00461}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+get\+Omega\+Array()}, \hyperlink{manage__atomic__data_8py_source_l00034}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+get\+Predefined\+Data\+File\+Dict()}, \hyperlink{pynebcore_8py_source_l03562}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Sorted\+Lines()}, \hyperlink{red__corr_8py_source_l00303}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+plot()}, \hyperlink{plot_atomic_data_8py_source_l00116}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+A()}, \hyperlink{plot_atomic_data_8py_source_l00188}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+All\+A()}, \hyperlink{plot_atomic_data_8py_source_l00372}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+Omega()}, \hyperlink{plot_atomic_data_8py_source_l00261}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+Rel\+A()}, \hyperlink{manage__atomic__data_8py_source_l00431}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+print\+All\+Sources()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}, \hyperlink{manage__atomic__data_8py_source_l00380}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+set\+Data\+File()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+timer()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!corrected@{corrected}}
\index{corrected@{corrected}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{corrected}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+corrected}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}


Definition at line \hyperlink{pynebcore_8py_source_l03423}{3423} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!extinction@{extinction}}
\index{extinction@{extinction}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{extinction}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+extinction}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}


Red\+Cor object. 



Definition at line \hyperlink{pynebcore_8py_source_l03422}{3422} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!lines@{lines}}
\index{lines@{lines}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{lines}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+lines}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}


Definition at line \hyperlink{pynebcore_8py_source_l03420}{3420} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l03885}{pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+normalize()}, \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03809}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Error()}, \hyperlink{pynebcore_8py_source_l03782}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Intens()}, \hyperlink{pynebcore_8py_source_l03543}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line()}, \hyperlink{pynebcore_8py_source_l03562}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Sorted\+Lines()}, \hyperlink{pynebcore_8py_source_l03578}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Unique\+Atoms()}, \hyperlink{pynebcore_8py_source_l03493}{pyneb.\+core.\+pynebcore.\+Observation.\+line\+Labels()}, \hyperlink{pynebcore_8py_source_l03502}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+lines()}, \hyperlink{pynebcore_8py_source_l03520}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs()}, \hyperlink{pynebcore_8py_source_l03511}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+valid\+\_\+lines()}, \hyperlink{pynebcore_8py_source_l03836}{pyneb.\+core.\+pynebcore.\+Observation.\+print\+Intens()}, and \hyperlink{pynebcore_8py_source_l03934}{pyneb.\+core.\+pynebcore.\+Observation.\+set\+All\+Errors()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!log\+\_\+@{log\+\_\+}}
\index{log\+\_\+@{log\+\_\+}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{log\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+log\+\_\+}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}


myloggin object 



Definition at line \hyperlink{pynebcore_8py_source_l03418}{3418} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{logging_8py_source_l00059}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+add2log()}, \hyperlink{logging_8py_source_l00157}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+debug()}, \hyperlink{logging_8py_source_l00149}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+errors()}, \hyperlink{logging_8py_source_l00133}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+messages()}, \hyperlink{logging_8py_source_l00165}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+timer()}, \hyperlink{logging_8py_source_l00141}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+warnings()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+timer()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{}\index{pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}!names@{names}}
\index{names@{names}!pyneb\+::core\+::pynebcore\+::\+Observation@{pyneb\+::core\+::pynebcore\+::\+Observation}}
\subsubsection[{names}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+pynebcore.\+Observation.\+names}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}


Definition at line \hyperlink{pynebcore_8py_source_l03421}{3421} of file \hyperlink{pynebcore_8py_source}{pynebcore.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l03947}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Monte\+Carlo\+Obs()}, \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03809}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Error()}, \hyperlink{pynebcore_8py_source_l03782}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Intens()}, \hyperlink{pynebcore_8py_source_l03536}{pyneb.\+core.\+pynebcore.\+Observation.\+n\+\_\+obs\+\_\+origin()}, \hyperlink{pynebcore_8py_source_l03836}{pyneb.\+core.\+pynebcore.\+Observation.\+print\+Intens()}, and \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pyneb/core/\hyperlink{pynebcore_8py}{pynebcore.\+py}\end{DoxyCompactItemize}
