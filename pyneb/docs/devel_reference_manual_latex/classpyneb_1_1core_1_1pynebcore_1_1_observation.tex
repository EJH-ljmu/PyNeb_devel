\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation}{\section{pyneb.\-core.\-pynebcore.\-Observation Class Reference}
\label{classpyneb_1_1core_1_1pynebcore_1_1_observation}\index{pyneb.\-core.\-pynebcore.\-Observation@{pyneb.\-core.\-pynebcore.\-Observation}}
}


Inherits object.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{add\-Line}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{fill\-Obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{add\-Obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{line\-Labels}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{n\-\_\-lines}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aff6380f5f386282310ec1937b683e25f}{n\-\_\-valid\-\_\-lines}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\-\_\-obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0044049cd44807364a0c0957e5c3740}{n\-\_\-obs\-\_\-origin}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{get\-Line}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{get\-Sorted\-Lines}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a786ab364c468b851c4438354235e988a}{get\-Unique\-Atoms}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{read\-Data}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{get\-Intens}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{get\-Error}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{print\-Intens}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{def\-\_\-\-E\-B\-V}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correct\-Data}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2c0cec305d120daeeb9857c979fbec85}{set\-All\-Errors}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{add\-Monte\-Carlo\-Obs}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{log\-\_\-}
\begin{DoxyCompactList}\small\item\em myloggin object \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}
\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction}
\begin{DoxyCompactList}\small\item\em Red\-Cor object. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{\-\_\-\-\_\-normalize}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line \hyperlink{pynebcore_8py_source_l03513}{3513} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs\-File = {\ttfamily None}, }
\item[{}]{file\-Format = {\ttfamily 'lines\-\_\-in\-\_\-cols'}, }
\item[{}]{delimiter = {\ttfamily None}, }
\item[{}]{err\-\_\-default = {\ttfamily 0.10}, }
\item[{}]{corrected = {\ttfamily False}, }
\item[{}]{err\-Is\-Relative = {\ttfamily True}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}
\begin{DoxyVerb}Define the observation object, which is a collection of observated intensities of one or more
emission lines for one or more objects, with the corresponding errors.
The observed intensities are read from a file or filled in by the addLine method.
Includes an extinction correction object (pyneb.RedCorr) as Observation.extinction.

Parameters:
    - obsFile       name of the file containing the observations. May be a file object or a file name 
    - fileFormat    lines_in_cols or lines_in_row depending on how the wavelengths are ordered 
                (default: lines_in_cols)
    - delimiter     character separating entries 
    - err_default   default uncertainty assumed on intensities. Will overwrite the error from the file.
    - corrected     Boolean. True if the observed intensities are already corrected from extinction
                (default: False)
    - errIsRelative Boolean. True if the errors are relative to the intensities, False if they
                are in the same unit as the intensity (default: True)

Example:
    Read a file containing corrected intensities:
obs = pn.Observation('obs.dat', corrected = True)
    to obtain a dictionary with the observed  corrected intensities:
i_cor = {label: obs.getLine(label = label).corrIntens for label in obs.lineLabels}\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03515}{3515} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03515}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a4f72b542ac93dd5376e05c7c44015409}{03515} 
03516                  corrected=\textcolor{keyword}{False}, errIsRelative=\textcolor{keyword}{True}):
03517         \textcolor{stringliteral}{"""}
03518 \textcolor{stringliteral}{        Define the observation object, which is a collection of observated intensities of one or more}
03519 \textcolor{stringliteral}{        emission lines for one or more objects, with the corresponding errors.}
03520 \textcolor{stringliteral}{        The observed intensities are read from a file or filled in by the addLine method.}
03521 \textcolor{stringliteral}{        Includes an extinction correction object (pyneb.RedCorr) as Observation.extinction.}
03522 \textcolor{stringliteral}{        }
03523 \textcolor{stringliteral}{        Parameters:}
03524 \textcolor{stringliteral}{            - obsFile       name of the file containing the observations. May be a file object or a file
       name }
03525 \textcolor{stringliteral}{            - fileFormat    lines\_in\_cols or lines\_in\_row depending on how the wavelengths are ordered }
03526 \textcolor{stringliteral}{                                (default: lines\_in\_cols)}
03527 \textcolor{stringliteral}{            - delimiter     character separating entries }
03528 \textcolor{stringliteral}{            - err\_default   default uncertainty assumed on intensities. Will overwrite the error from the
       file.}
03529 \textcolor{stringliteral}{            - corrected     Boolean. True if the observed intensities are already corrected from extinction}
03530 \textcolor{stringliteral}{                                (default: False)}
03531 \textcolor{stringliteral}{            - errIsRelative Boolean. True if the errors are relative to the intensities, False if they}
03532 \textcolor{stringliteral}{                                are in the same unit as the intensity (default: True)}
03533 \textcolor{stringliteral}{}
03534 \textcolor{stringliteral}{        Example:}
03535 \textcolor{stringliteral}{            Read a file containing corrected intensities:}
03536 \textcolor{stringliteral}{                obs = pn.Observation('obs.dat', corrected = True)}
03537 \textcolor{stringliteral}{            to obtain a dictionary with the observed  corrected intensities:}
03538 \textcolor{stringliteral}{                i\_cor = \{label: obs.getLine(label = label).corrIntens for label in obs.lineLabels\}}
03539 \textcolor{stringliteral}{        }
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03540}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{03540} \textcolor{stringliteral}{        """}        
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03541}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{03541}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{log\_} = log\_ 
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03542}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{03542}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling} = \textcolor{stringliteral}{'Observation'}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03543}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{03543}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} = []
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03544}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{03544}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = []
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03545}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{03545}         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction} = RedCorr()
03546         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected} = corrected
03547         \textcolor{keywordflow}{if} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}:
03548             self.extinction.law = \textcolor{stringliteral}{'No correction'}
03549         \textcolor{keywordflow}{if} obsFile \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03550             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{readData}(obsFile=obsFile, fileFormat=fileFormat, delimiter=delimiter,
                          err\_default=err\_default, corrected=corrected, errIsRelative=errIsRelative)
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!\-\_\-\-\_\-normalize@{\-\_\-\-\_\-normalize}}
\index{\-\_\-\-\_\-normalize@{\-\_\-\-\_\-normalize}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{\-\_\-\-\_\-normalize}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-normalize (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily 'H1\-\_\-4861A'}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}
\begin{DoxyVerb}Normalize the line intensities to a reference line (Hbeta by default).
Not yet implemented\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l04007}{4007} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l03665}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line()}, and \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l04007}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{04007} 
04008     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a04ce20073b375a6dd7d4282933adbd93}{\_\_normalize}(self, label='H1\_4861A'):
04009         \textcolor{stringliteral}{"""}
04010 \textcolor{stringliteral}{        Normalize the line intensities to a reference line (Hbeta by default).}
04011 \textcolor{stringliteral}{        Not yet implemented}
04012 \textcolor{stringliteral}{        }
04013 \textcolor{stringliteral}{        """}
04014         \textcolor{keywordflow}{if} \textcolor{stringliteral}{"="} \textcolor{keywordflow}{in} label:
04015             line\_label, factor = label.split(\textcolor{stringliteral}{'='})
04016             factor = np.float(factor)
04017         \textcolor{keywordflow}{else}:
04018             line\_label = label
04019             factor = 1.
04020         line\_norm = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=line\_label) 
04021         \textcolor{keywordflow}{if} line\_norm \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
04022             log\_.warn(\textcolor{stringliteral}{'No normalization possible as \{0\} not found'}.format(line\_label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
04023             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
04024         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
04025             line.\_obsIntens\_n = line.obsIntens / (line\_norm.obsIntens * factor)
04026             line.\_unit = line\_label.strip()
04027     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!add\-Line@{add\-Line}}
\index{add\-Line@{add\-Line}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{add\-Line}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}
\begin{DoxyVerb}Add a line to an existing observation

Parameters:
    - line    the selected emission line (an instance of EmissionLine)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03558}{3558} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03386}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-corrected}, and \hyperlink{pynebcore_8py_source_l03545}{pyneb.\-core.\-pynebcore.\-Observation.\-corrected}.



Referenced by \hyperlink{pynebcore_8py_source_l03574}{pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs()}, and \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03558}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{03558} 
03559     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(self, line):
03560         \textcolor{stringliteral}{"""}
03561 \textcolor{stringliteral}{        Add a line to an existing observation}
03562 \textcolor{stringliteral}{}
03563 \textcolor{stringliteral}{        Parameters:}
03564 \textcolor{stringliteral}{            - line    the selected emission line (an instance of EmissionLine)}
03565 \textcolor{stringliteral}{            }
03566 \textcolor{stringliteral}{        """}
03567         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(line, EmissionLine):            
03568             self.log\_.error(\textcolor{stringliteral}{'Trying to add an inappropriate record to observations'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03569             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03570         \textcolor{keywordflow}{if} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{corrected}:
03571             line.corrected = \textcolor{keyword}{True}
03572             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(line)
03573         self.lines.append(line)

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!add\-Monte\-Carlo\-Obs@{add\-Monte\-Carlo\-Obs}}
\index{add\-Monte\-Carlo\-Obs@{add\-Monte\-Carlo\-Obs}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{add\-Monte\-Carlo\-Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{N = {\ttfamily 0}, }
\item[{}]{i\-\_\-obs = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}
\begin{DoxyVerb}Adding MonteCarlo random-gauss values of fake observations to an obs object.
The names of the fake observations will be OriginalName-MC-n, n ranging from 0 to N-1

Parameters:
N: number of new observations to be added for each original observation.
i_obs: used in case only a given observations needs to be treated
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l04069}{4069} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}, \hyperlink{pynebcore_8py_source_l03469}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l03931}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Error()}, \hyperlink{pynebcore_8py_source_l03904}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Intens()}, \hyperlink{pynebcore_8py_source_l03615}{pyneb.\-core.\-pynebcore.\-Observation.\-line\-Labels()}, \hyperlink{pynebcore_8py_source_l03624}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-lines()}, \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l04069}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{04069} 
04070     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{addMonteCarloObs}(self, N=0, i\_obs=None):
04071         \textcolor{stringliteral}{"""}
04072 \textcolor{stringliteral}{        Adding MonteCarlo random-gauss values of fake observations to an obs object.}
04073 \textcolor{stringliteral}{        The names of the fake observations will be OriginalName-MC-n, n ranging from 0 to N-1}
04074 \textcolor{stringliteral}{        }
04075 \textcolor{stringliteral}{        Parameters:}
04076 \textcolor{stringliteral}{        N: number of new observations to be added for each original observation.}
04077 \textcolor{stringliteral}{        i\_obs: used in case only a given observations needs to be treated}
04078 \textcolor{stringliteral}{        """}
04079         n\_lines = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{n\_lines}
04080         n\_obs = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs}
04081         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
04082             log\_.message(\textcolor{stringliteral}{'Entering'}, calling=\textcolor{stringliteral}{'addMonteCarloObs'})
04083             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} xrange(n\_obs):
04084                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a8005a1ad8167e96e117d4b81d6e919ff}{addMonteCarloObs}(i\_obs=i, N=N)
04085             log\_.message(\textcolor{stringliteral}{'Leaving'}, calling=\textcolor{stringliteral}{'addMonteCarloObs'})
04086         \textcolor{keywordflow}{else}:
04087             intens = np.array([self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{getIntens}()[label] \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{lineLabels}])[:,i\_obs] \textcolor{comment}{# n\_lines}
04088             error = np.array([self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{getError}()[label] \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{lineLabels}])[:,i\_obs]
04089             all\_new\_obs = np.random.standard\_normal((N, n\_lines))
04090             
04091             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} xrange(N):
04092                 new\_obs = intens * (all\_new\_obs[i,:] * error + 1)
04093                 new\_obs[new\_obs < 0.] = 0.
04094                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{addObs}(\textcolor{stringliteral}{'\{0\}-MC-\{1\}'}.format(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}[i\_obs], i), new\_obs, error)
04095     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!add\-Obs@{add\-Obs}}
\index{add\-Obs@{add\-Obs}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{add\-Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name, }
\item[{}]{new\-Obs\-Intens, }
\item[{}]{new\-Obs\-Error = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}
\begin{DoxyVerb}Add an observation (i.e. a list of intensities corresponding to a new object) to the existing set.

Parameters:
    - name            name of the new observation/object
    - newObsIntens    value(s) of the line intensities. Length must match Observation.n_lines\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03589}{3589} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}, \hyperlink{pynebcore_8py_source_l03624}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-lines()}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03589}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{03589} 
03590     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a301e67ff50a467e97cd929039607a5d0}{addObs}(self, name, newObsIntens, newObsError=None):
03591         \textcolor{stringliteral}{"""}
03592 \textcolor{stringliteral}{        Add an observation (i.e. a list of intensities corresponding to a new object) to the existing set.}
03593 \textcolor{stringliteral}{}
03594 \textcolor{stringliteral}{        Parameters:}
03595 \textcolor{stringliteral}{            - name            name of the new observation/object}
03596 \textcolor{stringliteral}{            - newObsIntens    value(s) of the line intensities. Length must match Observation.n\_lines}
03597 \textcolor{stringliteral}{                }
03598 \textcolor{stringliteral}{        """}
03599         \textcolor{keywordflow}{if} np.ndim(newObsIntens) == 0:
03600             newObsIntens = [newObsIntens]
03601         \textcolor{keywordflow}{if} len(newObsIntens) != self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{n\_lines}:
03602             self.log\_.error(\textcolor{stringliteral}{'Length of observations to be added does not match n\_lines = \{0\}'}.format(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{n\_lines}),
03603                             calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03604             \textcolor{keywordflow}{return}
03605         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03606             self.log\_.error(\textcolor{stringliteral}{'Name \{0\} already exists'}.format(name))
03607             \textcolor{keywordflow}{return}
03608         \textcolor{keywordflow}{for} i, line \textcolor{keywordflow}{in} enumerate(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}):
03609             \textcolor{keywordflow}{if} newObsError \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03610                 line.addObs(newObsIntens[i])
03611             \textcolor{keywordflow}{else}:
03612                 line.addObs(newObsIntens[i], newObsError[i])
03613         self.names.append(name)

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!correct\-Data@{correct\-Data}}
\index{correct\-Data@{correct\-Data}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{correct\-Data}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line = {\ttfamily None}, }
\item[{}]{norm\-Wave = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}
\begin{DoxyVerb}Correct the line intensities with the correction computed with the RedCorr class (extinction.py)
The result is stored in line.corrIntens (corrected intensity in absolute units).\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l04028}{4028} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03544}{pyneb.\-core.\-pynebcore.\-Observation.\-extinction}, and \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.



Referenced by \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, and \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l04028}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{04028} 
04029     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(self, line=None, normWave=None):
04030         \textcolor{stringliteral}{"""}
04031 \textcolor{stringliteral}{        Correct the line intensities with the correction computed with the RedCorr class (extinction.py)}
04032 \textcolor{stringliteral}{        The result is stored in line.corrIntens (corrected intensity in absolute units).}
04033 \textcolor{stringliteral}{}
04034 \textcolor{stringliteral}{        """}
04035         \textcolor{keywordflow}{if} line \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
04036             line = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}
04037         \textcolor{keywordflow}{if} np.ndim(line) != 0:
04038             \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} line:
04039                 self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}(l, normWave=normWave)
04040         \textcolor{keywordflow}{else}:
04041             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(line, EmissionLine):
04042                 log\_.error(\textcolor{stringliteral}{'Trying to correct something that is not a line'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
04043                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}  
04044             line.correctIntens(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{extinction}, normWave=normWave)
04045 
04046             \textcolor{stringliteral}{"""            }
04047 \textcolor{stringliteral}{            # the following is commented for now, we'll see latter how to implement normalized intensities.}
04048 \textcolor{stringliteral}{            if line.\_unit is not None:}
04049 \textcolor{stringliteral}{                try:}
04050 \textcolor{stringliteral}{                    line\_norm = self.getLine(label=line.\_unit)}
04051 \textcolor{stringliteral}{                    line.\_corrIntens\_n = line.obsIntens\_n * self.extinction.getCorr(line.wave,
       line\_norm.wave)}
04052 \textcolor{stringliteral}{                except:}
04053 \textcolor{stringliteral}{                    log\_.warn('No normalized correction for \{0\}'.format(line), calling='
      Observation.correctData')}
04054 \textcolor{stringliteral}{                    line.\_corrIntens\_n = None}
04055 \textcolor{stringliteral}{            """}
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!def\-\_\-\-E\-B\-V@{def\-\_\-\-E\-B\-V}}
\index{def\-\_\-\-E\-B\-V@{def\-\_\-\-E\-B\-V}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{def\-\_\-\-E\-B\-V}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-def\-\_\-\-E\-B\-V (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label1 = {\ttfamily \char`\"{}H1\-\_\-6563A\char`\"{}}, }
\item[{}]{label2 = {\ttfamily \char`\"{}H1\-\_\-4861A\char`\"{}}, }
\item[{}]{r\-\_\-theo = {\ttfamily 2.85}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}
\begin{DoxyVerb}Define the extinction parameter using the ratio of 2 lines.
Calls extinction.setCorr to set the EBV and cHbeta according to the parameters.
Once this is done, one may call correctData to compute the EmissionLine.corrIntens

Parameters:
    - label1 and label2 [EmissionLine.label] observed line whose intensities are used
    - r_theo [float] theoretical line ratio\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03983}{3983} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, and \hyperlink{pynebcore_8py_source_l03665}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03983}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{03983} 
03984     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ab01150e82809bd712a1b1f09d250db94}{def\_EBV}(self, label1="H1\_6563A", label2="H1\_4861A", r\_theo=2.85):
03985         \textcolor{stringliteral}{"""}
03986 \textcolor{stringliteral}{        Define the extinction parameter using the ratio of 2 lines.}
03987 \textcolor{stringliteral}{        Calls extinction.setCorr to set the EBV and cHbeta according to the parameters.}
03988 \textcolor{stringliteral}{        Once this is done, one may call correctData to compute the EmissionLine.corrIntens}
03989 \textcolor{stringliteral}{        }
03990 \textcolor{stringliteral}{        Parameters:}
03991 \textcolor{stringliteral}{            - label1 and label2 [EmissionLine.label] observed line whose intensities are used}
03992 \textcolor{stringliteral}{            - r\_theo [float] theoretical line ratio}
03993 \textcolor{stringliteral}{}
03994 \textcolor{stringliteral}{        """}
03995         line1 = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=label1)
03996         line2 = self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(label=label2)
03997         \textcolor{keywordflow}{if} line1 \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03998             log\_.error(\textcolor{stringliteral}{'\{0\} is not a valid label or is not observed'}.format(line1), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03999             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
04000         \textcolor{keywordflow}{if} line2 \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
04001             log\_.error(\textcolor{stringliteral}{'\{0\} is not a valid label or is not observed'}.format(line2), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
04002             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
04003 
04004         obs\_over\_theo = (line1.obsIntens / line2.obsIntens) / r\_theo 
04005         self.extinction.setCorr(obs\_over\_theo, line1.wave, line2.wave)
04006         
 
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!fill\-Obs@{fill\-Obs}}
\index{fill\-Obs@{fill\-Obs}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{fill\-Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{line\-Label, }
\item[{}]{default = {\ttfamily np.nan}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}
\begin{DoxyVerb}Create a fake observation of a given line, filled with a given value.
Parameters:
    - lineLabel: the label of the new line. If the label corresponds to an already 
defined observation, nothing is done and a warning is issued.
    - default: the value of the fake observations. Default is np.nan
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03574}{3574} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}, \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l03615}{pyneb.\-core.\-pynebcore.\-Observation.\-line\-Labels()}, and \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03574}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{03574} 
03575     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a106a6b30219b5d9778713936c2a3064d}{fillObs}(self, lineLabel, default=np.nan):
03576         \textcolor{stringliteral}{"""}
03577 \textcolor{stringliteral}{        Create a fake observation of a given line, filled with a given value.}
03578 \textcolor{stringliteral}{        Parameters:}
03579 \textcolor{stringliteral}{            - lineLabel: the label of the new line. If the label corresponds to an already }
03580 \textcolor{stringliteral}{                defined observation, nothing is done and a warning is issued.}
03581 \textcolor{stringliteral}{            - default: the value of the fake observations. Default is np.nan}
03582 \textcolor{stringliteral}{        """}
03583 
03584         \textcolor{keywordflow}{if} lineLabel \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{lineLabels}:
03585             newLine = \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_emission_line}{EmissionLine}(label=lineLabel, obsIntens=default*np.ones(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs}))
03586             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(newLine)
03587         \textcolor{keywordflow}{else}:
03588             log\_.warn(\textcolor{stringliteral}{'Line \{0\} already in obs'}.format(lineLabel), calling = self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!get\-Error@{get\-Error}}
\index{get\-Error@{get\-Error}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{get\-Error}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-get\-Error (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\-Obs = {\ttfamily False}, }
\item[{}]{obs\-Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}
\begin{DoxyVerb}Return the line intensity error in form of a dictionary with line labels as keys.

Parameters:
    - returnObs  if False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName    name of an observation. If not set or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03931}{3931} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}, \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03931}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{03931} 
03932     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a96cf2360b9b568a675d2c8177d47b3d2}{getError}(self, returnObs=False, obsName=None):
03933         \textcolor{stringliteral}{"""}
03934 \textcolor{stringliteral}{        Return the line intensity error in form of a dictionary with line labels as keys.}
03935 \textcolor{stringliteral}{        }
03936 \textcolor{stringliteral}{        Parameters:}
03937 \textcolor{stringliteral}{            - returnObs  if False (default), prints the corrected values. }
03938 \textcolor{stringliteral}{                            If True, prints the observed value. }
03939 \textcolor{stringliteral}{            - obsName    name of an observation. If not set or None, all the observations are printed}
03940 \textcolor{stringliteral}{            }
03941 \textcolor{stringliteral}{        """}
03942         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03943             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03944                 obsIndex = self.names.index(obsName)
03945             \textcolor{keywordflow}{else}:
03946                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03947                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03948         \textcolor{keywordflow}{else}:
03949             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs})
03950         to\_return = \{\}
03951         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03952             \textcolor{keywordflow}{if} returnObs:
03953                 to\_return[line.label] = line.obsError[obsIndex]
03954             \textcolor{keywordflow}{else}:
03955                 to\_return[line.label] = line.corrError[obsIndex]
03956         \textcolor{keywordflow}{return} to\_return
03957     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!get\-Intens@{get\-Intens}}
\index{get\-Intens@{get\-Intens}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{get\-Intens}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-get\-Intens (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\-Obs = {\ttfamily False}, }
\item[{}]{obs\-Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}
\begin{DoxyVerb}Return the line intensities in form of a dictionary with line labels as keys.

Parameters:
    - returnObs  Boolean. If False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName    name of an observation. If not set or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03904}{3904} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}, \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03904}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{03904} 
03905     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_ac380b22660411926b90f935f5123494b}{getIntens}(self, returnObs=False, obsName=None):
03906         \textcolor{stringliteral}{"""}
03907 \textcolor{stringliteral}{        Return the line intensities in form of a dictionary with line labels as keys.}
03908 \textcolor{stringliteral}{        }
03909 \textcolor{stringliteral}{        Parameters:}
03910 \textcolor{stringliteral}{            - returnObs  Boolean. If False (default), prints the corrected values. }
03911 \textcolor{stringliteral}{                            If True, prints the observed value. }
03912 \textcolor{stringliteral}{            - obsName    name of an observation. If not set or None, all the observations are printed}
03913 \textcolor{stringliteral}{}
03914 \textcolor{stringliteral}{        """}
03915         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03916             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03917                 obsIndex = self.names.index(obsName)
03918             \textcolor{keywordflow}{else}:
03919                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03920                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03921         \textcolor{keywordflow}{else}:
03922             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs})
03923         to\_return = \{\}
03924         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03925             \textcolor{keywordflow}{if} returnObs:
03926                 to\_return[line.label] = line.obsIntens[obsIndex]
03927             \textcolor{keywordflow}{else}:
03928                 to\_return[line.label] = line.corrIntens[obsIndex]
03929         \textcolor{keywordflow}{return} to\_return
03930     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!get\-Line@{get\-Line}}
\index{get\-Line@{get\-Line}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{get\-Line}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{elem = {\ttfamily None}, }
\item[{}]{spec = {\ttfamily None}, }
\item[{}]{wave = {\ttfamily None}, }
\item[{}]{label = {\ttfamily None}, }
\item[{}]{blend = {\ttfamily False}, }
\item[{}]{i = {\ttfamily None}, }
\item[{}]{j = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}
\begin{DoxyVerb}Return the lines corresponding to elem-spec-wave or to the label.\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03665}{3665} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l03256}{pyneb.\-core.\-pynebcore.\-get\-Line\-Label()}, and \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.



Referenced by \hyperlink{pynebcore_8py_source_l04007}{pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-normalize()}, and \hyperlink{pynebcore_8py_source_l03983}{pyneb.\-core.\-pynebcore.\-Observation.\-def\-\_\-\-E\-B\-V()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03665}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{03665} 
03666     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a9994c84a500a6a31a5376ed6c7782ce3}{getLine}(self, elem=None, spec=None, wave=None, label=None, blend=False, i=None, j=None):
03667         \textcolor{stringliteral}{"""}
03668 \textcolor{stringliteral}{        Return the lines corresponding to elem-spec-wave or to the label.}
03669 \textcolor{stringliteral}{        }
03670 \textcolor{stringliteral}{        """}
03671         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
03672             label = \hyperlink{namespacepyneb_1_1core_1_1pynebcore_a14c882fc308d727f77ed33c1f56212e4}{getLineLabel}(elem, spec, wave, blend)[2]
03673         lines = [line \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} \textcolor{keywordflow}{if} line.label == label.strip()]
03674         n\_lines = len(lines)
03675         \textcolor{keywordflow}{if} n\_lines == 0:
03676             self.log\_.warn(\textcolor{stringliteral}{'No line for \{0\} from \{1\}\{2\} at wavelength \{3\} (blend=\{4\})'}.format(label, elem, 
      spec, wave, blend),
03677                            calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03678             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03679         \textcolor{keywordflow}{elif} n\_lines == 1:
03680             \textcolor{keywordflow}{return} lines[0]
03681         \textcolor{keywordflow}{else}:
03682             \textcolor{keywordflow}{return} np.asarray(lines)
03683  

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!get\-Sorted\-Lines@{get\-Sorted\-Lines}}
\index{get\-Sorted\-Lines@{get\-Sorted\-Lines}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{get\-Sorted\-Lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-get\-Sorted\-Lines (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{crit = {\ttfamily 'atom'}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}
\begin{DoxyVerb}Return a list of lines sorted by atoms or wavelengths.

Parameters:
    - crit   criterion to sort the line list ('atom' [default] or 'wave')\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03684}{3684} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, and \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03684}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{03684} 
03685     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2b18c06854c5492b53b7e91311bf1cff}{getSortedLines}(self, crit='atom'):
03686         \textcolor{stringliteral}{"""}
03687 \textcolor{stringliteral}{        Return a list of lines sorted by atoms or wavelengths.}
03688 \textcolor{stringliteral}{        }
03689 \textcolor{stringliteral}{        Parameters:}
03690 \textcolor{stringliteral}{            - crit   criterion to sort the line list ('atom' [default] or 'wave')}
03691 \textcolor{stringliteral}{}
03692 \textcolor{stringliteral}{        """}
03693         \textcolor{keywordflow}{if} crit == \textcolor{stringliteral}{'atom'}:
03694             \textcolor{keywordflow}{return} sorted(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}, key=\textcolor{keyword}{lambda} line: line.atom + str(line.wave))
03695         \textcolor{keywordflow}{elif} crit == \textcolor{stringliteral}{'wave'}:
03696             \textcolor{keywordflow}{return} sorted(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}, key=\textcolor{keyword}{lambda} line: line.wave)
03697         \textcolor{keywordflow}{else}:
03698             self.log\_.error(\textcolor{stringliteral}{'crit = \{0\} is not valid'}.format(crit), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling} + \textcolor{stringliteral}{'.getSortedLines'})
03699 
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a786ab364c468b851c4438354235e988a}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!get\-Unique\-Atoms@{get\-Unique\-Atoms}}
\index{get\-Unique\-Atoms@{get\-Unique\-Atoms}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{get\-Unique\-Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-get\-Unique\-Atoms (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a786ab364c468b851c4438354235e988a}
\begin{DoxyVerb}Return a numpy.ndarray of the atoms of the observed lines. If an atom emits 
more than one line, it is returned only once (numpy.unique is applied 
to the list before returning).\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03700}{3700} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}, and \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03700}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a786ab364c468b851c4438354235e988a}{03700} 
03701     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a786ab364c468b851c4438354235e988a}{getUniqueAtoms}(self):
03702         \textcolor{stringliteral}{"""}
03703 \textcolor{stringliteral}{        Return a numpy.ndarray of the atoms of the observed lines. If an atom emits }
03704 \textcolor{stringliteral}{        more than one line, it is returned only once (numpy.unique is applied }
03705 \textcolor{stringliteral}{        to the list before returning).}
03706 \textcolor{stringliteral}{}
03707 \textcolor{stringliteral}{        """}
03708         \textcolor{keywordflow}{return} np.unique([l.atom \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])
03709 
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!line\-Labels@{line\-Labels}}
\index{line\-Labels@{line\-Labels}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{line\-Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-line\-Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}
\begin{DoxyVerb}Property
Array of labels of the lines \end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03615}{3615} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}, and \hyperlink{pynebcore_8py_source_l03574}{pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03615}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{03615} 
03616     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a6ec53301ec68e138d4347f501ff7f711}{lineLabels}(self):
03617         \textcolor{stringliteral}{"""}
03618 \textcolor{stringliteral}{        Property}
03619 \textcolor{stringliteral}{        Array of labels of the lines }
03620 \textcolor{stringliteral}{        }
03621 \textcolor{stringliteral}{        """}
03622         \textcolor{keywordflow}{return} np.asarray([line.label \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])   

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!n\-\_\-lines@{n\-\_\-lines}}
\index{n\-\_\-lines@{n\-\_\-lines}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{n\-\_\-lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-lines (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}
\begin{DoxyVerb}Property
Number of lines\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03624}{3624} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}, and \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03624}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{03624} 
03625     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a784301f3cabf9c7dbe4e7dcef0700ae8}{n\_lines}(self):
03626         \textcolor{stringliteral}{"""}
03627 \textcolor{stringliteral}{        Property}
03628 \textcolor{stringliteral}{        Number of lines}
03629 \textcolor{stringliteral}{        }
03630 \textcolor{stringliteral}{        """}
03631         \textcolor{keywordflow}{return} len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines})

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!n\-\_\-obs@{n\-\_\-obs}}
\index{n\-\_\-obs@{n\-\_\-obs}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{n\-\_\-obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}
\begin{DoxyVerb}Property
Number of observations. If the number of observations varies from one line to the other,
    returns the number of observations for each line as an array.\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03642}{3642} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}, \hyperlink{pynebcore_8py_source_l03574}{pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs()}, \hyperlink{pynebcore_8py_source_l03931}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Error()}, \hyperlink{pynebcore_8py_source_l03904}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Intens()}, and \hyperlink{pynebcore_8py_source_l03958}{pyneb.\-core.\-pynebcore.\-Observation.\-print\-Intens()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03642}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{03642} 
03643     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs}(self):
03644         \textcolor{stringliteral}{"""}
03645 \textcolor{stringliteral}{        Property}
03646 \textcolor{stringliteral}{        Number of observations. If the number of observations varies from one line to the other,}
03647 \textcolor{stringliteral}{            returns the number of observations for each line as an array.}
03648 \textcolor{stringliteral}{            }
03649 \textcolor{stringliteral}{        """}
03650         n\_obs = np.asarray([l.obsIntens.size \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}])
03651         \textcolor{keywordflow}{for} n \textcolor{keywordflow}{in} n\_obs:
03652             \textcolor{keywordflow}{if} n != n\_obs[0]:
03653                 \textcolor{keywordflow}{return} n\_obs
03654                 
03655         \textcolor{keywordflow}{return} n\_obs[0]
03656     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0044049cd44807364a0c0957e5c3740}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!n\-\_\-obs\-\_\-origin@{n\-\_\-obs\-\_\-origin}}
\index{n\-\_\-obs\-\_\-origin@{n\-\_\-obs\-\_\-origin}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{n\-\_\-obs\-\_\-origin}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs\-\_\-origin (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0044049cd44807364a0c0957e5c3740}
\begin{DoxyVerb}Property
Number of observations which are not from MonteCarlo (i.e. without -MC- in the name)
\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03658}{3658} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03658}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0044049cd44807364a0c0957e5c3740}{03658} 
03659     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa0044049cd44807364a0c0957e5c3740}{n\_obs\_origin}(self):
03660         \textcolor{stringliteral}{"""}
03661 \textcolor{stringliteral}{        Property}
03662 \textcolor{stringliteral}{        Number of observations which are not from MonteCarlo (i.e. without -MC- in the name)}
03663 \textcolor{stringliteral}{        """}
03664         \textcolor{keywordflow}{return} len([n \textcolor{keywordflow}{for} n \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} \textcolor{keywordflow}{if} \textcolor{stringliteral}{'-MC-'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} n])

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aff6380f5f386282310ec1937b683e25f}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!n\-\_\-valid\-\_\-lines@{n\-\_\-valid\-\_\-lines}}
\index{n\-\_\-valid\-\_\-lines@{n\-\_\-valid\-\_\-lines}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{n\-\_\-valid\-\_\-lines}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-valid\-\_\-lines (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aff6380f5f386282310ec1937b683e25f}
\begin{DoxyVerb}Property
Number of valid lines (i.e., lines with labels recognized by PyNeb)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03633}{3633} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03633}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aff6380f5f386282310ec1937b683e25f}{03633} 
03634     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aff6380f5f386282310ec1937b683e25f}{n\_valid\_lines}(self):
03635         \textcolor{stringliteral}{"""}
03636 \textcolor{stringliteral}{        Property}
03637 \textcolor{stringliteral}{        Number of valid lines (i.e., lines with labels recognized by PyNeb)}
03638 \textcolor{stringliteral}{        }
03639 \textcolor{stringliteral}{        """}
03640         \textcolor{keywordflow}{return} len([line \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines} \textcolor{keywordflow}{if} line.is\_valid])

\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!print\-Intens@{print\-Intens}}
\index{print\-Intens@{print\-Intens}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{print\-Intens}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-print\-Intens (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{return\-Obs = {\ttfamily False}, }
\item[{}]{obs\-Name = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}
\begin{DoxyVerb}Print the line intensities.

Parameters:
    - returnObs   if False (default), prints the corrected values. 
            If True, prints the observed value. 
    - obsName     name of an observation. Is unset or None, all the observations are printed\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03958}{3958} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}, \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}, and \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03958}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{03958} 
03959     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa3d4a178539eaf7fe431ef1dbd347430}{printIntens}(self, returnObs=False, obsName=None):
03960         \textcolor{stringliteral}{"""}
03961 \textcolor{stringliteral}{        Print the line intensities.}
03962 \textcolor{stringliteral}{        }
03963 \textcolor{stringliteral}{        Parameters:}
03964 \textcolor{stringliteral}{            - returnObs   if False (default), prints the corrected values. }
03965 \textcolor{stringliteral}{                            If True, prints the observed value. }
03966 \textcolor{stringliteral}{            - obsName     name of an observation. Is unset or None, all the observations are printed}
03967 \textcolor{stringliteral}{}
03968 \textcolor{stringliteral}{        """}    
03969         \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
03970             \textcolor{keywordflow}{if} obsName \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}:
03971                 obsIndex = self.names.index(obsName)
03972             \textcolor{keywordflow}{else}:
03973                 self.log\_.error(\textcolor{stringliteral}{'Name \{\} is not an Observation name'}.format(obsName))
03974                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03975         \textcolor{keywordflow}{else}:
03976             obsIndex = np.arange(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3c9122167ef525b73a62d39d4b5c4239}{n\_obs})
03977         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
03978             \textcolor{keywordflow}{if} returnObs:
03979                 print(line.label, line.obsIntens[obsIndex])
03980             \textcolor{keywordflow}{else}:
03981                 print(line.label, line.corrIntens[obsIndex])
03982     
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!read\-Data@{read\-Data}}
\index{read\-Data@{read\-Data}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{read\-Data}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs\-File, }
\item[{}]{file\-Format = {\ttfamily 'lines\-\_\-in\-\_\-cols'}, }
\item[{}]{delimiter = {\ttfamily None}, }
\item[{}]{err\-\_\-default = {\ttfamily 0.10}, }
\item[{}]{corrected = {\ttfamily False}, }
\item[{}]{err\-Is\-Relative = {\ttfamily True}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}
\begin{DoxyVerb}Read observational data from an ascii file. The lines can be listed either in columns or in rows
and the observed objects vary in the other direction. The uncertainty on the line intensities
can be read from the file, or a constant relative value can be assumed.
The lines must be identified by a label in PyNeb's format ion_wave (e.g., 'O3_5007'); the list of ions and
corresponding wavelengths can also be found in pn.LINE_LABEL_LIST.
The following optional fields may also be included (without quotes): 'NAME' (object's name, in one string), 
'E(B-V)', 'cHbeta', and 'e' (observational error).

 
Parameters:
    - obsFile        file containing the observations. May be a file object or a string 
    - fileFormat     emission lines vary across columns ('lines_in_cols', default) or 
                across rows ('lines_in_rows'), or across rows with errors in columns 
                ('lines_in_rows_err_cols')m in which case the column label must start with "err"
    - delimiter      field delimiter (default: None)  
    - err_default    default uncertainty on the line intensities
    - corrected      Boolean. True if the observed intensities are already corrected from extinction
                 (default: False)
    - errIsRelative  Boolean. True if the errors are relative to the intensities, False if they
                 are in the same unit as the intensity (default: False)\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l03711}{3711} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}, \hyperlink{icf_8py_source_l00016}{pyneb.\-core.\-icf.\-I\-C\-F.\-calling}, \hyperlink{emis_grid_8py_source_l00044}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-calling}, \hyperlink{pynebcore_8py_source_l00097}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-calling}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{pynebcore_8py_source_l00318}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l00585}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-calling}, \hyperlink{pynebcore_8py_source_l00936}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-calling}, \hyperlink{pynebcore_8py_source_l01156}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Stout.\-calling}, \hyperlink{pynebcore_8py_source_l01229}{pyneb.\-core.\-pynebcore.\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l02643}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-calling}, \hyperlink{pynebcore_8py_source_l03385}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-calling}, \hyperlink{pynebcore_8py_source_l03541}{pyneb.\-core.\-pynebcore.\-Observation.\-calling}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03543}{pyneb.\-core.\-pynebcore.\-Observation.\-names}, and \hyperlink{misc_8py_source_l00302}{pyneb.\-utils.\-misc.\-quiet\-\_\-divide()}.



Referenced by \hyperlink{pynebcore_8py_source_l03700}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Unique\-Atoms()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l03711}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_aa33f35ce2f56f5b8a5666601b24a1107}{03711} 
03712                  errIsRelative=\textcolor{keyword}{True}):
03713         \textcolor{stringliteral}{"""}
03714 \textcolor{stringliteral}{        Read observational data from an ascii file. The lines can be listed either in columns or in rows}
03715 \textcolor{stringliteral}{        and the observed objects vary in the other direction. The uncertainty on the line intensities}
03716 \textcolor{stringliteral}{        can be read from the file, or a constant relative value can be assumed.}
03717 \textcolor{stringliteral}{        The lines must be identified by a label in PyNeb's format ion\_wave (e.g., 'O3\_5007'); the list of
       ions and}
03718 \textcolor{stringliteral}{        corresponding wavelengths can also be found in pn.LINE\_LABEL\_LIST.}
03719 \textcolor{stringliteral}{        The following optional fields may also be included (without quotes): 'NAME' (object's name, in one
       string), }
03720 \textcolor{stringliteral}{        'E(B-V)', 'cHbeta', and 'e' (observational error).}
03721 \textcolor{stringliteral}{        }
03722 \textcolor{stringliteral}{ }
03723 \textcolor{stringliteral}{        Parameters:}
03724 \textcolor{stringliteral}{            - obsFile        file containing the observations. May be a file object or a string }
03725 \textcolor{stringliteral}{            - fileFormat     emission lines vary across columns ('lines\_in\_cols', default) or }
03726 \textcolor{stringliteral}{                                across rows ('lines\_in\_rows'), or across rows with errors in columns }
03727 \textcolor{stringliteral}{                                ('lines\_in\_rows\_err\_cols')m in which case the column label must start with 
      "err"}
03728 \textcolor{stringliteral}{            - delimiter      field delimiter (default: None)  }
03729 \textcolor{stringliteral}{            - err\_default    default uncertainty on the line intensities}
03730 \textcolor{stringliteral}{            - corrected      Boolean. True if the observed intensities are already corrected from
       extinction}
03731 \textcolor{stringliteral}{                                 (default: False)}
03732 \textcolor{stringliteral}{            - errIsRelative  Boolean. True if the errors are relative to the intensities, False if they}
03733 \textcolor{stringliteral}{                                 are in the same unit as the intensity (default: False)}
03734 \textcolor{stringliteral}{}
03735 \textcolor{stringliteral}{        """}    
03736         format\_list = [\textcolor{stringliteral}{'lines\_in\_cols'}, \textcolor{stringliteral}{'lines\_in\_cols2'}, \textcolor{stringliteral}{'lines\_in\_rows'}, \textcolor{stringliteral}{'lines\_in\_rows\_err\_cols'}]
03737         \textcolor{keywordflow}{if} fileFormat \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} format\_list:
03738             self.log\_.error(\textcolor{stringliteral}{'unknown format \{0\}'}.format(fileFormat), calling=\textcolor{stringliteral}{'Observation.readData'})
03739 
03740         \textcolor{keywordflow}{if} type(obsFile) \textcolor{keywordflow}{is} file:
03741             f = obsFile
03742             closeAfterUse = \textcolor{keyword}{False}
03743         \textcolor{keywordflow}{else}:
03744             f = open(obsFile, \textcolor{stringliteral}{'}\textcolor{stringliteral}{r')}
03745 \textcolor{stringliteral}{            closeAfterUse = }\textcolor{keyword}{True}
03746             
03747         \textcolor{keywordflow}{if} fileFormat == \textcolor{stringliteral}{'lines\_in\_cols'}:
03748             hdr = f.readline()
03749             labels = hdr.split(delimiter)
03750             labels = [l.strip() \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} labels]
03751             data = f.readlines()
03752             \textcolor{keywordflow}{if} closeAfterUse:
03753                 f.close()
03754             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [dd.split(delimiter)[0].strip() \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data]
03755             data\_tab = np.asarray([[dd.split(delimiter)[i] \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data] \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} np.arange(len(labels))]
      )
03756             
03757             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(labels):
03758                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'NAME'}:
03759                     \textcolor{keywordflow}{pass}
03760                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'cHbeta'}:
03761                     self.extinction.cHbeta = data\_tab[i].astype(np.float32)
03762                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03763                     self.extinction.E\_BV = data\_tab[i].astype(np.float32)         
03764                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03765                     intens = data\_tab[i].astype(np.float32)
03766                     \textcolor{keywordflow}{try}:
03767                         i\_error = labels.index(label + \textcolor{stringliteral}{'e'})
03768                         error = data\_tab[i\_error].astype(np.float32)
03769                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03770                             error = \hyperlink{namespacepyneb_1_1utils_1_1misc_a852d66d22ba9e872484b3346dc28249e}{quiet\_divide}(error, intens)
03771                     \textcolor{keywordflow}{except}:
03772                         self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03773                         error = data\_tab[1].astype(np.float32) * 0. + err\_default
03774                     \textcolor{keywordflow}{try}:
03775                         line2add = \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_emission_line}{EmissionLine}(label=label, obsIntens=intens, obsError=error)
03776                     \textcolor{keywordflow}{except}:
03777                         self.log\_.warn(\textcolor{stringliteral}{'Unknown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03778                     \textcolor{keywordflow}{try}:
03779                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(line2add)
03780                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03781                     \textcolor{keywordflow}{except}:
03782                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03783                         
03784         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_cols2'}:
03785             \textcolor{keywordflow}{if} closeAfterUse:
03786                 f.close()
03787             data\_tab = np.genfromtxt(obsFile, dtype=\textcolor{keywordtype}{None}, delimiter=delimiter, names=\textcolor{keyword}{True}, deletechars=\textcolor{stringliteral}{''})
03788             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} data\_tab.dtype.names:
03789                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03790                     self.extinction.cHbeta = data\_tab[label]
03791                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03792                     self.extinction.E\_BV = data\_tab[label]
03793                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'NAME'}:
03794                     self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = list(data\_tab[label])
03795                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'NAME2'}:
03796                     \textcolor{keywordflow}{try}:
03797                         names2 = list(data\_tab[label])
03798                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [n1 + \textcolor{stringliteral}{'\_'} + n2 \textcolor{keywordflow}{for} n1, n2 \textcolor{keywordflow}{in} zip(self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}, names2)]
03799                     \textcolor{keywordflow}{except}:
03800                         \textcolor{keywordflow}{pass}
03801                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03802                     \textcolor{keywordflow}{if} data\_tab[label].dtype.type != np.string\_:
03803                         intens = data\_tab[label]
03804                         \textcolor{keywordflow}{try}:
03805                             error = data\_tab[label + \textcolor{stringliteral}{'e'}]
03806                             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03807                                 error = error / intens
03808                         \textcolor{keywordflow}{except}:
03809                             self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03810                             error = np.ones\_like(data\_tab[label]) * err\_default
03811                         \textcolor{keywordflow}{try}:
03812                             line2add = \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_emission_line}{EmissionLine}(label=label, obsIntens=intens, obsError=
      error)
03813                         \textcolor{keywordflow}{except}:
03814                             self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03815                             print(label, intens, error)
03816                         \textcolor{keywordflow}{try}:
03817                             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(line2add)
03818                             self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03819                         \textcolor{keywordflow}{except}:
03820                             self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03821                             print(label, intens, error)
03822                     \textcolor{keywordflow}{else}:
03823                         self.log\_.warn(\textcolor{stringliteral}{'Skipped \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03824             
03825         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_rows'}:
03826             hdr = f.readline()
03827             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = hdr.split(delimiter)[1:]
03828             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} =  [l.strip() \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}]
03829             data = f.readlines()
03830             \textcolor{keywordflow}{if} closeAfterUse:
03831                 f.close()
03832 
03833             labels = [dd.split(delimiter)[0].strip() \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data \textcolor{keywordflow}{if} len(dd.strip()) > 0]
03834             data\_tab = np.asarray([[dd.split(delimiter)[i + 1] \textcolor{keywordflow}{for} dd \textcolor{keywordflow}{in} data \textcolor{keywordflow}{if} len(dd.strip()) > 0] \textcolor{keywordflow}{for} i
       \textcolor{keywordflow}{in} np.arange(len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}))])
03835             data\_tab = data\_tab.astype(np.float32)
03836             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(labels):
03837                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03838                     self.extinction.cHbeta = data\_tab[:, i]
03839                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03840                     self.extinction.E\_BV = data\_tab[:, i]
03841                 \textcolor{keywordflow}{elif} label[-1] != \textcolor{stringliteral}{'e'}:
03842                     intens = data\_tab[:, i]
03843                     \textcolor{keywordflow}{try}:
03844                         i\_error = labels.index(label + \textcolor{stringliteral}{'e'})
03845                         error = data\_tab[:, i\_error]
03846                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03847                             error = error / intens
03848                     \textcolor{keywordflow}{except}:
03849                         self.log\_.message(\textcolor{stringliteral}{'No error found for line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03850                         error = np.ones\_like(data\_tab[:, 1]) * err\_default
03851                     \textcolor{keywordflow}{try}:
03852                         line2add = \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_emission_line}{EmissionLine}(label=label, obsIntens=intens, obsError=error)
03853                     \textcolor{keywordflow}{except}:
03854                         self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03855                         print(label, intens, error)
03856                     \textcolor{keywordflow}{try}:
03857                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(line2add)
03858                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03859                     \textcolor{keywordflow}{except}:
03860                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03861                         print(label, intens, error)
03862                         
03863         \textcolor{keywordflow}{elif} fileFormat == \textcolor{stringliteral}{'lines\_in\_rows\_err\_cols'}:
03864             
03865             \textcolor{keywordflow}{if} closeAfterUse:
03866                 f.close()
03867                 
03868             data\_tab = np.genfromtxt(obsFile, dtype=\textcolor{keywordtype}{None}, delimiter=delimiter, names=\textcolor{keyword}{True})
03869             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names} = [name \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} data\_tab.dtype.names[1::] \textcolor{keywordflow}{if} name[0:3] != \textcolor{stringliteral}{'err'}]
03870             error\_names = [name \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} data\_tab.dtype.names \textcolor{keywordflow}{if} name[0:3] == \textcolor{stringliteral}{'err'}]
03871             \textcolor{keywordflow}{if} len(self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}) != len(error\_names):
03872                 log\_.error(\textcolor{stringliteral}{'Number of columns for intensities <> number of columns for errors'},
03873                               calling=self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03874                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
03875             \textcolor{comment}{#names\_locations = [name in self.names for name in data\_tab.dtype.names]}
03876             \textcolor{comment}{#errors\_locations = [name[0:3] == 'err' for name in data\_tab.dtype.names]}
03877             \textcolor{keywordflow}{for} i, label \textcolor{keywordflow}{in} enumerate(data\_tab[\textcolor{stringliteral}{'LINE'}]):
03878                 label = label.strip()
03879                 \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'cHbeta'}:
03880                     self.extinction.cHbeta = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03881                 \textcolor{keywordflow}{elif} label == \textcolor{stringliteral}{'E(B-V)'}:
03882                     self.extinction.E\_BV = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03883                 \textcolor{keywordflow}{else}:
03884                     intens = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{names}])
03885                     error = np.array([data\_tab[i][name] \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} error\_names])
03886                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} errIsRelative:
03887                         error = error / intens
03888                     \textcolor{keywordflow}{try}:
03889                         line2add = \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_emission_line}{EmissionLine}(label=label, obsIntens=intens, obsError=error)
03890                     \textcolor{keywordflow}{except}:
03891                         self.log\_.warn(\textcolor{stringliteral}{'unkown line label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03892                         print(label, intens, error)
03893                     \textcolor{keywordflow}{try}:
03894                         self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a17ddf1c03fd1859cafe36d0593ec5f01}{addLine}(line2add)
03895                         self.log\_.message(\textcolor{stringliteral}{'adding line \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03896                     \textcolor{keywordflow}{except}:
03897                         self.log\_.warn(\textcolor{stringliteral}{'Impossible to add line'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{calling})
03898                         print(label, intens, error)
03899         
03900             
03901         \textcolor{keywordflow}{if} corrected:
03902             self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a823a1fa51f042f2734cbc323c6a7d4bb}{correctData}()
03903             
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2c0cec305d120daeeb9857c979fbec85}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!set\-All\-Errors@{set\-All\-Errors}}
\index{set\-All\-Errors@{set\-All\-Errors}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{set\-All\-Errors}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-pynebcore.\-Observation.\-set\-All\-Errors (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{err\-\_\-default}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2c0cec305d120daeeb9857c979fbec85}
\begin{DoxyVerb}Set the relative uncertainty of all emission lines to a common constant value

Parameters:
    - err_default     default value of the relative uncertainty\end{DoxyVerb}
 

Definition at line \hyperlink{pynebcore_8py_source_l04056}{4056} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



References \hyperlink{pynebcore_8py_source_l03542}{pyneb.\-core.\-pynebcore.\-Observation.\-lines}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_l04056}{}\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2c0cec305d120daeeb9857c979fbec85}{04056} 
04057     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2c0cec305d120daeeb9857c979fbec85}{setAllErrors}(self, err\_default):
04058         \textcolor{stringliteral}{"""}
04059 \textcolor{stringliteral}{        Set the relative uncertainty of all emission lines to a common constant value}
04060 \textcolor{stringliteral}{        }
04061 \textcolor{stringliteral}{        Parameters:}
04062 \textcolor{stringliteral}{            - err\_default     default value of the relative uncertainty}
04063 \textcolor{stringliteral}{        }
04064 \textcolor{stringliteral}{        """}
04065         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{lines}:
04066             line.obs\_err = np.ones\_like(line.obs\_err) * err\_default
04067 
04068     
    
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!calling@{calling}}
\index{calling@{calling}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{calling}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-calling}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a2639fad9af4fefad20e4097295bd40e7}


Definition at line \hyperlink{pynebcore_8py_source_l03541}{3541} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l04007}{pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-normalize()}, \hyperlink{logging_8py_source_l00059}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-add2log()}, \hyperlink{red__corr_8py_source_l00658}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-\_\-\-F99\-\_\-like()}, \hyperlink{_config_8py_source_l00115}{pyneb.\-utils.\-Config.\-\_\-\-Config.\-\_\-get\-\_\-\-Pypic\-Path()}, \hyperlink{logging_8py_source_l00051}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-pprint()}, \hyperlink{red__corr_8py_source_l00176}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-\_\-set\-\_\-law()}, \hyperlink{pn__chianti_8py_source_l00304}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Atom\-Chianti.\-\_\-test\-\_\-lev()}, \hyperlink{pn__chianti_8py_source_l00472}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03983}{pyneb.\-core.\-pynebcore.\-Observation.\-def\-\_\-\-E\-B\-V()}, \hyperlink{pynebcore_8py_source_l03574}{pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs()}, \hyperlink{red__corr_8py_source_l00211}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-get\-Corr()}, \hyperlink{manage__atomic__data_8py_source_l00297}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-get\-Data\-File()}, \hyperlink{pn__chianti_8py_source_l00366}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Atom\-Chianti.\-get\-Energy()}, \hyperlink{pynebcore_8py_source_l03665}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line()}, \hyperlink{pn__chianti_8py_source_l00507}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-get\-Omega()}, \hyperlink{pn__chianti_8py_source_l00484}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-get\-Omega\-Array()}, \hyperlink{manage__atomic__data_8py_source_l00034}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-get\-Predefined\-Data\-File\-Dict()}, \hyperlink{pynebcore_8py_source_l03684}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Sorted\-Lines()}, \hyperlink{red__corr_8py_source_l00303}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-plot()}, \hyperlink{plot_atomic_data_8py_source_l00117}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-A()}, \hyperlink{plot_atomic_data_8py_source_l00189}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-All\-A()}, \hyperlink{plot_atomic_data_8py_source_l00373}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-Omega()}, \hyperlink{plot_atomic_data_8py_source_l00262}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-Rel\-A()}, \hyperlink{manage__atomic__data_8py_source_l00431}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-print\-All\-Sources()}, \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}, \hyperlink{manage__atomic__data_8py_source_l00380}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-set\-Data\-File()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-timer()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!corrected@{corrected}}
\index{corrected@{corrected}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{corrected}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-corrected}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a7eef3176d082009fa850a9d364d44625}


Definition at line \hyperlink{pynebcore_8py_source_l03545}{3545} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!extinction@{extinction}}
\index{extinction@{extinction}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{extinction}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-extinction}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_acdd6227c32bd92ec4a15b83110bcb570}


Red\-Cor object. 



Definition at line \hyperlink{pynebcore_8py_source_l03544}{3544} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!lines@{lines}}
\index{lines@{lines}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{lines}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-lines}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a78332043ca9f290590edf6b8a1e5b767}


Definition at line \hyperlink{pynebcore_8py_source_l03542}{3542} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l04007}{pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-normalize()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03931}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Error()}, \hyperlink{pynebcore_8py_source_l03904}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Intens()}, \hyperlink{pynebcore_8py_source_l03665}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line()}, \hyperlink{pynebcore_8py_source_l03684}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Sorted\-Lines()}, \hyperlink{pynebcore_8py_source_l03700}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Unique\-Atoms()}, \hyperlink{pynebcore_8py_source_l03615}{pyneb.\-core.\-pynebcore.\-Observation.\-line\-Labels()}, \hyperlink{pynebcore_8py_source_l03624}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-lines()}, \hyperlink{pynebcore_8py_source_l03642}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs()}, \hyperlink{pynebcore_8py_source_l03633}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-valid\-\_\-lines()}, \hyperlink{pynebcore_8py_source_l03958}{pyneb.\-core.\-pynebcore.\-Observation.\-print\-Intens()}, and \hyperlink{pynebcore_8py_source_l04056}{pyneb.\-core.\-pynebcore.\-Observation.\-set\-All\-Errors()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!log\-\_\-@{log\-\_\-}}
\index{log\-\_\-@{log\-\_\-}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{log\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-log\-\_\-}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a882b7909bc881e0c212dd5085305f4d4}


myloggin object 



Definition at line \hyperlink{pynebcore_8py_source_l03540}{3540} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{logging_8py_source_l00059}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-add2log()}, \hyperlink{logging_8py_source_l00157}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-debug()}, \hyperlink{logging_8py_source_l00149}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-errors()}, \hyperlink{logging_8py_source_l00133}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-messages()}, \hyperlink{logging_8py_source_l00165}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-timer()}, \hyperlink{logging_8py_source_l00141}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-warnings()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-timer()}.

\hypertarget{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}{\index{pyneb\-::core\-::pynebcore\-::\-Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}!names@{names}}
\index{names@{names}!pyneb::core::pynebcore::Observation@{pyneb\-::core\-::pynebcore\-::\-Observation}}
\subsubsection[{names}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-pynebcore.\-Observation.\-names}}\label{classpyneb_1_1core_1_1pynebcore_1_1_observation_a3f365d0b1488b2eba300bf71caf23c17}


Definition at line \hyperlink{pynebcore_8py_source_l03543}{3543} of file \hyperlink{pynebcore_8py_source}{pynebcore.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l04069}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Monte\-Carlo\-Obs()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l03931}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Error()}, \hyperlink{pynebcore_8py_source_l03904}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Intens()}, \hyperlink{pynebcore_8py_source_l03658}{pyneb.\-core.\-pynebcore.\-Observation.\-n\-\_\-obs\-\_\-origin()}, \hyperlink{pynebcore_8py_source_l03958}{pyneb.\-core.\-pynebcore.\-Observation.\-print\-Intens()}, and \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
pyneb/core/\hyperlink{pynebcore_8py}{pynebcore.\-py}\end{DoxyCompactItemize}
