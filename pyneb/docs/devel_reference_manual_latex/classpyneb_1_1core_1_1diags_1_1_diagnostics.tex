\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics}{\section{pyneb.\-core.\-diags.\-Diagnostics Class Reference}
\label{classpyneb_1_1core_1_1diags_1_1_diagnostics}\index{pyneb.\-core.\-diags.\-Diagnostics@{pyneb.\-core.\-diags.\-Diagnostics}}
}


Inherits object.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}{get\-Diag\-From\-Label}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a18808ce820666aa8a7c2b8ad888b65c4}{get\-Diags}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a5591d13f519b0176320ee605be97cb54}{get\-Diag\-Labels}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ad55f9fd79ee4e6c1992b6e46ba3ffa9e}{get\-All\-Diags}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0777b326e22cca0e8b581b5ae6bb29f0}{get\-All\-Diag\-Labels}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a44d4a10d700b48081fe18ef3a1a31832}{get\-Unique\-Atoms}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{add\-Diag}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4061f4598d6e9e5a95a553a6bead8a4c}{add\-All}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{del\-Diag}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab6641fba2aa36c483b751dd1b9621734}{add\-Diags\-From\-Obs}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7eb28ac8852ba834dd3d23cd6113d27a}{set\-Atoms}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a8b13216132933723bbf334abefbf8a88}{add\-Clabel}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{plot}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{get\-Cross\-Tem\-Den}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a644625a4450d607244b53d76fb49a03b}{get\-Diag\-Limits}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}{log\-\_\-}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}
\begin{DoxyCompactList}\small\item\em The dictionary containing the diagnostics. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atom\-Dict}
\begin{DoxyCompactList}\small\item\em The dictionary containing the atoms used for the diagnostics. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{Omega\-Interp}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Diagnostics is the class used to manage the diagnostics and to computed physical conditions 
    (electron temperatures and densities) from them. 
It is also the class that plots the diagnostic Te-Ne diagrams.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00152}{152} of file \hyperlink{diags_8py_source}{diags.\-py}.



\subsection{Member Function Documentation}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4061f4598d6e9e5a95a553a6bead8a4c}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!add\-All@{add\-All}}
\index{add\-All@{add\-All}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{add\-All}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-add\-All (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4061f4598d6e9e5a95a553a6bead8a4c}
\begin{DoxyVerb}Insert all the possible diagnostics in the Object (no parameters)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00327}{327} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00327}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4061f4598d6e9e5a95a553a6bead8a4c}{00327} 
00328     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4061f4598d6e9e5a95a553a6bead8a4c}{addAll}(self):
00329         \textcolor{stringliteral}{"""}
00330 \textcolor{stringliteral}{        Insert all the possible diagnostics in the Object (no parameters)}
00331 \textcolor{stringliteral}{        }
00332 \textcolor{stringliteral}{        """}
00333         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00334             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00335             
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a8b13216132933723bbf334abefbf8a88}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!add\-Clabel@{add\-Clabel}}
\index{add\-Clabel@{add\-Clabel}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{add\-Clabel}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-add\-Clabel (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label, }
\item[{}]{clabel}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a8b13216132933723bbf334abefbf8a88}
\begin{DoxyVerb}Add an alternative label to a diagnostic that can be used when plotting diagnostic diagrams.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00410}{410} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, and \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00410}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a8b13216132933723bbf334abefbf8a88}{00410} 
00411     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a8b13216132933723bbf334abefbf8a88}{addClabel}(self, label, clabel):
00412         \textcolor{stringliteral}{"""}
00413 \textcolor{stringliteral}{        Add an alternative label to a diagnostic that can be used when plotting diagnostic diagrams.}
00414 \textcolor{stringliteral}{        }
00415 \textcolor{stringliteral}{        """}
00416         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00417             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = (self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][0], self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][1], self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][2], clabel)
00418         \textcolor{keywordflow}{else}:
00419             pn.log\_.warn(\textcolor{stringliteral}{'Try to add clabel in undefined label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00420     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!add\-Diag@{add\-Diag}}
\index{add\-Diag@{add\-Diag}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{add\-Diag}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily None}, }
\item[{}]{diag\-\_\-tuple = {\ttfamily None}, }
\item[{}]{atom = {\ttfamily None}, }
\item[{}]{wave\-\_\-range = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}
\begin{DoxyVerb}Add diagnostics to the list of available diagnostics. It can either be one of the built-in diagnostics,
a new, user-defined one, or a subset of the built-in diagnostics corresponding to a given atom or wavelength.

Parameters:
    - label        a string or a list of strings describing the diagnostic, e.g. '[OIII] 4363/5007'. 
           If it is not a key of diags_dict (a diagnostic define by PyNeb), diag_tuple must also be specified
    - diag_tuple   a 3 elements tuple containing:
           + the atom, e.g. 'Ar5'
           + the algebraic description of the diagnostic, in terms of line wavelengths or blends or levels, 
             e.g. '(L(6435)+L(7006))/L(4626)'
           + the algebraic description of the error, e.g. 
             'RMS([E(6435)*L(6435)/(L(6435)+L(7006)), E(7006)*L(7006)/(L(6435)+L(7006)), E(4626)])'
    - atom         the selected atom, e.g. 'O3'
    - wave_range   the selected wavelength range
    
Usage:
diags.addDiag('[OIII] 4363/5007')
diags.addDiag('[OIII] 5007/51m', ('O3', 'L(5007)/L(51800)', 'RMS([E(51800), E(5007)])'))
diags.addDiag(atom='O3')
diags.addDiag(wave_range=[4000, 6000])\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00246}{246} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\-core.\-diags.\-Diagnostics.\-atom\-Dict}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}, and \hyperlink{misc_8py_source_l00159}{pyneb.\-utils.\-misc.\-parse\-Atom()}.



Referenced by \hyperlink{diags_8py_source_l00327}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-All()}, \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diags\-From\-Obs()}, and \hyperlink{diags_8py_source_l00554}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00246}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{00246} 
00247     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(self, label=None, diag\_tuple=None, atom=None, wave\_range=None):
00248         \textcolor{stringliteral}{"""}
00249 \textcolor{stringliteral}{        Add diagnostics to the list of available diagnostics. It can either be one of the built-in
       diagnostics,}
00250 \textcolor{stringliteral}{        a new, user-defined one, or a subset of the built-in diagnostics corresponding to a given atom or
       wavelength.}
00251 \textcolor{stringliteral}{        }
00252 \textcolor{stringliteral}{        Parameters:}
00253 \textcolor{stringliteral}{            - label        a string or a list of strings describing the diagnostic, e.g. '[OIII] 4363/5007'
      . }
00254 \textcolor{stringliteral}{                           If it is not a key of diags\_dict (a diagnostic define by PyNeb), diag\_tuple must
       also be specified}
00255 \textcolor{stringliteral}{            - diag\_tuple   a 3 elements tuple containing:}
00256 \textcolor{stringliteral}{                           + the atom, e.g. 'Ar5'}
00257 \textcolor{stringliteral}{                           + the algebraic description of the diagnostic, in terms of line wavelengths or
       blends or levels, }
00258 \textcolor{stringliteral}{                             e.g. '(L(6435)+L(7006))/L(4626)'}
00259 \textcolor{stringliteral}{                           + the algebraic description of the error, e.g. }
00260 \textcolor{stringliteral}{                             'RMS([E(6435)*L(6435)/(L(6435)+L(7006)), E(7006)*L(7006)/(L(6435)+L(7006)),
       E(4626)])'}
00261 \textcolor{stringliteral}{            - atom         the selected atom, e.g. 'O3'}
00262 \textcolor{stringliteral}{            - wave\_range   the selected wavelength range}
00263 \textcolor{stringliteral}{            }
00264 \textcolor{stringliteral}{        Usage:}
00265 \textcolor{stringliteral}{        diags.addDiag('[OIII] 4363/5007')}
00266 \textcolor{stringliteral}{        diags.addDiag('[OIII] 5007/51m', ('O3', 'L(5007)/L(51800)', 'RMS([E(51800), E(5007)])'))}
00267 \textcolor{stringliteral}{        diags.addDiag(atom='O3')}
00268 \textcolor{stringliteral}{        diags.addDiag(wave\_range=[4000, 6000])}
00269 \textcolor{stringliteral}{}
00270 \textcolor{stringliteral}{        """}
00271         \textcolor{keywordflow}{if} type(label) \textcolor{keywordflow}{is} list:
00272             \textcolor{keywordflow}{for} lab \textcolor{keywordflow}{in} label:
00273                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(lab)
00274         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00275             self.log\_.warn(\textcolor{stringliteral}{'\{0\} already in diagnostic'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00276         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} diags\_dict:
00277             self.log\_.message(\textcolor{stringliteral}{'Adding diag \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00278             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = diags\_dict[label]
00279             atom = diags\_dict[label][0]
00280         \textcolor{keywordflow}{elif} type(diag\_tuple) \textcolor{keywordflow}{is} tuple:
00281             \textcolor{keywordflow}{if} len(diag\_tuple) == 3:    
00282                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = diag\_tuple
00283                 atom = diag\_tuple[0]
00284             \textcolor{keywordflow}{else}:
00285                 self.log\_.error(\textcolor{stringliteral}{'\{0\} is not in the list of diagnostics. The parameter diag\_tuple must be a
       3-elements tuple describing the diagnostic'}.format(label), calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.addDiag'})
00286         \textcolor{keywordflow}{elif} atom \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00287             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00288                 \textcolor{keywordflow}{if} diags\_dict[label][0] == atom:
00289                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00290 \textcolor{comment}{#                    if atom not in self.atomDict:}
00291 \textcolor{comment}{#                        self.atomDict[atom] = pn.Atom(parseAtom(atom)[0], parseAtom(atom)[1])}
00292         \textcolor{keywordflow}{elif} wave\_range \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00293 \textcolor{comment}{# To be done: add the possibility to use several independent ranges. The following bit does the trick, but}
00294 \textcolor{comment}{# only if all the wavelengths of a diagnostic are included in the same range}
00295 \textcolor{comment}{#            if type(wave\_range[0]) is list:}
00296 \textcolor{comment}{#                for subrange in wave\_range:}
00297 \textcolor{comment}{#                    self.addDiag(label, diag\_tuple, atom, subrange)}
00298                  
00299             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00300                 expr = diags\_dict[label][1]
00301                 waves = []
00302                 wave = \textcolor{stringliteral}{''}
00303                 in\_wave = \textcolor{keyword}{False}
00304                 \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} expr:
00305                     \textcolor{keywordflow}{if} i.isdigit():
00306                         wave = wave + i
00307                         in\_wave = \textcolor{keyword}{True}
00308                     \textcolor{keywordflow}{elif} (i == \textcolor{stringliteral}{'m'}):
00309                         \textcolor{keywordflow}{if} in\_wave == \textcolor{keyword}{True}:
00310                             waves.append(int(wave) * 10000.)
00311                             in\_wave = \textcolor{keyword}{False}
00312                             wave = \textcolor{stringliteral}{''}
00313                     \textcolor{keywordflow}{else}:
00314                         \textcolor{keywordflow}{if} in\_wave == \textcolor{keyword}{True}:
00315                             waves.append(int(wave))
00316                             in\_wave = \textcolor{keyword}{False}
00317                             wave = \textcolor{stringliteral}{''}
00318                 \textcolor{keywordflow}{if} (min(waves) > min(wave\_range)) \textcolor{keywordflow}{and} (max(waves) < max(wave\_range)):
00319                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00320         \textcolor{keywordflow}{else}:
00321             self.log\_.error(\textcolor{stringliteral}{'Bad syntax. You must either give the label of an existing diagnostic, or the
       label and the tuple of a new one,'} + 
00322                             \textcolor{stringliteral}{'or an ion, or a wave range. label=\{0\}, diag\_tuple=\{1\}, atom=\{2\},
       wave\_range=\{3\}'}.format(label, diag\_tuple, atom, wave\_range),
00323                             calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.addDiag'})
00324         \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict} \textcolor{keywordflow}{and} (type(label) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} list):
00325             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom] = pn.Atom(\hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(atom)[0], 
      \hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(atom)[1])
00326                
               
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab6641fba2aa36c483b751dd1b9621734}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!add\-Diags\-From\-Obs@{add\-Diags\-From\-Obs}}
\index{add\-Diags\-From\-Obs@{add\-Diags\-From\-Obs}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{add\-Diags\-From\-Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diags\-From\-Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab6641fba2aa36c483b751dd1b9621734}
\begin{DoxyVerb}Add all the possible diagnostics that can be computed from an Observation object

Usage:
    diags.addDiagsFromObs(obs)
    
Parameter:
    obs     an Observation object
\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00353}{353} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\-core.\-diags.\-Diagnostics.\-atom\-Dict}, \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, and \hyperlink{misc_8py_source_l00159}{pyneb.\-utils.\-misc.\-parse\-Atom()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00353}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab6641fba2aa36c483b751dd1b9621734}{00353} 
00354     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab6641fba2aa36c483b751dd1b9621734}{addDiagsFromObs}(self, obs):
00355         \textcolor{stringliteral}{"""}
00356 \textcolor{stringliteral}{        Add all the possible diagnostics that can be computed from an Observation object}
00357 \textcolor{stringliteral}{        }
00358 \textcolor{stringliteral}{        Usage:}
00359 \textcolor{stringliteral}{            diags.addDiagsFromObs(obs)}
00360 \textcolor{stringliteral}{            }
00361 \textcolor{stringliteral}{        Parameter:}
00362 \textcolor{stringliteral}{            obs     an Observation object}
00363 \textcolor{stringliteral}{        """}
00364         
00365         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(obs, pn.Observation):
00366             pn.log\_.error(\textcolor{stringliteral}{'The argument must be an Observation object'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'addDiagsFromObs'})
00367         old\_level = pn.log\_.level
00368         pn.log\_.level = 1
00369         \textcolor{keyword}{def }I(i, j):
00370             wave = atom.wave\_Ang[i - 1, j - 1]
00371             corrIntens = obs.getLine(sym, spec, wave).corrIntens
00372             \textcolor{keywordflow}{return} corrIntens
00373         \textcolor{keyword}{def }L(wave):
00374             corrIntens = obs.getLine(sym, spec, wave).corrIntens
00375             \textcolor{keywordflow}{return} corrIntens
00376         \textcolor{keyword}{def }B(label):
00377             full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00378             corrIntens = obs.getLine(label=full\_label).corrIntens
00379             \textcolor{keywordflow}{return} corrIntens
00380         
00381         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00382             atom, diag\_expression, error = diags\_dict[label]
00383             sym, spec = \hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(atom)
00384             \textcolor{keywordflow}{try}:
00385                 diag\_value = eval(diag\_expression)
00386                 \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00387                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom] = pn.Atom(atom=atom)
00388                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00389             \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} ex:
00390                 \textcolor{keywordflow}{pass}
00391         pn.log\_.level = old\_level
00392     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!del\-Diag@{del\-Diag}}
\index{del\-Diag@{del\-Diag}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{del\-Diag}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-del\-Diag (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}
\begin{DoxyVerb}Remove a diagnostic, based on its label.

Parameter:
    - label  the label of the diagnostic ('all': removes all the diagnostics)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00336}{336} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{diags_8py_source_l00336}{pyneb.\-core.\-diags.\-Diagnostics.\-del\-Diag()}, and \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}.



Referenced by \hyperlink{diags_8py_source_l00336}{pyneb.\-core.\-diags.\-Diagnostics.\-del\-Diag()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00336}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{00336} 
00337     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{delDiag}(self, label=None):
00338         \textcolor{stringliteral}{"""}
00339 \textcolor{stringliteral}{        Remove a diagnostic, based on its label.}
00340 \textcolor{stringliteral}{        }
00341 \textcolor{stringliteral}{        Parameter:}
00342 \textcolor{stringliteral}{            - label  the label of the diagnostic ('all': removes all the diagnostics)}
00343 \textcolor{stringliteral}{}
00344 \textcolor{stringliteral}{        """}
00345         \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'all'}:
00346             \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00347                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{delDiag}(item)
00348         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00349             del self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00350         \textcolor{keywordflow}{else}:
00351             self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in diagnostic, cannot be removed'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00352     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0777b326e22cca0e8b581b5ae6bb29f0}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-All\-Diag\-Labels@{get\-All\-Diag\-Labels}}
\index{get\-All\-Diag\-Labels@{get\-All\-Diag\-Labels}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-All\-Diag\-Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-All\-Diag\-Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0777b326e22cca0e8b581b5ae6bb29f0}
\begin{DoxyVerb}Return the labels of all the possible diagnostics.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00228}{228} of file \hyperlink{diags_8py_source}{diags.\-py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00228}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0777b326e22cca0e8b581b5ae6bb29f0}{00228} 
00229     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0777b326e22cca0e8b581b5ae6bb29f0}{getAllDiagLabels}(self):
00230         \textcolor{stringliteral}{"""}
00231 \textcolor{stringliteral}{        Return the labels of all the possible diagnostics.}
00232 \textcolor{stringliteral}{        No parameter.}
00233 \textcolor{stringliteral}{        }
00234 \textcolor{stringliteral}{        """}
00235         \textcolor{keywordflow}{return} diags\_dict.keys()    
00236 
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_ad55f9fd79ee4e6c1992b6e46ba3ffa9e}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-All\-Diags@{get\-All\-Diags}}
\index{get\-All\-Diags@{get\-All\-Diags}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-All\-Diags}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-All\-Diags (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_ad55f9fd79ee4e6c1992b6e46ba3ffa9e}
\begin{DoxyVerb}Return the definitions (tuples) of all the possible diagnostics.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00219}{219} of file \hyperlink{diags_8py_source}{diags.\-py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00219}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ad55f9fd79ee4e6c1992b6e46ba3ffa9e}{00219} 
00220     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ad55f9fd79ee4e6c1992b6e46ba3ffa9e}{getAllDiags}(self):
00221         \textcolor{stringliteral}{"""}
00222 \textcolor{stringliteral}{        Return the definitions (tuples) of all the possible diagnostics.}
00223 \textcolor{stringliteral}{        No parameter.}
00224 \textcolor{stringliteral}{        }
00225 \textcolor{stringliteral}{        """}
00226         \textcolor{keywordflow}{return} diags\_dict
00227 
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Cross\-Tem\-Den@{get\-Cross\-Tem\-Den}}
\index{get\-Cross\-Tem\-Den@{get\-Cross\-Tem\-Den}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Cross\-Tem\-Den}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{diag\-\_\-tem, }
\item[{}]{diag\-\_\-den, }
\item[{}]{value\-\_\-tem = {\ttfamily None}, }
\item[{}]{value\-\_\-den = {\ttfamily None}, }
\item[{}]{obs = {\ttfamily None}, }
\item[{}]{i\-\_\-obs = {\ttfamily None}, }
\item[{}]{guess\-\_\-tem = {\ttfamily 10000}, }
\item[{}]{tol\-\_\-tem = {\ttfamily 1.}, }
\item[{}]{tol\-\_\-den = {\ttfamily 1.}, }
\item[{}]{max\-\_\-iter = {\ttfamily 5}, }
\item[{}]{max\-Error = {\ttfamily 1e-\/3}, }
\item[{}]{start\-\_\-tem = {\ttfamily -\/1}, }
\item[{}]{end\-\_\-tem = {\ttfamily -\/1}, }
\item[{}]{start\-\_\-den = {\ttfamily -\/1}, }
\item[{}]{end\-\_\-den = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}
\begin{DoxyVerb}Cross-converge the temperature and density derived from two sensitive line ratios, by inputting the quantity 
derived with one line ratio into the other and then iterating.
The temperature- and density-sensitive ratios can be input directly or as an Observation object
    
Parameters:
    
- diag_tem   temperature-sensitive diagnostic line ratio
- diag_den   density-sensitive diagnostic line ratio
- value_tem  value of the temperature-sensitive diagnostic
- value_den  value of the density-sensitive diagnostic
- obs        np.Observation object. Values for observed temperature and density diagnostics are
        taken from it if value_tem and value_den are None
- i_obs      index of the observations to be used from obs. 
        If None, all the observations are considered.
        May be a boolean array
- guess_tem  temperature assumed in the first iteration, in K
- tol_tem    tolerance of the temperature result, in %
- tol_den    tolerance of the density result, in %
- max_iter   maximum number of iterations to be performed, after which the function will throw a result
- maxError   maximum error in the calls to getTemDen, in %
- start_tem, end_tem  lower and upper limit of the explored temperature range 
- start_den, end_den  lower and upper limit of the explored density range 
    
Example:
    tem, den = diags.getCrossTemDen('[OIII] 4363/5007', '[SII] 6731/6716', 0.0050, 1.0, 
        guess_tem=10000, tol_tem = 1., tol_den = 1., max_iter = 5)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00554}{554} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\-core.\-diags.\-Diagnostics.\-atom\-Dict}, \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}, \hyperlink{diags_8py_source_l00000}{pyneb.\-core.\-diags.\-Diagnostics.\-Omega\-Interp}, and \hyperlink{misc_8py_source_l00159}{pyneb.\-utils.\-misc.\-parse\-Atom()}.



Referenced by \hyperlink{diags_8py_source_l00421}{pyneb.\-core.\-diags.\-Diagnostics.\-plot()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00554}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{00554} 
00555                        start\_tem= -1, end\_tem= -1, start\_den= -1, end\_den= -1):
00556         \textcolor{stringliteral}{"""}
00557 \textcolor{stringliteral}{        Cross-converge the temperature and density derived from two sensitive line ratios, by inputting the
       quantity }
00558 \textcolor{stringliteral}{        derived with one line ratio into the other and then iterating.}
00559 \textcolor{stringliteral}{        The temperature- and density-sensitive ratios can be input directly or as an Observation object}
00560 \textcolor{stringliteral}{    }
00561 \textcolor{stringliteral}{        Parameters:}
00562 \textcolor{stringliteral}{    }
00563 \textcolor{stringliteral}{        - diag\_tem   temperature-sensitive diagnostic line ratio}
00564 \textcolor{stringliteral}{        - diag\_den   density-sensitive diagnostic line ratio}
00565 \textcolor{stringliteral}{        - value\_tem  value of the temperature-sensitive diagnostic}
00566 \textcolor{stringliteral}{        - value\_den  value of the density-sensitive diagnostic}
00567 \textcolor{stringliteral}{        - obs        np.Observation object. Values for observed temperature and density diagnostics are}
00568 \textcolor{stringliteral}{                        taken from it if value\_tem and value\_den are None}
00569 \textcolor{stringliteral}{        - i\_obs      index of the observations to be used from obs. }
00570 \textcolor{stringliteral}{                        If None, all the observations are considered.}
00571 \textcolor{stringliteral}{                        May be a boolean array}
00572 \textcolor{stringliteral}{        - guess\_tem  temperature assumed in the first iteration, in K}
00573 \textcolor{stringliteral}{        - tol\_tem    tolerance of the temperature result, in %}
00574 \textcolor{stringliteral}{        - tol\_den    tolerance of the density result, in %}
00575 \textcolor{stringliteral}{        - max\_iter   maximum number of iterations to be performed, after which the function will throw a
       result}
00576 \textcolor{stringliteral}{        - maxError   maximum error in the calls to getTemDen, in %}
00577 \textcolor{stringliteral}{        - start\_tem, end\_tem  lower and upper limit of the explored temperature range }
00578 \textcolor{stringliteral}{        - start\_den, end\_den  lower and upper limit of the explored density range }
00579 \textcolor{stringliteral}{    }
00580 \textcolor{stringliteral}{        Example:}
00581 \textcolor{stringliteral}{            tem, den = diags.getCrossTemDen('[OIII] 4363/5007', '[SII] 6731/6716', 0.0050, 1.0, }
00582 \textcolor{stringliteral}{                        guess\_tem=10000, tol\_tem = 1., tol\_den = 1., max\_iter = 5)}
00583 \textcolor{stringliteral}{}
00584 \textcolor{stringliteral}{        """}
00585         \textcolor{comment}{# TODO:}
00586         \textcolor{comment}{# Define a lower/upper density and temperature }
00587         \textcolor{comment}{# to be used in case the diag is pointing to values out of the boundaires}
00588         \textcolor{keywordflow}{if} diag\_tem \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00589             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(diag\_tem)
00590         atom\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_tem][0]
00591         elem\_tem, spec\_tem = \hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(atom\_tem)
00592         \textcolor{keywordflow}{if} atom\_tem \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00593             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_tem] = pn.Atom(elem\_tem, spec\_tem, self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{OmegaInterp})
00594         atom\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_tem]
00595         \textcolor{keywordflow}{if} diag\_den \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00596             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(diag\_den)
00597         atom\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][0]
00598         elem\_den, spec\_den = \hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][0])
00599         \textcolor{keywordflow}{if} (atom\_den) \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00600             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_den] = pn.Atom(elem\_den, spec\_den, self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{OmegaInterp})
00601         atom\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_den]
00602         eval\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_tem][1]
00603         eval\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][1]
00604         calling = \textcolor{stringliteral}{'Diag.getCrossTemDen %s %s'} % (diag\_tem, diag\_den)
00605         \textcolor{keywordflow}{if} value\_tem \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00606             \textcolor{keyword}{def }L(wave):
00607                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00608                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens
00609                 \textcolor{keywordflow}{else}:
00610                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens[i\_obs]
00611             \textcolor{keyword}{def }I(i, j):
00612                 wave = atom\_tem.wave\_Ang[i - 1, j - 1]
00613                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00614                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens
00615                 \textcolor{keywordflow}{else}:
00616                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens[i\_obs]
00617             \textcolor{keyword}{def }B(label, I=I, L=L):
00618                 full\_label = elem\_tem + spec\_tem + \textcolor{stringliteral}{'\_'} + label
00619                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00620                     corrIntens = obs.getLine(label=full\_label).corrIntens
00621                 \textcolor{keywordflow}{else}:
00622                     corrIntens = obs.getLine(label=full\_label).corrIntens[i\_obs]
00623                 \textcolor{keywordflow}{return} corrIntens
00624             \textcolor{comment}{#pn.log\_.debug('to eval is \{0\}'.format(eval\_tem), calling=calling + 'TEST')}
00625             \textcolor{keywordflow}{try}:
00626                 value\_tem = eval(eval\_tem)
00627                 \textcolor{comment}{#pn.log\_.debug('to eval = \{0\}'.format(value\_tem), calling=calling + 'TEST')}
00628             \textcolor{keywordflow}{except}:
00629                 pn.log\_.warn(\textcolor{stringliteral}{'No value for \{0\} \{1\}: \{2\} in obs'}.format(elem\_tem, spec\_tem, diag\_tem), 
      calling=calling)
00630                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00631         \textcolor{keywordflow}{else}:
00632             \textcolor{keywordflow}{if} type(value\_tem) == type([]): value\_tem = np.asarray(value\_tem)
00633         \textcolor{keywordflow}{if} value\_den \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00634             \textcolor{keyword}{def }L(wave): 
00635                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00636                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens
00637                 \textcolor{keywordflow}{else}:
00638                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens[i\_obs]
00639             \textcolor{keyword}{def }I(i, j):
00640                 wave = atom\_den.wave\_Ang[i - 1, j - 1]
00641                 pn.log\_.debug(\textcolor{stringliteral}{'wave is \{0\}'}.format(wave), calling=calling + \textcolor{stringliteral}{'TEST3'})
00642                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00643                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens
00644                 \textcolor{keywordflow}{else}:
00645                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens[i\_obs]
00646             \textcolor{keyword}{def }B(label, I=I, L=L):
00647                 full\_label = elem\_den + spec\_den + \textcolor{stringliteral}{'\_'} + label
00648                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00649                     corrIntens = obs.getLine(label=full\_label).corrIntens
00650                 \textcolor{keywordflow}{else}:
00651                     corrIntens = obs.getLine(label=full\_label).corrIntens[i\_obs]
00652                 \textcolor{keywordflow}{return} corrIntens
00653             \textcolor{comment}{#pn.log\_.debug('to eval is \{0\}'.format(eval\_den), calling=calling + ' TEST')}
00654             \textcolor{keywordflow}{try}:
00655                 value\_den = eval(eval\_den)
00656                 \textcolor{comment}{#pn.log\_.debug('to eval = \{0\}'.format(value\_den), calling=calling + ' TEST1')}
00657             \textcolor{keywordflow}{except}:
00658                 pn.log\_.warn(\textcolor{stringliteral}{'No value for \{0\} \{1\}: \{2\} in obs'}.format(elem\_den, spec\_den, diag\_den), 
      calling=calling)
00659                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00660         \textcolor{keywordflow}{else}:
00661             \textcolor{keywordflow}{if} type(value\_den) == type([]): value\_den = np.asarray(value\_den)
00662         den = atom\_den.getTemDen(value\_den, tem=guess\_tem, to\_eval=eval\_den,
00663                                  maxError=maxError, start\_x=start\_den, end\_x=end\_den)
00664         
00665         tem = atom\_tem.getTemDen(value\_tem, den=den, to\_eval=eval\_tem,
00666                                  maxError=maxError, start\_x=start\_tem, end\_x=end\_tem)
00667 \textcolor{comment}{#        self.log\_.debug('tem: ' + str(tem) + ' den:' + str(den), calling='getCrossTemDen')}
00668         no\_conv = np.ones\_like(den).astype(bool)
00669         n\_tot = np.asarray(value\_tem).size
00670         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} np.arange(max\_iter):
00671             \textcolor{keywordflow}{if} type(tem) == type(1.):
00672                 tem\_old = tem
00673             \textcolor{keywordflow}{else}:
00674                 tem\_old = tem.copy()
00675             \textcolor{keywordflow}{if} type(den) == type(1.):
00676                 den\_old = den
00677             \textcolor{keywordflow}{else}:
00678                 den\_old = den.copy()
00679             
00680             \textcolor{keywordflow}{if} n\_tot > 1:
00681                 den[no\_conv] = atom\_den.getTemDen(value\_den[no\_conv], tem=tem\_old[no\_conv],
00682                                                   to\_eval=eval\_den, start\_x=start\_den, end\_x=end\_den)
00683                 tem[no\_conv] = atom\_tem.getTemDen(value\_tem[no\_conv], den=den\_old[no\_conv],
00684                                                   to\_eval=eval\_tem, start\_x=start\_tem, end\_x=end\_tem)
00685             \textcolor{keywordflow}{else}:
00686                 den = atom\_den.getTemDen(value\_den, tem=tem\_old, to\_eval=eval\_den, start\_x=start\_den, end\_x
      =end\_den)
00687                 tem = atom\_tem.getTemDen(value\_tem, den=den\_old, to\_eval=eval\_tem, start\_x=start\_tem, end\_x
      =end\_tem)
00688                 
00689             no\_conv = ((abs(den\_old - den) / den * 100) > tol\_den) | ((abs(tem\_old - tem) / tem * 100) > 
      tol\_tem)
00690             \textcolor{keywordflow}{if} type(no\_conv) == type(\textcolor{keyword}{True}):
00691                 n\_no\_conv = int(no\_conv)
00692             \textcolor{keywordflow}{else}:
00693                 n\_no\_conv = no\_conv.sum()
00694             
00695             pn.log\_.message(\textcolor{stringliteral}{'\{0\} (max=\{1\}): not converged \{2\} of \{3\}.'}.format(i, max\_iter, n\_no\_conv, n\_tot
      ),
00696                             calling=calling)
00697             \textcolor{keywordflow}{if} n\_no\_conv == 0:
00698                 \textcolor{keywordflow}{return} tem, den
00699         \textcolor{keywordflow}{if} n\_tot == 1:
00700             tem = np.nan
00701             den = np.nan
00702         \textcolor{keywordflow}{else}:
00703             tem[no\_conv] = np.nan
00704             den[no\_conv] = np.nan
00705         \textcolor{keywordflow}{return} tem, den
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Diag\-From\-Label@{get\-Diag\-From\-Label}}
\index{get\-Diag\-From\-Label@{get\-Diag\-From\-Label}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Diag\-From\-Label}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-From\-Label (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}
\begin{DoxyVerb}Return the definition of a diagnostic (the 3 or 4 elements tuple)

Usage:
    diags.getDiagFromLabel('[NII] 5755/6548')

Parameters:
    -label a diagnostic label \end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00183}{183} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, and \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}.



Referenced by \hyperlink{diags_8py_source_l00201}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diags()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00183}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}{00183} 
00184     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}{getDiagFromLabel}(self, label):
00185         \textcolor{stringliteral}{"""}
00186 \textcolor{stringliteral}{        Return the definition of a diagnostic (the 3 or 4 elements tuple)}
00187 \textcolor{stringliteral}{        }
00188 \textcolor{stringliteral}{        Usage:}
00189 \textcolor{stringliteral}{            diags.getDiagFromLabel('[NII] 5755/6548')}
00190 \textcolor{stringliteral}{        }
00191 \textcolor{stringliteral}{        Parameters:}
00192 \textcolor{stringliteral}{            -label a diagnostic label }
00193 \textcolor{stringliteral}{            }
00194 \textcolor{stringliteral}{        """}
00195         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00196             \textcolor{keywordflow}{return} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00197         \textcolor{keywordflow}{else}:
00198             self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in diagnostic'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00199             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00200 
        
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a5591d13f519b0176320ee605be97cb54}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Diag\-Labels@{get\-Diag\-Labels}}
\index{get\-Diag\-Labels@{get\-Diag\-Labels}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Diag\-Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a5591d13f519b0176320ee605be97cb54}
\begin{DoxyVerb}Return the labels of all the diagnostics defined in the Object
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00210}{210} of file \hyperlink{diags_8py_source}{diags.\-py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00210}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a5591d13f519b0176320ee605be97cb54}{00210} 
00211     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a5591d13f519b0176320ee605be97cb54}{getDiagLabels}(self):
00212         \textcolor{stringliteral}{"""}
00213 \textcolor{stringliteral}{        Return the labels of all the diagnostics defined in the Object}
00214 \textcolor{stringliteral}{        No parameter.}
00215 \textcolor{stringliteral}{        }
00216 \textcolor{stringliteral}{        """}
00217         \textcolor{keywordflow}{return} self.diags.keys()    
00218 
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a644625a4450d607244b53d76fb49a03b}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Diag\-Limits@{get\-Diag\-Limits}}
\index{get\-Diag\-Limits@{get\-Diag\-Limits}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Diag\-Limits}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-Limits (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{diag}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a644625a4450d607244b53d76fb49a03b}
\begin{DoxyVerb}Return the low and high density values for a given diagnostic
\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00706}{706} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00407}{pyneb.\-core.\-diags.\-Diagnostics.\-atom\-Dict}, and \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00706}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a644625a4450d607244b53d76fb49a03b}{00706} 
00707     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a644625a4450d607244b53d76fb49a03b}{getDiagLimits}(self, diag):
00708         \textcolor{stringliteral}{"""}
00709 \textcolor{stringliteral}{        Return the low and high density values for a given diagnostic}
00710 \textcolor{stringliteral}{        """}
00711         atom = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag][0]]
00712         to\_eval = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag][1]
00713         HDR = atom.getHighDensRatio(to\_eval = to\_eval)
00714         LDR = atom.getLowDensRatio(to\_eval = to\_eval)
00715         return(np.sort((LDR, HDR)))
00716     
    \end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a18808ce820666aa8a7c2b8ad888b65c4}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Diags@{get\-Diags}}
\index{get\-Diags@{get\-Diags}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Diags}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diags (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a18808ce820666aa8a7c2b8ad888b65c4}
\begin{DoxyVerb}Return the definitions (tuples) of all the diagnostics defined in the Object.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00201}{201} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}, and \hyperlink{diags_8py_source_l00183}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-From\-Label()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00201}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a18808ce820666aa8a7c2b8ad888b65c4}{00201} 
00202     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a18808ce820666aa8a7c2b8ad888b65c4}{getDiags}(self):
00203         \textcolor{stringliteral}{"""}
00204 \textcolor{stringliteral}{        Return the definitions (tuples) of all the diagnostics defined in the Object.}
00205 \textcolor{stringliteral}{        No parameter.}
00206 \textcolor{stringliteral}{        }
00207 \textcolor{stringliteral}{        """}
00208         \textcolor{keywordflow}{return} [self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a34bf325468c95ac151665f2602db8212}{getDiagFromLabel}(label) \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}]
00209 
            
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a44d4a10d700b48081fe18ef3a1a31832}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!get\-Unique\-Atoms@{get\-Unique\-Atoms}}
\index{get\-Unique\-Atoms@{get\-Unique\-Atoms}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{get\-Unique\-Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-get\-Unique\-Atoms (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a44d4a10d700b48081fe18ef3a1a31832}
\begin{DoxyVerb}Return a numpy.ndarray of the ions needed by the diagnostics. Unique is applied to the list before returning.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00237}{237} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00237}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a44d4a10d700b48081fe18ef3a1a31832}{00237} 
00238     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a44d4a10d700b48081fe18ef3a1a31832}{getUniqueAtoms}(self):
00239         \textcolor{stringliteral}{"""}
00240 \textcolor{stringliteral}{        Return a numpy.ndarray of the ions needed by the diagnostics. Unique is applied to the list before
       returning.}
00241 \textcolor{stringliteral}{        No parameter.}
00242 \textcolor{stringliteral}{        }
00243 \textcolor{stringliteral}{        """}
00244         \textcolor{keywordflow}{return} np.unique([self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[d][0] \textcolor{keywordflow}{for} d \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags} \textcolor{keywordflow}{if} self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[d] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}])
00245     
    
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!plot@{plot}}
\index{plot@{plot}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{plot}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-plot (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{emis\-\_\-grids, }
\item[{}]{obs, }
\item[{}]{quad = {\ttfamily True}, }
\item[{}]{i\-\_\-obs = {\ttfamily None}, }
\item[{}]{alpha = {\ttfamily 0.3}, }
\item[{}]{ax = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}
\begin{DoxyVerb}PLotting tool to generate Te-Ne diagrams.

Usage:
    diags.plot(emisgrids, obs, i_obs=3)
    
Parameters:
    - emis_grids    A dictionary of EmisGrid objects refereed by their atom strings (e.g. 'O3')
            This can for example be the output of pn.getEmisGridDict()
    - obs           A pn.Observation object that is supposed to contain the line intensities
            used for the plot (corrected intensities).
    - quad          If True (default) the sum of the error is quadratic,otherwise is linear.
    - i_obs         reference for the observation to be plotted, in case there is more than one
            in the obs object
    - alpha         Transparency for the error bands in the plot\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00421}{421} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}, \hyperlink{diags_8py_source_l00173}{pyneb.\-core.\-diags.\-Diagnostics.\-diags}, \hyperlink{diags_8py_source_l00554}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den()}, \hyperlink{misc_8py_source_l00055}{pyneb.\-utils.\-misc.\-int\-\_\-to\-\_\-roman()}, and \hyperlink{misc_8py_source_l00159}{pyneb.\-utils.\-misc.\-parse\-Atom()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00421}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{00421} 
00422     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{plot}(self, emis\_grids, obs, quad=True, i\_obs=None, alpha=0.3, ax=None):
00423         \textcolor{stringliteral}{"""}
00424 \textcolor{stringliteral}{        PLotting tool to generate Te-Ne diagrams.}
00425 \textcolor{stringliteral}{        }
00426 \textcolor{stringliteral}{        Usage:}
00427 \textcolor{stringliteral}{            diags.plot(emisgrids, obs, i\_obs=3)}
00428 \textcolor{stringliteral}{            }
00429 \textcolor{stringliteral}{        Parameters:}
00430 \textcolor{stringliteral}{            - emis\_grids    A dictionary of EmisGrid objects refereed by their atom strings (e.g. 'O3')}
00431 \textcolor{stringliteral}{                            This can for example be the output of pn.getEmisGridDict()}
00432 \textcolor{stringliteral}{            - obs           A pn.Observation object that is supposed to contain the line intensities}
00433 \textcolor{stringliteral}{                            used for the plot (corrected intensities).}
00434 \textcolor{stringliteral}{            - quad          If True (default) the sum of the error is quadratic,otherwise is linear.}
00435 \textcolor{stringliteral}{            - i\_obs         reference for the observation to be plotted, in case there is more than one}
00436 \textcolor{stringliteral}{                            in the obs object}
00437 \textcolor{stringliteral}{            - alpha         Transparency for the error bands in the plot}
00438 \textcolor{stringliteral}{            }
00439 \textcolor{stringliteral}{        """}
00440         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} pn.config.INSTALLED[\textcolor{stringliteral}{'plt'}]: 
00441             pn.log\_.error(\textcolor{stringliteral}{'Matplotlib not available, no plot'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00442             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00443         \textcolor{keywordflow}{else}:
00444             \textcolor{keyword}{import} matplotlib.pyplot \textcolor{keyword}{as} plt
00445         \textcolor{keywordflow}{if} type(emis\_grids) != type(\{\}):
00446             self.log\_.error(\textcolor{stringliteral}{'the first parameter must be a dictionary'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00447             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00448         \textcolor{keywordflow}{for} em \textcolor{keywordflow}{in} emis\_grids:
00449             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(emis\_grids[em], pn.EmisGrid):
00450                 self.log\_.error(\textcolor{stringliteral}{'the first parameter must be a dictionary of EmisGrid'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00451                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00452         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(obs, pn.Observation):
00453             self.log\_.error(\textcolor{stringliteral}{'the second parameter must be an Observation'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00454             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00455         \textcolor{keywordflow}{if} (i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}) \textcolor{keywordflow}{and} (obs.n\_obs != 1):
00456             self.log\_.error(\textcolor{stringliteral}{'i\_obs must be specified when obs is multiple. try i\_obs=0'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00457             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00458         \textcolor{keywordflow}{if} ax \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00459             f, ax = plt.subplots()
00460         \textcolor{keywordflow}{else}:
00461             f = plt.gcf()
00462         X = np.log10(emis\_grids[emis\_grids.keys()[0]].den2D)
00463         Y = emis\_grids[emis\_grids.keys()[0]].tem2D
00464         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00465             diag = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00466             atom = diag[0]
00467             \textcolor{keyword}{def }I(i, j):
00468                 \textcolor{keywordflow}{return} emis\_grids[atom].getGrid(lev\_i=i, lev\_j=j)
00469             \textcolor{keyword}{def }L(wave):
00470                 \textcolor{keywordflow}{return} emis\_grids[atom].getGrid(wave=wave)
00471             \textcolor{keyword}{def }B(label, I=I, L=L):
00472                 full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00473                 \textcolor{keywordflow}{if} full\_label \textcolor{keywordflow}{in} BLEND\_LIST:
00474                     to\_eval = BLEND\_LIST[full\_label]
00475                 \textcolor{keywordflow}{else}:
00476                     self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in BLEND\_LIST'}.format(full\_label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00477                     \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00478                 \textcolor{keywordflow}{return} eval(to\_eval)
00479             \textcolor{keywordflow}{try}:
00480                 diag\_map = eval(diag[1])
00481             \textcolor{keywordflow}{except}:
00482                 diag\_map = \textcolor{keywordtype}{None}
00483                 self.log\_.warn(\textcolor{stringliteral}{'diag \{0\} \{1\} not used'}.format(diag[0], diag[1]), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00484             \textcolor{keywordflow}{if} diag\_map \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00485                 sym, spec = \hyperlink{namespacepyneb_1_1utils_1_1misc_a2bb6f906a75f26a882093e9ce9272507}{parseAtom}(atom)
00486                 \textcolor{keyword}{def }I(i, j):
00487                     wave = emis\_grids[atom].atom.wave\_Ang[i - 1, j - 1]
00488                     corrIntens = obs.getLine(sym, spec, wave).corrIntens
00489                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00490                         \textcolor{keywordflow}{return} corrIntens
00491                     \textcolor{keywordflow}{else}:
00492                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00493                 \textcolor{keyword}{def }L(wave):
00494                     corrIntens = obs.getLine(sym, spec, wave).corrIntens
00495                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00496                         \textcolor{keywordflow}{return} corrIntens
00497                     \textcolor{keywordflow}{else}:
00498                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00499                 \textcolor{keyword}{def }B(label):
00500                     full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00501                     corrIntens = obs.getLine(label=full\_label).corrIntens
00502                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00503                         \textcolor{keywordflow}{return} corrIntens
00504                     \textcolor{keywordflow}{else}:
00505                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00506                 \textcolor{keywordflow}{try}:
00507                     diag\_value = eval(diag[1])[0]
00508                 \textcolor{keywordflow}{except}:
00509                     diag\_value = \textcolor{keywordtype}{None}
00510                     self.log\_.warn(\textcolor{stringliteral}{'A line in diagnostic \{0\} of \{1\}\{2\} is missing'}.format(diag[1], sym, 
      spec),
00511                                    calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00512                 \textcolor{keywordflow}{if} diag\_value \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} np.isnan(diag\_value) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} np.isinf(diag\_value):
00513                     \textcolor{keyword}{def }E(wave):
00514                         err = obs.getLine(sym, spec, wave).corrError
00515                         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00516                             \textcolor{keywordflow}{return} err
00517                         \textcolor{keywordflow}{else}:
00518                             \textcolor{keywordflow}{return} err[i\_obs]
00519                     \textcolor{keyword}{def }BE(label):
00520                         full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00521                         err = obs.getLine(label=full\_label).corrError
00522                         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00523                             \textcolor{keywordflow}{return} err
00524                         \textcolor{keywordflow}{else}:
00525                             \textcolor{keywordflow}{return} err[i\_obs]
00526                     \textcolor{keywordflow}{if} quad \textcolor{keywordflow}{is} \textcolor{keyword}{True}:
00527                         RMS = \textcolor{keyword}{lambda} err: np.sqrt((np.asarray(err) ** 2.).sum())
00528                     \textcolor{keywordflow}{else}:
00529                         RMS = \textcolor{keyword}{lambda} err: (np.asarray(err)).sum() 
00530                     tol\_value = eval(diag[2])
00531                     col\_dic = \{\textcolor{stringliteral}{'C'}:\textcolor{stringliteral}{'cyan'}, \textcolor{stringliteral}{'N'}:\textcolor{stringliteral}{'blue'}, \textcolor{stringliteral}{'O'}:\textcolor{stringliteral}{'green'}, \textcolor{stringliteral}{'Ne'}:\textcolor{stringliteral}{'magenta'},
00532                                \textcolor{stringliteral}{'Ar'}:\textcolor{stringliteral}{'red'}, \textcolor{stringliteral}{'Cl'}:\textcolor{stringliteral}{'magenta'}, \textcolor{stringliteral}{'S'}:\textcolor{stringliteral}{'black'}, \textcolor{stringliteral}{'Fe'}:\textcolor{stringliteral}{'blue'}\}
00533                     col = col\_dic[atom[:-1]]
00534                     style\_dic = \{\textcolor{stringliteral}{'1'}:\textcolor{stringliteral}{'-'}, \textcolor{stringliteral}{'2'}:\textcolor{stringliteral}{'--'}, \textcolor{stringliteral}{'3'}:\textcolor{stringliteral}{':'}, \textcolor{stringliteral}{'4'}:\textcolor{stringliteral}{'-.'}, \textcolor{stringliteral}{'5'}:\textcolor{stringliteral}{'-'}, \textcolor{stringliteral}{'6'}:\textcolor{stringliteral}{'--'}\}
00535                     style = style\_dic[atom[-1]]
00536                     \textcolor{keywordflow}{if} tol\_value > 0.:
00537                         levels = [(1 - tol\_value) * diag\_value, (1 + tol\_value) * diag\_value]
00538                         CS = ax.contourf(X, Y, diag\_map, levels=levels, alpha=alpha, colors=col)
00539                     CS = ax.contour(X, Y, diag\_map, levels=[diag\_value], colors=col, linestyles=style)
00540                     ax.set\_xlabel(\textcolor{stringliteral}{r'log(n$\_\{\(\backslash\)rm e\}$) [cm$^\{-3\}$]'})
00541                     ax.set\_ylabel(\textcolor{stringliteral}{r'T$\_\{\(\backslash\)rm e\}$ [K]'})
00542                     \textcolor{keywordflow}{if} len(diag) >= 4:
00543                         fmt = diag[3]
00544                     \textcolor{keywordflow}{else}:
00545                         fmt = \textcolor{stringliteral}{'[\{0\}\{1\}]'}.format(atom[0:-1], \hyperlink{namespacepyneb_1_1utils_1_1misc_a7a4c4b4ba1c884da72e0ea05aa8fb90b}{int\_to\_roman}(int(atom[-1])))
00546                     ax.clabel(CS, inline=\textcolor{keyword}{True}, fmt=fmt, fontsize=15, colors=col)
00547                     \textcolor{keywordflow}{if} type(diag\_value) \textcolor{keywordflow}{is} np.ndarray:
00548                         diag\_value = diag\_value[0]
00549                     self.log\_.message(\textcolor{stringliteral}{'plotting \{0\}: \{1\} = \{2:.2\} with error of \{3:.2\} %'}.format(fmt, label
      , diag\_value, tol\_value * 100),
00550                                       calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00551         
        
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7eb28ac8852ba834dd3d23cd6113d27a}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!set\-Atoms@{set\-Atoms}}
\index{set\-Atoms@{set\-Atoms}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{set\-Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-core.\-diags.\-Diagnostics.\-set\-Atoms (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{atom\-\_\-dic}
\end{DoxyParamCaption}
)}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7eb28ac8852ba834dd3d23cd6113d27a}
\begin{DoxyVerb}Define the dictionary containing the atoms used for the diagnostics.
A dictionary of atom instantiations refereed by atom strings, for example:
{'O3': pn.Atom('O', 3)}\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00393}{393} of file \hyperlink{diags_8py_source}{diags.\-py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\-core.\-diags.\-Diagnostics.\-calling}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00393}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7eb28ac8852ba834dd3d23cd6113d27a}{00393} 
00394     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7eb28ac8852ba834dd3d23cd6113d27a}{setAtoms}(self, atom\_dic):
00395         \textcolor{stringliteral}{"""}
00396 \textcolor{stringliteral}{        Define the dictionary containing the atoms used for the diagnostics.}
00397 \textcolor{stringliteral}{        A dictionary of atom instantiations refereed by atom strings, for example:}
00398 \textcolor{stringliteral}{        \{'O3': pn.Atom('O', 3)\}}
00399 \textcolor{stringliteral}{        }
00400 \textcolor{stringliteral}{        """}
00401         \textcolor{keywordflow}{if} type(atom\_dic) != type(\{\}):
00402             self.log\_.error(\textcolor{stringliteral}{'the parameter must be a dictionary.'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.setAtoms'})
00403             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00404         \textcolor{keywordflow}{for} atom \textcolor{keywordflow}{in} atom\_dic:
00405             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(atom\_dic[atom], pn.Atom) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} isinstance(atom\_dic[atom], pn.RecAtom):
00406                 self.log\_.error(\textcolor{stringliteral}{'the parameter must be a dictionary of Atom.'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.setAtoms'})
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00407}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{00407}                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00408         self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict} = atom\_dic
00409     
    
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!atom\-Dict@{atom\-Dict}}
\index{atom\-Dict@{atom\-Dict}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{atom\-Dict}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-diags.\-Diagnostics.\-atom\-Dict}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}


The dictionary containing the atoms used for the diagnostics. 

\begin{DoxyVerb}Diagnostics constructor

Parameters:
    - addAll        switch to include all defined diagnostics (default = False)
    - OmegaInterp   parameter sent to Atom, default is 'Cheb', other can be 'linear'\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00407}{407} of file \hyperlink{diags_8py_source}{diags.\-py}.



Referenced by \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diags\-From\-Obs()}, \hyperlink{diags_8py_source_l00554}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den()}, and \hyperlink{diags_8py_source_l00706}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-Limits()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!calling@{calling}}
\index{calling@{calling}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{calling}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-diags.\-Diagnostics.\-calling}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}


Definition at line \hyperlink{diags_8py_source_l00169}{169} of file \hyperlink{diags_8py_source}{diags.\-py}.



Referenced by \hyperlink{icf_8py_source_l01075}{pyneb.\-core.\-icf.\-I\-C\-F.\-\_\-\-\_\-get\-Elem\-Abundance\-From\-Stategy()}, \hyperlink{pynebcore_8py_source_l04007}{pyneb.\-core.\-pynebcore.\-Observation.\-\_\-\-\_\-normalize()}, \hyperlink{logging_8py_source_l00059}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-add2log()}, \hyperlink{red__corr_8py_source_l00658}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-\_\-\-F99\-\_\-like()}, \hyperlink{_config_8py_source_l00115}{pyneb.\-utils.\-Config.\-\_\-\-Config.\-\_\-get\-\_\-\-Pypic\-Path()}, \hyperlink{pynebcore_8py_source_l02970}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-\_\-get\-Label\-Str()}, \hyperlink{pynebcore_8py_source_l01869}{pyneb.\-core.\-pynebcore.\-Atom.\-\_\-get\-Tem\-Den\-\_\-1()}, \hyperlink{pynebcore_8py_source_l02046}{pyneb.\-core.\-pynebcore.\-Atom.\-\_\-get\-Tem\-Den\-\_\-\-M\-P()}, \hyperlink{pynebcore_8py_source_l02754}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-\_\-load\-Fit()}, \hyperlink{pynebcore_8py_source_l02714}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-\_\-load\-H\-D\-F5()}, \hyperlink{logging_8py_source_l00051}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-pprint()}, \hyperlink{red__corr_8py_source_l00176}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-\_\-set\-\_\-law()}, \hyperlink{pynebcore_8py_source_l00178}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-\_\-test\-\_\-lev()}, \hyperlink{pn__chianti_8py_source_l00304}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Atom\-Chianti.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l00447}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-\_\-test\-\_\-lev()}, \hyperlink{pn__chianti_8py_source_l00472}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l00677}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l01045}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l01525}{pyneb.\-core.\-pynebcore.\-Atom.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l02672}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-\_\-test\-\_\-lev()}, \hyperlink{pynebcore_8py_source_l01433}{pyneb.\-core.\-pynebcore.\-Atom.\-\_\-\-Transition()}, \hyperlink{pynebcore_8py_source_l02812}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-\_\-\-Transition()}, \hyperlink{diags_8py_source_l00410}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Clabel()}, \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diags\-From\-Obs()}, \hyperlink{icf_8py_source_l00797}{pyneb.\-core.\-icf.\-I\-C\-F.\-add\-I\-C\-F()}, \hyperlink{pynebcore_8py_source_l03558}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Line()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\-core.\-pynebcore.\-Observation.\-add\-Obs()}, \hyperlink{pynebcore_8py_source_l04028}{pyneb.\-core.\-pynebcore.\-Observation.\-correct\-Data()}, \hyperlink{pynebcore_8py_source_l03447}{pyneb.\-core.\-pynebcore.\-Emission\-Line.\-correct\-Intens()}, \hyperlink{pynebcore_8py_source_l03983}{pyneb.\-core.\-pynebcore.\-Observation.\-def\-\_\-\-E\-B\-V()}, \hyperlink{diags_8py_source_l00336}{pyneb.\-core.\-diags.\-Diagnostics.\-del\-Diag()}, \hyperlink{pynebcore_8py_source_l03574}{pyneb.\-core.\-pynebcore.\-Observation.\-fill\-Obs()}, \hyperlink{red__corr_8py_source_l00211}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-get\-Corr()}, \hyperlink{manage__atomic__data_8py_source_l00297}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-get\-Data\-File()}, \hyperlink{diags_8py_source_l00183}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-From\-Label()}, \hyperlink{pynebcore_8py_source_l01782}{pyneb.\-core.\-pynebcore.\-Atom.\-get\-Emissivity()}, \hyperlink{pynebcore_8py_source_l02990}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-get\-Emissivity()}, \hyperlink{pynebcore_8py_source_l00275}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-get\-Energy()}, \hyperlink{pn__chianti_8py_source_l00366}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Atom\-Chianti.\-get\-Energy()}, \hyperlink{pynebcore_8py_source_l00537}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Ascii.\-get\-Energy()}, \hyperlink{pynebcore_8py_source_l02927}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-get\-Energy()}, \hyperlink{pynebcore_8py_source_l02176}{pyneb.\-core.\-pynebcore.\-Atom.\-get\-Ion\-Abundance()}, \hyperlink{pynebcore_8py_source_l03083}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-get\-Ion\-Abundance()}, \hyperlink{pynebcore_8py_source_l03665}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Line()}, \hyperlink{pn__chianti_8py_source_l00507}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-get\-Omega()}, \hyperlink{pynebcore_8py_source_l00828}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-get\-Omega()}, \hyperlink{pynebcore_8py_source_l01082}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-get\-Omega()}, \hyperlink{pynebcore_8py_source_l01324}{pyneb.\-core.\-pynebcore.\-Atom.\-get\-Omega()}, \hyperlink{pn__chianti_8py_source_l00484}{pyneb.\-utils.\-pn\-\_\-chianti.\-\_\-\-Coll\-Chianti.\-get\-Omega\-Array()}, \hyperlink{pynebcore_8py_source_l00800}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-get\-Omega\-Array()}, \hyperlink{pynebcore_8py_source_l01058}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Ascii.\-get\-Omega\-Array()}, \hyperlink{manage__atomic__data_8py_source_l00034}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-get\-Predefined\-Data\-File\-Dict()}, \hyperlink{pynebcore_8py_source_l03684}{pyneb.\-core.\-pynebcore.\-Observation.\-get\-Sorted\-Lines()}, \hyperlink{pynebcore_8py_source_l00249}{pyneb.\-core.\-pynebcore.\-\_\-\-Atom\-Data\-Fits.\-get\-Stat\-Weight()}, \hyperlink{pynebcore_8py_source_l02851}{pyneb.\-core.\-pynebcore.\-Rec\-Atom.\-get\-Tot\-Recombination()}, \hyperlink{red__corr_8py_source_l00303}{pyneb.\-extinction.\-red\-\_\-corr.\-Red\-Corr.\-plot()}, \hyperlink{diags_8py_source_l00421}{pyneb.\-core.\-diags.\-Diagnostics.\-plot()}, \hyperlink{plot_atomic_data_8py_source_l00117}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-A()}, \hyperlink{plot_atomic_data_8py_source_l00189}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-All\-A()}, \hyperlink{emis_grid_8py_source_l00182}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-plot\-Contours()}, \hyperlink{pynebcore_8py_source_l02384}{pyneb.\-core.\-pynebcore.\-Atom.\-plot\-Emiss()}, \hyperlink{pynebcore_8py_source_l02443}{pyneb.\-core.\-pynebcore.\-Atom.\-plot\-Grotrian()}, \hyperlink{emis_grid_8py_source_l00140}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-plot\-Image()}, \hyperlink{emis_grid_8py_source_l00241}{pyneb.\-core.\-emis\-Grid.\-Emis\-Grid.\-plot\-Line\-Ratio()}, \hyperlink{plot_atomic_data_8py_source_l00373}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-Omega()}, \hyperlink{plot_atomic_data_8py_source_l00262}{pyneb.\-plot.\-plot\-Atomic\-Data.\-Data\-Plot.\-plot\-Rel\-A()}, \hyperlink{manage__atomic__data_8py_source_l00431}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-print\-All\-Sources()}, \hyperlink{pynebcore_8py_source_l02233}{pyneb.\-core.\-pynebcore.\-Atom.\-print\-Ionic()}, \hyperlink{pynebcore_8py_source_l03711}{pyneb.\-core.\-pynebcore.\-Observation.\-read\-Data()}, \hyperlink{diags_8py_source_l00393}{pyneb.\-core.\-diags.\-Diagnostics.\-set\-Atoms()}, \hyperlink{manage__atomic__data_8py_source_l00380}{pyneb.\-utils.\-manage\-\_\-atomic\-\_\-data.\-\_\-\-Manage\-Atomic\-Data.\-set\-Data\-File()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-timer()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!diags@{diags}}
\index{diags@{diags}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{diags}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-diags.\-Diagnostics.\-diags}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}


The dictionary containing the diagnostics. 



Definition at line \hyperlink{diags_8py_source_l00173}{173} of file \hyperlink{diags_8py_source}{diags.\-py}.



Referenced by \hyperlink{diags_8py_source_l00410}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Clabel()}, \hyperlink{diags_8py_source_l00246}{pyneb.\-core.\-diags.\-Diagnostics.\-add\-Diag()}, \hyperlink{diags_8py_source_l00336}{pyneb.\-core.\-diags.\-Diagnostics.\-del\-Diag()}, \hyperlink{diags_8py_source_l00554}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den()}, \hyperlink{diags_8py_source_l00183}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-From\-Label()}, \hyperlink{diags_8py_source_l00706}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diag\-Limits()}, \hyperlink{diags_8py_source_l00201}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Diags()}, \hyperlink{diags_8py_source_l00237}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Unique\-Atoms()}, and \hyperlink{diags_8py_source_l00421}{pyneb.\-core.\-diags.\-Diagnostics.\-plot()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!log\-\_\-@{log\-\_\-}}
\index{log\-\_\-@{log\-\_\-}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{log\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-diags.\-Diagnostics.\-log\-\_\-}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}


Definition at line \hyperlink{diags_8py_source_l00168}{168} of file \hyperlink{diags_8py_source}{diags.\-py}.



Referenced by \hyperlink{logging_8py_source_l00059}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-\_\-add2log()}, \hyperlink{logging_8py_source_l00157}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-debug()}, \hyperlink{logging_8py_source_l00149}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-errors()}, \hyperlink{logging_8py_source_l00133}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-messages()}, \hyperlink{logging_8py_source_l00165}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-timer()}, \hyperlink{logging_8py_source_l00141}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-print\-\_\-warnings()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\-utils.\-logging.\-my\-\_\-logging.\-timer()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{\index{pyneb\-::core\-::diags\-::\-Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}!Omega\-Interp@{Omega\-Interp}}
\index{Omega\-Interp@{Omega\-Interp}!pyneb::core::diags::Diagnostics@{pyneb\-::core\-::diags\-::\-Diagnostics}}
\subsubsection[{Omega\-Interp}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\-core.\-diags.\-Diagnostics.\-Omega\-Interp}}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}


Definition at line \hyperlink{diags_8py_source_l00000}{0} of file \hyperlink{diags_8py_source}{diags.\-py}.



Referenced by \hyperlink{pynebcore_8py_source_l00711}{pyneb.\-core.\-pynebcore.\-\_\-\-Coll\-Data\-Fits.\-get\-Cheb\-Order()}, and \hyperlink{diags_8py_source_l00554}{pyneb.\-core.\-diags.\-Diagnostics.\-get\-Cross\-Tem\-Den()}.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
pyneb/core/\hyperlink{diags_8py}{diags.\-py}\end{DoxyCompactItemize}
