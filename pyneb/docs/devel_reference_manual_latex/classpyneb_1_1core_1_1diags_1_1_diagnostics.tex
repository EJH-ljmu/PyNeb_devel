\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics}{}\section{pyneb.\+core.\+diags.\+Diagnostics Class Reference}
\label{classpyneb_1_1core_1_1diags_1_1_diagnostics}\index{pyneb.\+core.\+diags.\+Diagnostics@{pyneb.\+core.\+diags.\+Diagnostics}}


Inherits object.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}{get\+Diag\+From\+Label} (self, label)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36b89ad0fa12a9406f7ad29f22a18799}{get\+Diags} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a74db66bd37fcea46097e4dfad4113b41}{get\+Diag\+Labels} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7113a391e6899be51eb87c9194016d43}{get\+All\+Diags} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4c5666c3444b87d30e60da598d2642fd}{get\+All\+Diag\+Labels} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a3eeb7d0c7e4c33831c0efd8f7a74e80c}{get\+Unique\+Atoms} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{add\+Diag}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_aab98440027bccb4e851da6803f0ee398}{add\+All} (self)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{del\+Diag}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a226aecfddebb567e7fe55731363635fc}{add\+Diags\+From\+Obs} (self, obs)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a01ad01e336115e86eada60350060bb9b}{set\+Atoms} (self, atom\+\_\+dic)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4215075075b04c31b533a1a5c61ddd8b}{add\+Clabel} (self, label, clabel)
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{plot}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{get\+Cross\+Tem\+Den}
\item 
def \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab136b902dcdc56ce3372a85c1f6a7b44}{get\+Diag\+Limits} (self, diag)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}{log\+\_\+}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling}
\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}
\begin{DoxyCompactList}\small\item\em The dictionary containing the diagnostics. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atom\+Dict}
\begin{DoxyCompactList}\small\item\em The dictionary containing the atoms used for the diagnostics. \end{DoxyCompactList}\item 
\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{Omega\+Interp}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Diagnostics is the class used to manage the diagnostics and to computed physical conditions 
    (electron temperatures and densities) from them. 
It is also the class that plots the diagnostic Te-Ne diagrams.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00152}{152} of file \hyperlink{diags_8py_source}{diags.\+py}.



\subsection{Member Function Documentation}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_aab98440027bccb4e851da6803f0ee398}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!add\+All@{add\+All}}
\index{add\+All@{add\+All}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{add\+All}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+add\+All (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_aab98440027bccb4e851da6803f0ee398}
\begin{DoxyVerb}Insert all the possible diagnostics in the Object (no parameters)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00327}{327} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00327}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_aab98440027bccb4e851da6803f0ee398}{00327}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_aab98440027bccb4e851da6803f0ee398}{addAll}(self):
00328         \textcolor{stringliteral}{"""}
00329 \textcolor{stringliteral}{        Insert all the possible diagnostics in the Object (no parameters)}
00330 \textcolor{stringliteral}{        }
00331 \textcolor{stringliteral}{        """}
00332         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00333             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00334             
00335             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4215075075b04c31b533a1a5c61ddd8b}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!add\+Clabel@{add\+Clabel}}
\index{add\+Clabel@{add\+Clabel}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{add\+Clabel}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+add\+Clabel (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label, }
\item[{}]{clabel}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4215075075b04c31b533a1a5c61ddd8b}
\begin{DoxyVerb}Add an alternative label to a diagnostic that can be used when plotting diagnostic diagrams.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00410}{410} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, and \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00410}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4215075075b04c31b533a1a5c61ddd8b}{00410}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4215075075b04c31b533a1a5c61ddd8b}{addClabel}(self, label, clabel):
00411         \textcolor{stringliteral}{"""}
00412 \textcolor{stringliteral}{        Add an alternative label to a diagnostic that can be used when plotting diagnostic diagrams.}
00413 \textcolor{stringliteral}{        }
00414 \textcolor{stringliteral}{        """}
00415         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00416             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = (self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][0], self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][1], self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label][2], clabel)
00417         \textcolor{keywordflow}{else}:
00418             pn.log\_.warn(\textcolor{stringliteral}{'Try to add clabel in undefined label \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00419     
00420     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!add\+Diag@{add\+Diag}}
\index{add\+Diag@{add\+Diag}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{add\+Diag}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily None}, }
\item[{}]{diag\+\_\+tuple = {\ttfamily None}, }
\item[{}]{atom = {\ttfamily None}, }
\item[{}]{wave\+\_\+range = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}
\begin{DoxyVerb}Add diagnostics to the list of available diagnostics. It can either be one of the built-in diagnostics,
a new, user-defined one, or a subset of the built-in diagnostics corresponding to a given atom or wavelength.

Parameters:
    - label        a string or a list of strings describing the diagnostic, e.g. '[OIII] 4363/5007'. 
           If it is not a key of diags_dict (a diagnostic define by PyNeb), diag_tuple must also be specified
    - diag_tuple   a 3 elements tuple containing:
           + the atom, e.g. 'Ar5'
           + the algebraic description of the diagnostic, in terms of line wavelengths or blends or levels, 
             e.g. '(L(6435)+L(7006))/L(4626)'
           + the algebraic description of the error, e.g. 
             'RMS([E(6435)*L(6435)/(L(6435)+L(7006)), E(7006)*L(7006)/(L(6435)+L(7006)), E(4626)])'
    - atom         the selected atom, e.g. 'O3'
    - wave_range   the selected wavelength range
    
Usage:
diags.addDiag('[OIII] 4363/5007')
diags.addDiag('[OIII] 5007/51m', ('O3', 'L(5007)/L(51800)', 'RMS([E(51800), E(5007)])'))
diags.addDiag(atom='O3')
diags.addDiag(wave_range=[4000, 6000])\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00246}{246} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\+core.\+diags.\+Diagnostics.\+atom\+Dict}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}, and \hyperlink{misc_8py_source_l00117}{pyneb.\+utils.\+misc.\+parse\+Atom()}.



Referenced by \hyperlink{diags_8py_source_l00327}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+All()}, \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diags\+From\+Obs()}, and \hyperlink{diags_8py_source_l00554}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00246}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{00246}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(self, label=None, diag\_tuple=None, atom=None, wave\_range=None):
00247         \textcolor{stringliteral}{"""}
00248 \textcolor{stringliteral}{        Add diagnostics to the list of available diagnostics. It can either be one of the built-in
       diagnostics,}
00249 \textcolor{stringliteral}{        a new, user-defined one, or a subset of the built-in diagnostics corresponding to a given atom or
       wavelength.}
00250 \textcolor{stringliteral}{        }
00251 \textcolor{stringliteral}{        Parameters:}
00252 \textcolor{stringliteral}{            - label        a string or a list of strings describing the diagnostic, e.g. '[OIII] 4363/5007'
      . }
00253 \textcolor{stringliteral}{                           If it is not a key of diags\_dict (a diagnostic define by PyNeb), diag\_tuple must
       also be specified}
00254 \textcolor{stringliteral}{            - diag\_tuple   a 3 elements tuple containing:}
00255 \textcolor{stringliteral}{                           + the atom, e.g. 'Ar5'}
00256 \textcolor{stringliteral}{                           + the algebraic description of the diagnostic, in terms of line wavelengths or
       blends or levels, }
00257 \textcolor{stringliteral}{                             e.g. '(L(6435)+L(7006))/L(4626)'}
00258 \textcolor{stringliteral}{                           + the algebraic description of the error, e.g. }
00259 \textcolor{stringliteral}{                             'RMS([E(6435)*L(6435)/(L(6435)+L(7006)), E(7006)*L(7006)/(L(6435)+L(7006)),
       E(4626)])'}
00260 \textcolor{stringliteral}{            - atom         the selected atom, e.g. 'O3'}
00261 \textcolor{stringliteral}{            - wave\_range   the selected wavelength range}
00262 \textcolor{stringliteral}{            }
00263 \textcolor{stringliteral}{        Usage:}
00264 \textcolor{stringliteral}{        diags.addDiag('[OIII] 4363/5007')}
00265 \textcolor{stringliteral}{        diags.addDiag('[OIII] 5007/51m', ('O3', 'L(5007)/L(51800)', 'RMS([E(51800), E(5007)])'))}
00266 \textcolor{stringliteral}{        diags.addDiag(atom='O3')}
00267 \textcolor{stringliteral}{        diags.addDiag(wave\_range=[4000, 6000])}
00268 \textcolor{stringliteral}{}
00269 \textcolor{stringliteral}{        """}
00270         \textcolor{keywordflow}{if} type(label) \textcolor{keywordflow}{is} list:
00271             \textcolor{keywordflow}{for} lab \textcolor{keywordflow}{in} label:
00272                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(lab)
00273         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00274             self.log\_.warn(\textcolor{stringliteral}{'\{0\} already in diagnostic'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00275         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} diags\_dict:
00276             self.log\_.message(\textcolor{stringliteral}{'Adding diag \{0\}'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00277             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = diags\_dict[label]
00278             atom = diags\_dict[label][0]
00279         \textcolor{keywordflow}{elif} type(diag\_tuple) \textcolor{keywordflow}{is} tuple:
00280             \textcolor{keywordflow}{if} len(diag\_tuple) == 3:    
00281                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label] = diag\_tuple
00282                 atom = diag\_tuple[0]
00283             \textcolor{keywordflow}{else}:
00284                 self.log\_.error(\textcolor{stringliteral}{'\{0\} is not in the list of diagnostics. The parameter diag\_tuple must be a
       3-elements tuple describing the diagnostic'}.format(label), calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.addDiag'})
00285         \textcolor{keywordflow}{elif} atom \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00286             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00287                 \textcolor{keywordflow}{if} diags\_dict[label][0] == atom:
00288                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00289 \textcolor{comment}{#                    if atom not in self.atomDict:}
00290 \textcolor{comment}{#                        self.atomDict[atom] = pn.Atom(parseAtom(atom)[0], parseAtom(atom)[1])}
00291         \textcolor{keywordflow}{elif} wave\_range \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00292 \textcolor{comment}{# To be done: add the possibility to use several independent ranges. The following bit does the trick, but}
00293 \textcolor{comment}{# only if all the wavelengths of a diagnostic are included in the same range}
00294 \textcolor{comment}{#            if type(wave\_range[0]) is list:}
00295 \textcolor{comment}{#                for subrange in wave\_range:}
00296 \textcolor{comment}{#                    self.addDiag(label, diag\_tuple, atom, subrange)}
00297                  
00298             \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00299                 expr = diags\_dict[label][1]
00300                 waves = []
00301                 wave = \textcolor{stringliteral}{''}
00302                 in\_wave = \textcolor{keyword}{False}
00303                 \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} expr:
00304                     \textcolor{keywordflow}{if} i.isdigit():
00305                         wave = wave + i
00306                         in\_wave = \textcolor{keyword}{True}
00307                     \textcolor{keywordflow}{elif} (i == \textcolor{stringliteral}{'m'}):
00308                         \textcolor{keywordflow}{if} in\_wave == \textcolor{keyword}{True}:
00309                             waves.append(int(wave) * 10000.)
00310                             in\_wave = \textcolor{keyword}{False}
00311                             wave = \textcolor{stringliteral}{''}
00312                     \textcolor{keywordflow}{else}:
00313                         \textcolor{keywordflow}{if} in\_wave == \textcolor{keyword}{True}:
00314                             waves.append(int(wave))
00315                             in\_wave = \textcolor{keyword}{False}
00316                             wave = \textcolor{stringliteral}{''}
00317                 \textcolor{keywordflow}{if} (min(waves) > min(wave\_range)) \textcolor{keywordflow}{and} (max(waves) < max(wave\_range)):
00318                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00319         \textcolor{keywordflow}{else}:
00320             self.log\_.error(\textcolor{stringliteral}{'Bad syntax. You must either give the label of an existing diagnostic, or the
       label and the tuple of a new one,'} + 
00321                             \textcolor{stringliteral}{'or an ion, or a wave range. label=\{0\}, diag\_tuple=\{1\}, atom=\{2\},
       wave\_range=\{3\}'}.format(label, diag\_tuple, atom, wave\_range),
00322                             calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.addDiag'})
00323         \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict} \textcolor{keywordflow}{and} (type(label) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} list):
00324             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom] = pn.Atom(\hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(atom)[0], 
      \hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(atom)[1])
00325                
00326                
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a226aecfddebb567e7fe55731363635fc}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!add\+Diags\+From\+Obs@{add\+Diags\+From\+Obs}}
\index{add\+Diags\+From\+Obs@{add\+Diags\+From\+Obs}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{add\+Diags\+From\+Obs}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diags\+From\+Obs (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{obs}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a226aecfddebb567e7fe55731363635fc}
\begin{DoxyVerb}Add all the possible diagnostics that can be computed from an Observation object

Usage:
    diags.addDiagsFromObs(obs)
    
Parameter:
    obs     an Observation object
\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00353}{353} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\+core.\+diags.\+Diagnostics.\+atom\+Dict}, \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, and \hyperlink{misc_8py_source_l00117}{pyneb.\+utils.\+misc.\+parse\+Atom()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00353}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a226aecfddebb567e7fe55731363635fc}{00353}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a226aecfddebb567e7fe55731363635fc}{addDiagsFromObs}(self, obs):
00354         \textcolor{stringliteral}{"""}
00355 \textcolor{stringliteral}{        Add all the possible diagnostics that can be computed from an Observation object}
00356 \textcolor{stringliteral}{        }
00357 \textcolor{stringliteral}{        Usage:}
00358 \textcolor{stringliteral}{            diags.addDiagsFromObs(obs)}
00359 \textcolor{stringliteral}{            }
00360 \textcolor{stringliteral}{        Parameter:}
00361 \textcolor{stringliteral}{            obs     an Observation object}
00362 \textcolor{stringliteral}{        """}
00363         
00364         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(obs, pn.Observation):
00365             pn.log\_.error(\textcolor{stringliteral}{'The argument must be an Observation object'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'addDiagsFromObs'})
00366         old\_level = pn.log\_.level
00367         pn.log\_.level = 1
00368         \textcolor{keyword}{def }I(i, j):
00369             wave = atom.wave\_Ang[i - 1, j - 1]
00370             corrIntens = obs.getLine(sym, spec, wave).corrIntens
00371             \textcolor{keywordflow}{return} corrIntens
00372         \textcolor{keyword}{def }L(wave):
00373             corrIntens = obs.getLine(sym, spec, wave).corrIntens
00374             \textcolor{keywordflow}{return} corrIntens
00375         \textcolor{keyword}{def }B(label):
00376             full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00377             corrIntens = obs.getLine(label=full\_label).corrIntens
00378             \textcolor{keywordflow}{return} corrIntens
00379         
00380         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} diags\_dict:
00381             atom, diag\_expression, error = diags\_dict[label]
00382             sym, spec = \hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(atom)
00383             \textcolor{keywordflow}{try}:
00384                 diag\_value = eval(diag\_expression)
00385                 \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00386                     self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom] = pn.Atom(atom=atom)
00387                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(label)
00388             \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} ex:
00389                 \textcolor{keywordflow}{pass}
00390         pn.log\_.level = old\_level
00391     
00392     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!del\+Diag@{del\+Diag}}
\index{del\+Diag@{del\+Diag}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{del\+Diag}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+del\+Diag (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}
\begin{DoxyVerb}Remove a diagnostic, based on its label.

Parameter:
    - label  the label of the diagnostic ('all': removes all the diagnostics)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00336}{336} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{diags_8py_source_l00336}{pyneb.\+core.\+diags.\+Diagnostics.\+del\+Diag()}, and \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}.



Referenced by \hyperlink{diags_8py_source_l00336}{pyneb.\+core.\+diags.\+Diagnostics.\+del\+Diag()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00336}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{00336}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{delDiag}(self, label=None):
00337         \textcolor{stringliteral}{"""}
00338 \textcolor{stringliteral}{        Remove a diagnostic, based on its label.}
00339 \textcolor{stringliteral}{        }
00340 \textcolor{stringliteral}{        Parameter:}
00341 \textcolor{stringliteral}{            - label  the label of the diagnostic ('all': removes all the diagnostics)}
00342 \textcolor{stringliteral}{}
00343 \textcolor{stringliteral}{        """}
00344         \textcolor{keywordflow}{if} label == \textcolor{stringliteral}{'all'}:
00345             \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00346                 self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a64bbc36bfe0bb22570a1cb500cc395ef}{delDiag}(item)
00347         \textcolor{keywordflow}{elif} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00348             del self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00349         \textcolor{keywordflow}{else}:
00350             self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in diagnostic, cannot be removed'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00351     
00352     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4c5666c3444b87d30e60da598d2642fd}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+All\+Diag\+Labels@{get\+All\+Diag\+Labels}}
\index{get\+All\+Diag\+Labels@{get\+All\+Diag\+Labels}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+All\+Diag\+Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+All\+Diag\+Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4c5666c3444b87d30e60da598d2642fd}
\begin{DoxyVerb}Return the labels of all the possible diagnostics.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00228}{228} of file \hyperlink{diags_8py_source}{diags.\+py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00228}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4c5666c3444b87d30e60da598d2642fd}{00228}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a4c5666c3444b87d30e60da598d2642fd}{getAllDiagLabels}(self):
00229         \textcolor{stringliteral}{"""}
00230 \textcolor{stringliteral}{        Return the labels of all the possible diagnostics.}
00231 \textcolor{stringliteral}{        No parameter.}
00232 \textcolor{stringliteral}{        }
00233 \textcolor{stringliteral}{        """}
00234         \textcolor{keywordflow}{return} diags\_dict.keys()    
00235 
00236     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7113a391e6899be51eb87c9194016d43}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+All\+Diags@{get\+All\+Diags}}
\index{get\+All\+Diags@{get\+All\+Diags}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+All\+Diags}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+All\+Diags (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7113a391e6899be51eb87c9194016d43}
\begin{DoxyVerb}Return the definitions (tuples) of all the possible diagnostics.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00219}{219} of file \hyperlink{diags_8py_source}{diags.\+py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00219}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7113a391e6899be51eb87c9194016d43}{00219}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a7113a391e6899be51eb87c9194016d43}{getAllDiags}(self):
00220         \textcolor{stringliteral}{"""}
00221 \textcolor{stringliteral}{        Return the definitions (tuples) of all the possible diagnostics.}
00222 \textcolor{stringliteral}{        No parameter.}
00223 \textcolor{stringliteral}{        }
00224 \textcolor{stringliteral}{        """}
00225         \textcolor{keywordflow}{return} diags\_dict
00226 
00227             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Cross\+Tem\+Den@{get\+Cross\+Tem\+Den}}
\index{get\+Cross\+Tem\+Den@{get\+Cross\+Tem\+Den}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Cross\+Tem\+Den}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{diag\+\_\+tem, }
\item[{}]{diag\+\_\+den, }
\item[{}]{value\+\_\+tem = {\ttfamily None}, }
\item[{}]{value\+\_\+den = {\ttfamily None}, }
\item[{}]{obs = {\ttfamily None}, }
\item[{}]{i\+\_\+obs = {\ttfamily None}, }
\item[{}]{guess\+\_\+tem = {\ttfamily 10000}, }
\item[{}]{tol\+\_\+tem = {\ttfamily 1.}, }
\item[{}]{tol\+\_\+den = {\ttfamily 1.}, }
\item[{}]{max\+\_\+iter = {\ttfamily 5}, }
\item[{}]{max\+Error = {\ttfamily 1e-\/3}, }
\item[{}]{start\+\_\+tem = {\ttfamily -\/1}, }
\item[{}]{end\+\_\+tem = {\ttfamily -\/1}, }
\item[{}]{start\+\_\+den = {\ttfamily -\/1}, }
\item[{}]{end\+\_\+den = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}
\begin{DoxyVerb}Cross-converge the temperature and density derived from two sensitive line ratios, by inputting the quantity 
derived with one line ratio into the other and then iterating.
The temperature- and density-sensitive ratios can be input directly or as an Observation object
    
Parameters:
    
- diag_tem   temperature-sensitive diagnostic line ratio
- diag_den   density-sensitive diagnostic line ratio
- value_tem  value of the temperature-sensitive diagnostic
- value_den  value of the density-sensitive diagnostic
- obs        np.Observation object. Values for observed temperature and density diagnostics are
        taken from it if value_tem and value_den are None
- i_obs      index of the observations to be used from obs. 
        If None, all the observations are considered.
        May be a boolean array
- guess_tem  temperature assumed in the first iteration, in K
- tol_tem    tolerance of the temperature result, in %
- tol_den    tolerance of the density result, in %
- max_iter   maximum number of iterations to be performed, after which the function will throw a result
- maxError   maximum error in the calls to getTemDen, in %
- start_tem, end_tem  lower and upper limit of the explored temperature range 
- start_den, end_den  lower and upper limit of the explored density range 
    
Example:
    tem, den = diags.getCrossTemDen('[OIII] 4363/5007', '[SII] 6731/6716', 0.0050, 1.0, 
        guess_tem=10000, tol_tem = 1., tol_den = 1., max_iter = 5)\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00554}{554} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00407}{pyneb.\+core.\+diags.\+Diagnostics.\+atom\+Dict}, \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}, \hyperlink{diags_8py_source_l00000}{pyneb.\+core.\+diags.\+Diagnostics.\+Omega\+Interp}, and \hyperlink{misc_8py_source_l00117}{pyneb.\+utils.\+misc.\+parse\+Atom()}.



Referenced by \hyperlink{diags_8py_source_l00421}{pyneb.\+core.\+diags.\+Diagnostics.\+plot()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00554}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a2b0ebbaab7ce09624c1bc930e62bc228}{00554}                        start\_tem= -1, end\_tem= -1, start\_den= -1, end\_den= -1):
00555         \textcolor{stringliteral}{"""}
00556 \textcolor{stringliteral}{        Cross-converge the temperature and density derived from two sensitive line ratios, by inputting the
       quantity }
00557 \textcolor{stringliteral}{        derived with one line ratio into the other and then iterating.}
00558 \textcolor{stringliteral}{        The temperature- and density-sensitive ratios can be input directly or as an Observation object}
00559 \textcolor{stringliteral}{    }
00560 \textcolor{stringliteral}{        Parameters:}
00561 \textcolor{stringliteral}{    }
00562 \textcolor{stringliteral}{        - diag\_tem   temperature-sensitive diagnostic line ratio}
00563 \textcolor{stringliteral}{        - diag\_den   density-sensitive diagnostic line ratio}
00564 \textcolor{stringliteral}{        - value\_tem  value of the temperature-sensitive diagnostic}
00565 \textcolor{stringliteral}{        - value\_den  value of the density-sensitive diagnostic}
00566 \textcolor{stringliteral}{        - obs        np.Observation object. Values for observed temperature and density diagnostics are}
00567 \textcolor{stringliteral}{                        taken from it if value\_tem and value\_den are None}
00568 \textcolor{stringliteral}{        - i\_obs      index of the observations to be used from obs. }
00569 \textcolor{stringliteral}{                        If None, all the observations are considered.}
00570 \textcolor{stringliteral}{                        May be a boolean array}
00571 \textcolor{stringliteral}{        - guess\_tem  temperature assumed in the first iteration, in K}
00572 \textcolor{stringliteral}{        - tol\_tem    tolerance of the temperature result, in %}
00573 \textcolor{stringliteral}{        - tol\_den    tolerance of the density result, in %}
00574 \textcolor{stringliteral}{        - max\_iter   maximum number of iterations to be performed, after which the function will throw a
       result}
00575 \textcolor{stringliteral}{        - maxError   maximum error in the calls to getTemDen, in %}
00576 \textcolor{stringliteral}{        - start\_tem, end\_tem  lower and upper limit of the explored temperature range }
00577 \textcolor{stringliteral}{        - start\_den, end\_den  lower and upper limit of the explored density range }
00578 \textcolor{stringliteral}{    }
00579 \textcolor{stringliteral}{        Example:}
00580 \textcolor{stringliteral}{            tem, den = diags.getCrossTemDen('[OIII] 4363/5007', '[SII] 6731/6716', 0.0050, 1.0, }
00581 \textcolor{stringliteral}{                        guess\_tem=10000, tol\_tem = 1., tol\_den = 1., max\_iter = 5)}
00582 \textcolor{stringliteral}{}
00583 \textcolor{stringliteral}{        """}
00584         \textcolor{comment}{# TODO:}
00585         \textcolor{comment}{# Define a lower/upper density and temperature }
00586         \textcolor{comment}{# to be used in case the diag is pointing to values out of the boundaires}
00587         \textcolor{keywordflow}{if} diag\_tem \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00588             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(diag\_tem)
00589         atom\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_tem][0]
00590         elem\_tem, spec\_tem = \hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(atom\_tem)
00591         \textcolor{keywordflow}{if} atom\_tem \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00592             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_tem] = pn.Atom(elem\_tem, spec\_tem, self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{OmegaInterp})
00593         atom\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_tem]
00594         \textcolor{keywordflow}{if} diag\_den \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00595             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a508fa9c5a2216f9eb4128338c33a6f75}{addDiag}(diag\_den)
00596         atom\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][0]
00597         elem\_den, spec\_den = \hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][0])
00598         \textcolor{keywordflow}{if} (atom\_den) \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}:
00599             self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_den] = pn.Atom(elem\_den, spec\_den, self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{OmegaInterp})
00600         atom\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[atom\_den]
00601         eval\_tem = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_tem][1]
00602         eval\_den = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag\_den][1]
00603         calling = \textcolor{stringliteral}{'Diag.getCrossTemDen %s %s'} % (diag\_tem, diag\_den)
00604         \textcolor{keywordflow}{if} value\_tem \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00605             \textcolor{keyword}{def }L(wave):
00606                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00607                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens
00608                 \textcolor{keywordflow}{else}:
00609                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens[i\_obs]
00610             \textcolor{keyword}{def }I(i, j):
00611                 wave = atom\_tem.wave\_Ang[i - 1, j - 1]
00612                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00613                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens
00614                 \textcolor{keywordflow}{else}:
00615                     \textcolor{keywordflow}{return} obs.getLine(elem\_tem, spec\_tem, wave).corrIntens[i\_obs]
00616             \textcolor{keyword}{def }B(label, I=I, L=L):
00617                 full\_label = elem\_tem + spec\_tem + \textcolor{stringliteral}{'\_'} + label
00618                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00619                     corrIntens = obs.getLine(label=full\_label).corrIntens
00620                 \textcolor{keywordflow}{else}:
00621                     corrIntens = obs.getLine(label=full\_label).corrIntens[i\_obs]
00622                 \textcolor{keywordflow}{return} corrIntens
00623             \textcolor{comment}{#pn.log\_.debug('to eval is \{0\}'.format(eval\_tem), calling=calling + 'TEST')}
00624             \textcolor{keywordflow}{try}:
00625                 value\_tem = eval(eval\_tem)
00626                 \textcolor{comment}{#pn.log\_.debug('to eval = \{0\}'.format(value\_tem), calling=calling + 'TEST')}
00627             \textcolor{keywordflow}{except}:
00628                 pn.log\_.warn(\textcolor{stringliteral}{'No value for \{0\} \{1\}: \{2\} in obs'}.format(elem\_tem, spec\_tem, diag\_tem), 
      calling=calling)
00629                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00630         \textcolor{keywordflow}{else}:
00631             \textcolor{keywordflow}{if} type(value\_tem) == type([]): value\_tem = np.asarray(value\_tem)
00632         \textcolor{keywordflow}{if} value\_den \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00633             \textcolor{keyword}{def }L(wave): 
00634                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00635                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens
00636                 \textcolor{keywordflow}{else}:
00637                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens[i\_obs]
00638             \textcolor{keyword}{def }I(i, j):
00639                 wave = atom\_den.wave\_Ang[i - 1, j - 1]
00640                 pn.log\_.debug(\textcolor{stringliteral}{'wave is \{0\}'}.format(wave), calling=calling + \textcolor{stringliteral}{'TEST3'})
00641                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00642                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens
00643                 \textcolor{keywordflow}{else}:
00644                     \textcolor{keywordflow}{return} obs.getLine(elem\_den, spec\_den, wave).corrIntens[i\_obs]
00645             \textcolor{keyword}{def }B(label, I=I, L=L):
00646                 full\_label = elem\_den + spec\_den + \textcolor{stringliteral}{'\_'} + label
00647                 \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00648                     corrIntens = obs.getLine(label=full\_label).corrIntens
00649                 \textcolor{keywordflow}{else}:
00650                     corrIntens = obs.getLine(label=full\_label).corrIntens[i\_obs]
00651                 \textcolor{keywordflow}{return} corrIntens
00652             \textcolor{comment}{#pn.log\_.debug('to eval is \{0\}'.format(eval\_den), calling=calling + ' TEST')}
00653             \textcolor{keywordflow}{try}:
00654                 value\_den = eval(eval\_den)
00655                 \textcolor{comment}{#pn.log\_.debug('to eval = \{0\}'.format(value\_den), calling=calling + ' TEST1')}
00656             \textcolor{keywordflow}{except}:
00657                 pn.log\_.warn(\textcolor{stringliteral}{'No value for \{0\} \{1\}: \{2\} in obs'}.format(elem\_den, spec\_den, diag\_den), 
      calling=calling)
00658                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00659         \textcolor{keywordflow}{else}:
00660             \textcolor{keywordflow}{if} type(value\_den) == type([]): value\_den = np.asarray(value\_den)
00661         den = atom\_den.getTemDen(value\_den, tem=guess\_tem, to\_eval=eval\_den,
00662                                  maxError=maxError, start\_x=start\_den, end\_x=end\_den)
00663         
00664         tem = atom\_tem.getTemDen(value\_tem, den=den, to\_eval=eval\_tem,
00665                                  maxError=maxError, start\_x=start\_tem, end\_x=end\_tem)
00666 \textcolor{comment}{#        self.log\_.debug('tem: ' + str(tem) + ' den:' + str(den), calling='getCrossTemDen')}
00667         no\_conv = np.ones\_like(den).astype(bool)
00668         n\_tot = np.asarray(value\_tem).size
00669         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} np.arange(max\_iter):
00670             \textcolor{keywordflow}{if} type(tem) == type(1.):
00671                 tem\_old = tem
00672             \textcolor{keywordflow}{else}:
00673                 tem\_old = tem.copy()
00674             \textcolor{keywordflow}{if} type(den) == type(1.):
00675                 den\_old = den
00676             \textcolor{keywordflow}{else}:
00677                 den\_old = den.copy()
00678             
00679             \textcolor{keywordflow}{if} n\_tot > 1:
00680                 den[no\_conv] = atom\_den.getTemDen(value\_den[no\_conv], tem=tem\_old[no\_conv],
00681                                                   to\_eval=eval\_den, start\_x=start\_den, end\_x=end\_den)
00682                 tem[no\_conv] = atom\_tem.getTemDen(value\_tem[no\_conv], den=den\_old[no\_conv],
00683                                                   to\_eval=eval\_tem, start\_x=start\_tem, end\_x=end\_tem)
00684             \textcolor{keywordflow}{else}:
00685                 den = atom\_den.getTemDen(value\_den, tem=tem\_old, to\_eval=eval\_den, start\_x=start\_den, end\_x
      =end\_den)
00686                 tem = atom\_tem.getTemDen(value\_tem, den=den\_old, to\_eval=eval\_tem, start\_x=start\_tem, end\_x
      =end\_tem)
00687                 
00688             no\_conv = ((abs(den\_old - den) / den * 100) > tol\_den) | ((abs(tem\_old - tem) / tem * 100) > 
      tol\_tem)
00689             \textcolor{keywordflow}{if} type(no\_conv) == type(\textcolor{keyword}{True}):
00690                 n\_no\_conv = int(no\_conv)
00691             \textcolor{keywordflow}{else}:
00692                 n\_no\_conv = no\_conv.sum()
00693             
00694             pn.log\_.message(\textcolor{stringliteral}{'\{0\} (max=\{1\}): not converged \{2\} of \{3\}.'}.format(i, max\_iter, n\_no\_conv, n\_tot
      ),
00695                             calling=calling)
00696             \textcolor{keywordflow}{if} n\_no\_conv == 0:
00697                 \textcolor{keywordflow}{return} tem, den
00698         \textcolor{keywordflow}{if} n\_tot == 1:
00699             tem = np.nan
00700             den = np.nan
00701         \textcolor{keywordflow}{else}:
00702             tem[no\_conv] = np.nan
00703             den[no\_conv] = np.nan
00704         \textcolor{keywordflow}{return} tem, den
00705     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Diag\+From\+Label@{get\+Diag\+From\+Label}}
\index{get\+Diag\+From\+Label@{get\+Diag\+From\+Label}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Diag\+From\+Label}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+From\+Label (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{label}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}
\begin{DoxyVerb}Return the definition of a diagnostic (the 3 or 4 elements tuple)

Usage:
    diags.getDiagFromLabel('[NII] 5755/6548')

Parameters:
    -label a diagnostic label \end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00183}{183} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, and \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}.



Referenced by \hyperlink{diags_8py_source_l00201}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diags()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00183}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}{00183}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}{getDiagFromLabel}(self, label):
00184         \textcolor{stringliteral}{"""}
00185 \textcolor{stringliteral}{        Return the definition of a diagnostic (the 3 or 4 elements tuple)}
00186 \textcolor{stringliteral}{        }
00187 \textcolor{stringliteral}{        Usage:}
00188 \textcolor{stringliteral}{            diags.getDiagFromLabel('[NII] 5755/6548')}
00189 \textcolor{stringliteral}{        }
00190 \textcolor{stringliteral}{        Parameters:}
00191 \textcolor{stringliteral}{            -label a diagnostic label }
00192 \textcolor{stringliteral}{            }
00193 \textcolor{stringliteral}{        """}
00194         \textcolor{keywordflow}{if} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00195             \textcolor{keywordflow}{return} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00196         \textcolor{keywordflow}{else}:
00197             self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in diagnostic'}.format(label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00198             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00199 
00200         
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a74db66bd37fcea46097e4dfad4113b41}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Diag\+Labels@{get\+Diag\+Labels}}
\index{get\+Diag\+Labels@{get\+Diag\+Labels}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Diag\+Labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+Labels (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a74db66bd37fcea46097e4dfad4113b41}
\begin{DoxyVerb}Return the labels of all the diagnostics defined in the Object
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00210}{210} of file \hyperlink{diags_8py_source}{diags.\+py}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00210}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a74db66bd37fcea46097e4dfad4113b41}{00210}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a74db66bd37fcea46097e4dfad4113b41}{getDiagLabels}(self):
00211         \textcolor{stringliteral}{"""}
00212 \textcolor{stringliteral}{        Return the labels of all the diagnostics defined in the Object}
00213 \textcolor{stringliteral}{        No parameter.}
00214 \textcolor{stringliteral}{        }
00215 \textcolor{stringliteral}{        """}
00216         \textcolor{keywordflow}{return} self.diags.keys()    
00217 
00218     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab136b902dcdc56ce3372a85c1f6a7b44}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Diag\+Limits@{get\+Diag\+Limits}}
\index{get\+Diag\+Limits@{get\+Diag\+Limits}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Diag\+Limits}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+Limits (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{diag}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab136b902dcdc56ce3372a85c1f6a7b44}
\begin{DoxyVerb}Return the low and high density values for a given diagnostic
\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00706}{706} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00407}{pyneb.\+core.\+diags.\+Diagnostics.\+atom\+Dict}, and \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00706}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab136b902dcdc56ce3372a85c1f6a7b44}{00706}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_ab136b902dcdc56ce3372a85c1f6a7b44}{getDiagLimits}(self, diag):
00707         \textcolor{stringliteral}{"""}
00708 \textcolor{stringliteral}{        Return the low and high density values for a given diagnostic}
00709 \textcolor{stringliteral}{        """}
00710         atom = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict}[self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag][0]]
00711         to\_eval = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[diag][1]
00712         HDR = atom.getHighDensRatio(to\_eval = to\_eval)
00713         LDR = atom.getLowDensRatio(to\_eval = to\_eval)
00714         return(np.sort((LDR, HDR)))
00715     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36b89ad0fa12a9406f7ad29f22a18799}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Diags@{get\+Diags}}
\index{get\+Diags@{get\+Diags}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Diags}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diags (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36b89ad0fa12a9406f7ad29f22a18799}
\begin{DoxyVerb}Return the definitions (tuples) of all the diagnostics defined in the Object.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00201}{201} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}, and \hyperlink{diags_8py_source_l00183}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+From\+Label()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00201}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36b89ad0fa12a9406f7ad29f22a18799}{00201}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36b89ad0fa12a9406f7ad29f22a18799}{getDiags}(self):
00202         \textcolor{stringliteral}{"""}
00203 \textcolor{stringliteral}{        Return the definitions (tuples) of all the diagnostics defined in the Object.}
00204 \textcolor{stringliteral}{        No parameter.}
00205 \textcolor{stringliteral}{        }
00206 \textcolor{stringliteral}{        """}
00207         \textcolor{keywordflow}{return} [self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_acf43d1129a2fbbdcecb4bbf1389872bc}{getDiagFromLabel}(label) \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}]
00208 
00209             
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a3eeb7d0c7e4c33831c0efd8f7a74e80c}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!get\+Unique\+Atoms@{get\+Unique\+Atoms}}
\index{get\+Unique\+Atoms@{get\+Unique\+Atoms}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{get\+Unique\+Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+get\+Unique\+Atoms (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a3eeb7d0c7e4c33831c0efd8f7a74e80c}
\begin{DoxyVerb}Return a numpy.ndarray of the ions needed by the diagnostics. Unique is applied to the list before returning.
No parameter.\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00237}{237} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00237}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a3eeb7d0c7e4c33831c0efd8f7a74e80c}{00237}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a3eeb7d0c7e4c33831c0efd8f7a74e80c}{getUniqueAtoms}(self):
00238         \textcolor{stringliteral}{"""}
00239 \textcolor{stringliteral}{        Return a numpy.ndarray of the ions needed by the diagnostics. Unique is applied to the list before
       returning.}
00240 \textcolor{stringliteral}{        No parameter.}
00241 \textcolor{stringliteral}{        }
00242 \textcolor{stringliteral}{        """}
00243         \textcolor{keywordflow}{return} np.unique([self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[d][0] \textcolor{keywordflow}{for} d \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags} \textcolor{keywordflow}{if} self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[d] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}])
00244     
00245     
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!plot@{plot}}
\index{plot@{plot}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{plot}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+plot (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{emis\+\_\+grids, }
\item[{}]{obs, }
\item[{}]{quad = {\ttfamily True}, }
\item[{}]{i\+\_\+obs = {\ttfamily None}, }
\item[{}]{alpha = {\ttfamily 0.3}, }
\item[{}]{ax = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}
\begin{DoxyVerb}PLotting tool to generate Te-Ne diagrams.

Usage:
    diags.plot(emisgrids, obs, i_obs=3)
    
Parameters:
    - emis_grids    A dictionary of EmisGrid objects refereed by their atom strings (e.g. 'O3')
            This can for example be the output of pn.getEmisGridDict()
    - obs           A pn.Observation object that is supposed to contain the line intensities
            used for the plot (corrected intensities).
    - quad          If True (default) the sum of the error is quadratic,otherwise is linear.
    - i_obs         reference for the observation to be plotted, in case there is more than one
            in the obs object
    - alpha         Transparency for the error bands in the plot\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00421}{421} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}, \hyperlink{diags_8py_source_l00173}{pyneb.\+core.\+diags.\+Diagnostics.\+diags}, \hyperlink{diags_8py_source_l00554}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den()}, \hyperlink{misc_8py_source_l00013}{pyneb.\+utils.\+misc.\+int\+\_\+to\+\_\+roman()}, and \hyperlink{misc_8py_source_l00117}{pyneb.\+utils.\+misc.\+parse\+Atom()}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00421}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{00421}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_af8b435b5fd63db75d207a7d1327ce65a}{plot}(self, emis\_grids, obs, quad=True, i\_obs=None, alpha=0.3, ax=None):
00422         \textcolor{stringliteral}{"""}
00423 \textcolor{stringliteral}{        PLotting tool to generate Te-Ne diagrams.}
00424 \textcolor{stringliteral}{        }
00425 \textcolor{stringliteral}{        Usage:}
00426 \textcolor{stringliteral}{            diags.plot(emisgrids, obs, i\_obs=3)}
00427 \textcolor{stringliteral}{            }
00428 \textcolor{stringliteral}{        Parameters:}
00429 \textcolor{stringliteral}{            - emis\_grids    A dictionary of EmisGrid objects refereed by their atom strings (e.g. 'O3')}
00430 \textcolor{stringliteral}{                            This can for example be the output of pn.getEmisGridDict()}
00431 \textcolor{stringliteral}{            - obs           A pn.Observation object that is supposed to contain the line intensities}
00432 \textcolor{stringliteral}{                            used for the plot (corrected intensities).}
00433 \textcolor{stringliteral}{            - quad          If True (default) the sum of the error is quadratic,otherwise is linear.}
00434 \textcolor{stringliteral}{            - i\_obs         reference for the observation to be plotted, in case there is more than one}
00435 \textcolor{stringliteral}{                            in the obs object}
00436 \textcolor{stringliteral}{            - alpha         Transparency for the error bands in the plot}
00437 \textcolor{stringliteral}{            }
00438 \textcolor{stringliteral}{        """}
00439         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} pn.config.INSTALLED[\textcolor{stringliteral}{'plt'}]: 
00440             pn.log\_.error(\textcolor{stringliteral}{'Matplotlib not available, no plot'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00441             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00442         \textcolor{keywordflow}{else}:
00443             \textcolor{keyword}{import} matplotlib.pyplot \textcolor{keyword}{as} plt
00444         \textcolor{keywordflow}{if} type(emis\_grids) != type(\{\}):
00445             self.log\_.error(\textcolor{stringliteral}{'the first parameter must be a dictionary'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00446             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00447         \textcolor{keywordflow}{for} em \textcolor{keywordflow}{in} emis\_grids:
00448             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(emis\_grids[em], pn.EmisGrid):
00449                 self.log\_.error(\textcolor{stringliteral}{'the first parameter must be a dictionary of EmisGrid'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00450                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00451         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(obs, pn.Observation):
00452             self.log\_.error(\textcolor{stringliteral}{'the second parameter must be an Observation'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.plot'})
00453             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00454         \textcolor{keywordflow}{if} (i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}) \textcolor{keywordflow}{and} (obs.n\_obs != 1):
00455             self.log\_.error(\textcolor{stringliteral}{'i\_obs must be specified when obs is multiple. try i\_obs=0'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00456             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00457         \textcolor{keywordflow}{if} ax \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00458             f, ax = plt.subplots()
00459         \textcolor{keywordflow}{else}:
00460             f = plt.gcf()
00461         X = np.log10(emis\_grids[emis\_grids.keys()[0]].den2D)
00462         Y = emis\_grids[emis\_grids.keys()[0]].tem2D
00463         \textcolor{keywordflow}{for} label \textcolor{keywordflow}{in} self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}:
00464             diag = self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{diags}[label]
00465             atom = diag[0]
00466             \textcolor{keyword}{def }I(i, j):
00467                 \textcolor{keywordflow}{return} emis\_grids[atom].getGrid(lev\_i=i, lev\_j=j)
00468             \textcolor{keyword}{def }L(wave):
00469                 \textcolor{keywordflow}{return} emis\_grids[atom].getGrid(wave=wave)
00470             \textcolor{keyword}{def }B(label, I=I, L=L):
00471                 full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00472                 \textcolor{keywordflow}{if} full\_label \textcolor{keywordflow}{in} BLEND\_LIST:
00473                     to\_eval = BLEND\_LIST[full\_label]
00474                 \textcolor{keywordflow}{else}:
00475                     self.log\_.warn(\textcolor{stringliteral}{'\{0\} not in BLEND\_LIST'}.format(full\_label), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00476                     \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00477                 \textcolor{keywordflow}{return} eval(to\_eval)
00478             \textcolor{keywordflow}{try}:
00479                 diag\_map = eval(diag[1])
00480             \textcolor{keywordflow}{except}:
00481                 diag\_map = \textcolor{keywordtype}{None}
00482                 self.log\_.warn(\textcolor{stringliteral}{'diag \{0\} \{1\} not used'}.format(diag[0], diag[1]), calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00483             \textcolor{keywordflow}{if} diag\_map \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00484                 sym, spec = \hyperlink{namespacepyneb_1_1utils_1_1misc_a8c069186002a3e73dd474958e35034d5}{parseAtom}(atom)
00485                 \textcolor{keyword}{def }I(i, j):
00486                     wave = emis\_grids[atom].atom.wave\_Ang[i - 1, j - 1]
00487                     corrIntens = obs.getLine(sym, spec, wave).corrIntens
00488                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00489                         \textcolor{keywordflow}{return} corrIntens
00490                     \textcolor{keywordflow}{else}:
00491                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00492                 \textcolor{keyword}{def }L(wave):
00493                     corrIntens = obs.getLine(sym, spec, wave).corrIntens
00494                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00495                         \textcolor{keywordflow}{return} corrIntens
00496                     \textcolor{keywordflow}{else}:
00497                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00498                 \textcolor{keyword}{def }B(label):
00499                     full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00500                     corrIntens = obs.getLine(label=full\_label).corrIntens
00501                     \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00502                         \textcolor{keywordflow}{return} corrIntens
00503                     \textcolor{keywordflow}{else}:
00504                         \textcolor{keywordflow}{return} corrIntens[i\_obs]
00505                 \textcolor{keywordflow}{try}:
00506                     diag\_value = eval(diag[1])
00507                 \textcolor{keywordflow}{except}:
00508                     diag\_value = \textcolor{keywordtype}{None}
00509                     self.log\_.warn(\textcolor{stringliteral}{'A line in diagnostic \{0\} of \{1\}\{2\} is missing'}.format(diag[1], sym, 
      spec),
00510                                    calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00511                 \textcolor{keywordflow}{if} diag\_value \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} np.isnan(diag\_value) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} np.isinf(diag\_value):
00512                     \textcolor{keyword}{def }E(wave):
00513                         err = obs.getLine(sym, spec, wave).corrError
00514                         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00515                             \textcolor{keywordflow}{return} err
00516                         \textcolor{keywordflow}{else}:
00517                             \textcolor{keywordflow}{return} err[i\_obs]
00518                     \textcolor{keyword}{def }BE(label):
00519                         full\_label = atom + \textcolor{stringliteral}{'\_'} + label
00520                         err = obs.getLine(label=full\_label).corrError
00521                         \textcolor{keywordflow}{if} i\_obs \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
00522                             \textcolor{keywordflow}{return} err
00523                         \textcolor{keywordflow}{else}:
00524                             \textcolor{keywordflow}{return} err[i\_obs]
00525                     \textcolor{keywordflow}{if} quad \textcolor{keywordflow}{is} \textcolor{keyword}{True}:
00526                         RMS = \textcolor{keyword}{lambda} err: np.sqrt((np.asarray(err) ** 2.).sum())
00527                     \textcolor{keywordflow}{else}:
00528                         RMS = \textcolor{keyword}{lambda} err: (np.asarray(err)).sum() 
00529                     tol\_value = eval(diag[2])
00530                     col\_dic = \{\textcolor{stringliteral}{'C'}:\textcolor{stringliteral}{'cyan'}, \textcolor{stringliteral}{'N'}:\textcolor{stringliteral}{'blue'}, \textcolor{stringliteral}{'O'}:\textcolor{stringliteral}{'green'}, \textcolor{stringliteral}{'Ne'}:\textcolor{stringliteral}{'magenta'},
00531                                \textcolor{stringliteral}{'Ar'}:\textcolor{stringliteral}{'red'}, \textcolor{stringliteral}{'Cl'}:\textcolor{stringliteral}{'magenta'}, \textcolor{stringliteral}{'S'}:\textcolor{stringliteral}{'black'}, \textcolor{stringliteral}{'Fe'}:\textcolor{stringliteral}{'blue'}\}
00532                     col = col\_dic[atom[:-1]]
00533                     style\_dic = \{\textcolor{stringliteral}{'1'}:\textcolor{stringliteral}{'-'}, \textcolor{stringliteral}{'2'}:\textcolor{stringliteral}{'--'}, \textcolor{stringliteral}{'3'}:\textcolor{stringliteral}{':'}, \textcolor{stringliteral}{'4'}:\textcolor{stringliteral}{'-.'}, \textcolor{stringliteral}{'5'}:\textcolor{stringliteral}{'-'}, \textcolor{stringliteral}{'6'}:\textcolor{stringliteral}{'--'}\}
00534                     style = style\_dic[atom[-1]]
00535                     \textcolor{keywordflow}{if} tol\_value > 0.:
00536                         levels = [(1 - tol\_value) * diag\_value, (1 + tol\_value) * diag\_value]
00537                         CS = ax.contourf(X, Y, diag\_map, levels=levels, alpha=alpha, colors=col)
00538                     CS = ax.contour(X, Y, diag\_map, levels=[diag\_value], colors=col, linestyles=style)
00539                     ax.set\_xlabel(\textcolor{stringliteral}{r'log(n$\_\{\(\backslash\)rm e\}$) [cm$^\{-3\}$]'})
00540                     ax.set\_ylabel(\textcolor{stringliteral}{r'T$\_\{\(\backslash\)rm e\}$ [K]'})
00541                     \textcolor{keywordflow}{if} len(diag) >= 4:
00542                         fmt = diag[3]
00543                     \textcolor{keywordflow}{else}:
00544                         fmt = \textcolor{stringliteral}{'[\{0\}\{1\}]'}.format(atom[0:-1], \hyperlink{namespacepyneb_1_1utils_1_1misc_aec4e973d4cb9299f749ef190ea636a06}{int\_to\_roman}(int(atom[-1])))
00545                     ax.clabel(CS, inline=\textcolor{keyword}{True}, fmt=fmt, fontsize=15, colors=col)
00546                     \textcolor{keywordflow}{if} type(diag\_value) \textcolor{keywordflow}{is} np.ndarray:
00547                         diag\_value = diag\_value[0]
00548                     self.log\_.message(\textcolor{stringliteral}{'plotting \{0\}: \{1\} = \{2:.2\} with error of \{3:.2\} %'}.format(fmt, label
      , diag\_value, tol\_value * 100),
00549                                       calling=self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling})
00550         
00551         
\end{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a01ad01e336115e86eada60350060bb9b}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!set\+Atoms@{set\+Atoms}}
\index{set\+Atoms@{set\+Atoms}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{set\+Atoms}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\+core.\+diags.\+Diagnostics.\+set\+Atoms (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{atom\+\_\+dic}
\end{DoxyParamCaption}
)}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a01ad01e336115e86eada60350060bb9b}
\begin{DoxyVerb}Define the dictionary containing the atoms used for the diagnostics.
A dictionary of atom instantiations refereed by atom strings, for example:
{'O3': pn.Atom('O', 3)}\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00393}{393} of file \hyperlink{diags_8py_source}{diags.\+py}.



References \hyperlink{diags_8py_source_l00169}{pyneb.\+core.\+diags.\+Diagnostics.\+calling}.


\begin{DoxyCode}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00393}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a01ad01e336115e86eada60350060bb9b}{00393}     \textcolor{keyword}{def }\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a01ad01e336115e86eada60350060bb9b}{setAtoms}(self, atom\_dic):
00394         \textcolor{stringliteral}{"""}
00395 \textcolor{stringliteral}{        Define the dictionary containing the atoms used for the diagnostics.}
00396 \textcolor{stringliteral}{        A dictionary of atom instantiations refereed by atom strings, for example:}
00397 \textcolor{stringliteral}{        \{'O3': pn.Atom('O', 3)\}}
00398 \textcolor{stringliteral}{        }
00399 \textcolor{stringliteral}{        """}
00400         \textcolor{keywordflow}{if} type(atom\_dic) != type(\{\}):
00401             self.log\_.error(\textcolor{stringliteral}{'the parameter must be a dictionary.'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.setAtoms'})
00402             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
00403         \textcolor{keywordflow}{for} atom \textcolor{keywordflow}{in} atom\_dic:
00404             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(atom\_dic[atom], pn.Atom) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} isinstance(atom\_dic[atom], pn.RecAtom):
00405                 self.log\_.error(\textcolor{stringliteral}{'the parameter must be a dictionary of Atom.'}, calling=self.
      \hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{calling} + \textcolor{stringliteral}{'.setAtoms'})
00406                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_l00407}{}\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{00407}         self.\hyperlink{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{atomDict} = atom\_dic
00408     
00409     
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!atom\+Dict@{atom\+Dict}}
\index{atom\+Dict@{atom\+Dict}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{atom\+Dict}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+diags.\+Diagnostics.\+atom\+Dict}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a36301f268745b33abe6cfeb3e41a6356}


The dictionary containing the atoms used for the diagnostics. 

\begin{DoxyVerb}Diagnostics constructor

Parameters:
    - addAll        switch to include all defined diagnostics (default = False)
    - OmegaInterp   parameter sent to Atom, default is 'Cheb', other can be 'linear'\end{DoxyVerb}
 

Definition at line \hyperlink{diags_8py_source_l00407}{407} of file \hyperlink{diags_8py_source}{diags.\+py}.



Referenced by \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diags\+From\+Obs()}, \hyperlink{diags_8py_source_l00554}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den()}, and \hyperlink{diags_8py_source_l00706}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+Limits()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!calling@{calling}}
\index{calling@{calling}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{calling}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+diags.\+Diagnostics.\+calling}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a07dce673fec8b2383ef411ab94b0b2fe}


Definition at line \hyperlink{diags_8py_source_l00169}{169} of file \hyperlink{diags_8py_source}{diags.\+py}.



Referenced by \hyperlink{icf_8py_source_l01075}{pyneb.\+core.\+icf.\+I\+C\+F.\+\_\+\+\_\+get\+Elem\+Abundance\+From\+Stategy()}, \hyperlink{pynebcore_8py_source_l03885}{pyneb.\+core.\+pynebcore.\+Observation.\+\_\+\+\_\+normalize()}, \hyperlink{logging_8py_source_l00059}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+add2log()}, \hyperlink{red__corr_8py_source_l00658}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+\_\+\+F99\+\_\+like()}, \hyperlink{_config_8py_source_l00086}{pyneb.\+utils.\+Config.\+\_\+\+Config.\+\_\+get\+\_\+\+Pypic\+Path()}, \hyperlink{pynebcore_8py_source_l02854}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+\_\+get\+Label\+Str()}, \hyperlink{pynebcore_8py_source_l01803}{pyneb.\+core.\+pynebcore.\+Atom.\+\_\+get\+Tem\+Den\+\_\+1()}, \hyperlink{pynebcore_8py_source_l01980}{pyneb.\+core.\+pynebcore.\+Atom.\+\_\+get\+Tem\+Den\+\_\+\+M\+P()}, \hyperlink{logging_8py_source_l00051}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+pprint()}, \hyperlink{red__corr_8py_source_l00176}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+\_\+set\+\_\+law()}, \hyperlink{pynebcore_8py_source_l00171}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+\_\+test\+\_\+lev()}, \hyperlink{pn__chianti_8py_source_l00284}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Atom\+Chianti.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l00435}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+\_\+test\+\_\+lev()}, \hyperlink{pn__chianti_8py_source_l00449}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l00660}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l01026}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l01459}{pyneb.\+core.\+pynebcore.\+Atom.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l02596}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+\_\+test\+\_\+lev()}, \hyperlink{pynebcore_8py_source_l01367}{pyneb.\+core.\+pynebcore.\+Atom.\+\_\+\+Transition()}, \hyperlink{pynebcore_8py_source_l02696}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+\_\+\+Transition()}, \hyperlink{diags_8py_source_l00410}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Clabel()}, \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00353}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diags\+From\+Obs()}, \hyperlink{icf_8py_source_l00797}{pyneb.\+core.\+icf.\+I\+C\+F.\+add\+I\+C\+F()}, \hyperlink{pynebcore_8py_source_l03436}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Line()}, \hyperlink{pynebcore_8py_source_l03467}{pyneb.\+core.\+pynebcore.\+Observation.\+add\+Obs()}, \hyperlink{pynebcore_8py_source_l03906}{pyneb.\+core.\+pynebcore.\+Observation.\+correct\+Data()}, \hyperlink{pynebcore_8py_source_l03325}{pyneb.\+core.\+pynebcore.\+Emission\+Line.\+correct\+Intens()}, \hyperlink{pynebcore_8py_source_l03861}{pyneb.\+core.\+pynebcore.\+Observation.\+def\+\_\+\+E\+B\+V()}, \hyperlink{diags_8py_source_l00336}{pyneb.\+core.\+diags.\+Diagnostics.\+del\+Diag()}, \hyperlink{pynebcore_8py_source_l03452}{pyneb.\+core.\+pynebcore.\+Observation.\+fill\+Obs()}, \hyperlink{red__corr_8py_source_l00211}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+get\+Corr()}, \hyperlink{manage__atomic__data_8py_source_l00297}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+get\+Data\+File()}, \hyperlink{diags_8py_source_l00183}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+From\+Label()}, \hyperlink{pynebcore_8py_source_l01716}{pyneb.\+core.\+pynebcore.\+Atom.\+get\+Emissivity()}, \hyperlink{pynebcore_8py_source_l02873}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+get\+Emissivity()}, \hyperlink{pynebcore_8py_source_l00268}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+get\+Energy()}, \hyperlink{pn__chianti_8py_source_l00346}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Atom\+Chianti.\+get\+Energy()}, \hyperlink{pynebcore_8py_source_l00525}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Ascii.\+get\+Energy()}, \hyperlink{pynebcore_8py_source_l02811}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+get\+Energy()}, \hyperlink{pynebcore_8py_source_l02110}{pyneb.\+core.\+pynebcore.\+Atom.\+get\+Ion\+Abundance()}, \hyperlink{pynebcore_8py_source_l02961}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+get\+Ion\+Abundance()}, \hyperlink{pynebcore_8py_source_l03543}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Line()}, \hyperlink{pn__chianti_8py_source_l00484}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+get\+Omega()}, \hyperlink{pynebcore_8py_source_l00811}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+get\+Omega()}, \hyperlink{pynebcore_8py_source_l01063}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+get\+Omega()}, \hyperlink{pynebcore_8py_source_l01262}{pyneb.\+core.\+pynebcore.\+Atom.\+get\+Omega()}, \hyperlink{pn__chianti_8py_source_l00461}{pyneb.\+utils.\+pn\+\_\+chianti.\+\_\+\+Coll\+Chianti.\+get\+Omega\+Array()}, \hyperlink{pynebcore_8py_source_l00783}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+get\+Omega\+Array()}, \hyperlink{pynebcore_8py_source_l01039}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Ascii.\+get\+Omega\+Array()}, \hyperlink{manage__atomic__data_8py_source_l00034}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+get\+Predefined\+Data\+File\+Dict()}, \hyperlink{pynebcore_8py_source_l03562}{pyneb.\+core.\+pynebcore.\+Observation.\+get\+Sorted\+Lines()}, \hyperlink{pynebcore_8py_source_l00242}{pyneb.\+core.\+pynebcore.\+\_\+\+Atom\+Data\+Fits.\+get\+Stat\+Weight()}, \hyperlink{pynebcore_8py_source_l02735}{pyneb.\+core.\+pynebcore.\+Rec\+Atom.\+get\+Tot\+Recombination()}, \hyperlink{red__corr_8py_source_l00303}{pyneb.\+extinction.\+red\+\_\+corr.\+Red\+Corr.\+plot()}, \hyperlink{diags_8py_source_l00421}{pyneb.\+core.\+diags.\+Diagnostics.\+plot()}, \hyperlink{plot_atomic_data_8py_source_l00116}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+A()}, \hyperlink{plot_atomic_data_8py_source_l00188}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+All\+A()}, \hyperlink{emis_grid_8py_source_l00179}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+plot\+Contours()}, \hyperlink{pynebcore_8py_source_l02313}{pyneb.\+core.\+pynebcore.\+Atom.\+plot\+Emiss()}, \hyperlink{pynebcore_8py_source_l02372}{pyneb.\+core.\+pynebcore.\+Atom.\+plot\+Grotrian()}, \hyperlink{emis_grid_8py_source_l00137}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+plot\+Image()}, \hyperlink{emis_grid_8py_source_l00238}{pyneb.\+core.\+emis\+Grid.\+Emis\+Grid.\+plot\+Line\+Ratio()}, \hyperlink{plot_atomic_data_8py_source_l00372}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+Omega()}, \hyperlink{plot_atomic_data_8py_source_l00261}{pyneb.\+plot.\+plot\+Atomic\+Data.\+Data\+Plot.\+plot\+Rel\+A()}, \hyperlink{manage__atomic__data_8py_source_l00431}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+print\+All\+Sources()}, \hyperlink{pynebcore_8py_source_l02167}{pyneb.\+core.\+pynebcore.\+Atom.\+print\+Ionic()}, \hyperlink{pynebcore_8py_source_l03589}{pyneb.\+core.\+pynebcore.\+Observation.\+read\+Data()}, \hyperlink{diags_8py_source_l00393}{pyneb.\+core.\+diags.\+Diagnostics.\+set\+Atoms()}, \hyperlink{manage__atomic__data_8py_source_l00380}{pyneb.\+utils.\+manage\+\_\+atomic\+\_\+data.\+\_\+\+Manage\+Atomic\+Data.\+set\+Data\+File()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+timer()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!diags@{diags}}
\index{diags@{diags}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{diags}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+diags.\+Diagnostics.\+diags}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a0c0f7e36097677f61a6a14a0c3127b02}


The dictionary containing the diagnostics. 



Definition at line \hyperlink{diags_8py_source_l00173}{173} of file \hyperlink{diags_8py_source}{diags.\+py}.



Referenced by \hyperlink{diags_8py_source_l00410}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Clabel()}, \hyperlink{diags_8py_source_l00246}{pyneb.\+core.\+diags.\+Diagnostics.\+add\+Diag()}, \hyperlink{diags_8py_source_l00336}{pyneb.\+core.\+diags.\+Diagnostics.\+del\+Diag()}, \hyperlink{diags_8py_source_l00554}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den()}, \hyperlink{diags_8py_source_l00183}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+From\+Label()}, \hyperlink{diags_8py_source_l00706}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diag\+Limits()}, \hyperlink{diags_8py_source_l00201}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Diags()}, \hyperlink{diags_8py_source_l00237}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Unique\+Atoms()}, and \hyperlink{diags_8py_source_l00421}{pyneb.\+core.\+diags.\+Diagnostics.\+plot()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!log\+\_\+@{log\+\_\+}}
\index{log\+\_\+@{log\+\_\+}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{log\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+diags.\+Diagnostics.\+log\+\_\+}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_a20b70abfa1fd458af2b797e06da01ed0}


Definition at line \hyperlink{diags_8py_source_l00168}{168} of file \hyperlink{diags_8py_source}{diags.\+py}.



Referenced by \hyperlink{logging_8py_source_l00059}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+\_\+add2log()}, \hyperlink{logging_8py_source_l00157}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+debug()}, \hyperlink{logging_8py_source_l00149}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+errors()}, \hyperlink{logging_8py_source_l00133}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+messages()}, \hyperlink{logging_8py_source_l00165}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+timer()}, \hyperlink{logging_8py_source_l00141}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+print\+\_\+warnings()}, and \hyperlink{logging_8py_source_l00115}{pyneb.\+utils.\+logging.\+my\+\_\+logging.\+timer()}.

\hypertarget{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}{}\index{pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}!Omega\+Interp@{Omega\+Interp}}
\index{Omega\+Interp@{Omega\+Interp}!pyneb\+::core\+::diags\+::\+Diagnostics@{pyneb\+::core\+::diags\+::\+Diagnostics}}
\subsubsection[{Omega\+Interp}]{\setlength{\rightskip}{0pt plus 5cm}pyneb.\+core.\+diags.\+Diagnostics.\+Omega\+Interp}\label{classpyneb_1_1core_1_1diags_1_1_diagnostics_acfd0638b293790832bcee3cd9f3ec342}


Definition at line \hyperlink{diags_8py_source_l00000}{0} of file \hyperlink{diags_8py_source}{diags.\+py}.



Referenced by \hyperlink{pynebcore_8py_source_l00694}{pyneb.\+core.\+pynebcore.\+\_\+\+Coll\+Data\+Fits.\+get\+Cheb\+Order()}, and \hyperlink{diags_8py_source_l00554}{pyneb.\+core.\+diags.\+Diagnostics.\+get\+Cross\+Tem\+Den()}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pyneb/core/\hyperlink{diags_8py}{diags.\+py}\end{DoxyCompactItemize}
