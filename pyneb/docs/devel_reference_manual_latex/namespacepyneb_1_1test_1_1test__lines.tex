\hypertarget{namespacepyneb_1_1test_1_1test__lines}{\section{pyneb.\-test.\-test\-\_\-lines Namespace Reference}
\label{namespacepyneb_1_1test_1_1test__lines}\index{pyneb.\-test.\-test\-\_\-lines@{pyneb.\-test.\-test\-\_\-lines}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacepyneb_1_1test_1_1test__lines_acb05b820a841199fa35d7c7333964d2a}{test\-\_\-line\-\_\-lists}
\item 
def \hyperlink{namespacepyneb_1_1test_1_1test__lines_a6416d6b2bb555e0f43fffbffb5402c2b}{test\-\_\-diags}
\item 
def \hyperlink{namespacepyneb_1_1test_1_1test__lines_ad390fada703f6ef17a79073dc89b4bfb}{test\-\_\-labels}
\item 
def \hyperlink{namespacepyneb_1_1test_1_1test__lines_a32506e571d5f7b4eb6cb1e4530a34487}{test\-\_\-atom\-\_\-data}
\item 
def \hyperlink{namespacepyneb_1_1test_1_1test__lines_ae698cdd7fa91e0040c681a8045912bf2}{compare\-\_\-line\-\_\-list}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_ae698cdd7fa91e0040c681a8045912bf2}{\index{pyneb\-::test\-::test\-\_\-lines@{pyneb\-::test\-::test\-\_\-lines}!compare\-\_\-line\-\_\-list@{compare\-\_\-line\-\_\-list}}
\index{compare\-\_\-line\-\_\-list@{compare\-\_\-line\-\_\-list}!pyneb::test::test_lines@{pyneb\-::test\-::test\-\_\-lines}}
\subsubsection[{compare\-\_\-line\-\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-test.\-test\-\_\-lines.\-compare\-\_\-line\-\_\-list (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacepyneb_1_1test_1_1test__lines_ae698cdd7fa91e0040c681a8045912bf2}


Definition at line \hyperlink{test__lines_8py_source_l00108}{108} of file \hyperlink{test__lines_8py_source}{test\-\_\-lines.\-py}.


\begin{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_l00108}{}\hyperlink{namespacepyneb_1_1test_1_1test__lines_ae698cdd7fa91e0040c681a8045912bf2}{00108} 
00109 \textcolor{keyword}{def }\hyperlink{namespacepyneb_1_1test_1_1test__lines_ae698cdd7fa91e0040c681a8045912bf2}{compare\_line\_list}():
00110     OLD\_LINE\_LABEL\_LIST = pn.utils.init.OLD\_LINE\_LABEL\_LIST
00111     LINE\_LABEL\_LIST = pn.LINE\_LABEL\_LIST
00112     
00113     \textcolor{keywordflow}{for} atom \textcolor{keywordflow}{in} np.sort(LINE\_LABEL\_LIST.keys()):
00114         \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{in} OLD\_LINE\_LABEL\_LIST:
00115             \textcolor{keywordflow}{print} atom + \textcolor{stringliteral}{' NEW'},
00116             \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} LINE\_LABEL\_LIST[atom]:
00117                 \textcolor{keywordflow}{if} line \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} OLD\_LINE\_LABEL\_LIST[atom]:
00118                     \textcolor{keywordflow}{print} line,
00119             \textcolor{keywordflow}{print} \textcolor{stringliteral}{''}
00120             \textcolor{keywordflow}{print} atom + \textcolor{stringliteral}{' OLD'},
00121             \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} OLD\_LINE\_LABEL\_LIST[atom]:
00122                 \textcolor{keywordflow}{if} line \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} LINE\_LABEL\_LIST[atom]:
00123                     \textcolor{keywordflow}{print} line,
00124             \textcolor{keywordflow}{print} \textcolor{stringliteral}{''}
00125         \textcolor{keywordflow}{else}:
00126             \textcolor{keywordflow}{print} atom + \textcolor{stringliteral}{' NEW ATOM'}
00127             \textcolor{keywordflow}{print} LINE\_LABEL\_LIST[atom]
00128         \textcolor{keywordflow}{print} \textcolor{stringliteral}{'==================='}
00129         
00130         
                    \end{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_a32506e571d5f7b4eb6cb1e4530a34487}{\index{pyneb\-::test\-::test\-\_\-lines@{pyneb\-::test\-::test\-\_\-lines}!test\-\_\-atom\-\_\-data@{test\-\_\-atom\-\_\-data}}
\index{test\-\_\-atom\-\_\-data@{test\-\_\-atom\-\_\-data}!pyneb::test::test_lines@{pyneb\-::test\-::test\-\_\-lines}}
\subsubsection[{test\-\_\-atom\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-test.\-test\-\_\-lines.\-test\-\_\-atom\-\_\-data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacepyneb_1_1test_1_1test__lines_a32506e571d5f7b4eb6cb1e4530a34487}
\begin{DoxyVerb}This tool try to instantiate all the atoms using all the atomic data.
\end{DoxyVerb}
 

Definition at line \hyperlink{test__lines_8py_source_l00090}{90} of file \hyperlink{test__lines_8py_source}{test\-\_\-lines.\-py}.


\begin{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_l00090}{}\hyperlink{namespacepyneb_1_1test_1_1test__lines_a32506e571d5f7b4eb6cb1e4530a34487}{00090} 
00091 \textcolor{keyword}{def }\hyperlink{namespacepyneb_1_1test_1_1test__lines_a32506e571d5f7b4eb6cb1e4530a34487}{test\_atom\_data}():
00092     \textcolor{stringliteral}{"""}
00093 \textcolor{stringliteral}{    This tool try to instantiate all the atoms using all the atomic data.}
00094 \textcolor{stringliteral}{    """}
00095     atoms = pn.atomicData.getAllAtoms()
00096     i = 0
00097     \textcolor{keywordflow}{for} atom \textcolor{keywordflow}{in} atoms:
00098         \textcolor{keywordflow}{for} atom\_file \textcolor{keywordflow}{in} pn.atomicData.getAllAvailableFiles(atom, \textcolor{stringliteral}{'atom'}):
00099             \textcolor{keywordflow}{for} coll\_file \textcolor{keywordflow}{in} pn.atomicData.getAllAvailableFiles(atom, \textcolor{stringliteral}{'coll'}):
00100                 \textcolor{keywordflow}{print} atom, atom\_file, coll\_file
00101                 pn.atomicData.setDataFile(atom\_file)
00102                 pn.atomicData.setDataFile(coll\_file)
00103                 atm = pn.Atom(atom=atom)
00104                 \textcolor{keywordflow}{print} atm
00105                 i += 1
00106     print(\textcolor{stringliteral}{'Just did \{\} atoms for the \{\} ions'}.format(i, len(atoms)))
00107     \textcolor{comment}{# Just did 263 atoms for the 55 ions}

\end{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_a6416d6b2bb555e0f43fffbffb5402c2b}{\index{pyneb\-::test\-::test\-\_\-lines@{pyneb\-::test\-::test\-\_\-lines}!test\-\_\-diags@{test\-\_\-diags}}
\index{test\-\_\-diags@{test\-\_\-diags}!pyneb::test::test_lines@{pyneb\-::test\-::test\-\_\-lines}}
\subsubsection[{test\-\_\-diags}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-test.\-test\-\_\-lines.\-test\-\_\-diags (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacepyneb_1_1test_1_1test__lines_a6416d6b2bb555e0f43fffbffb5402c2b}
\begin{DoxyVerb}\end{DoxyVerb}
 

Definition at line \hyperlink{test__lines_8py_source_l00034}{34} of file \hyperlink{test__lines_8py_source}{test\-\_\-lines.\-py}.


\begin{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_l00034}{}\hyperlink{namespacepyneb_1_1test_1_1test__lines_a6416d6b2bb555e0f43fffbffb5402c2b}{00034} 
00035 \textcolor{keyword}{def }\hyperlink{namespacepyneb_1_1test_1_1test__lines_a6416d6b2bb555e0f43fffbffb5402c2b}{test\_diags}():
00036     \textcolor{stringliteral}{"""}
00037 \textcolor{stringliteral}{}
00038 \textcolor{stringliteral}{    """}
00039     pn.atomicData.setDataFile(\textcolor{stringliteral}{'o\_iii\_coll\_AK99.dat'})
00040     tem = 1e4 
00041     den = 1e2
00042     L = \textcolor{keyword}{lambda} wave: atom.getEmissivity(tem, den, wave = wave)
00043     I = \textcolor{keyword}{lambda} i, j: atom.getEmissivity(tem, den, i, j)
00044     \textcolor{keyword}{def }B(wave):
00045         \textcolor{keywordflow}{if} pn.isValid(\textcolor{stringliteral}{'\{0\}\_\{1\}'}.format(atom.atom,wave)):
00046             \textcolor{keywordflow}{return} 1
00047         \textcolor{keywordflow}{else}:
00048             print(\textcolor{stringliteral}{'!!! Wrong: \{0\}\_\{1\}'}.format(atom.atom,wave))
00049             \textcolor{keywordflow}{return} 1
00050         
00051     \textcolor{keywordflow}{for} diag \textcolor{keywordflow}{in} pn.diags\_dict:
00052         \textcolor{keywordflow}{print} diag
00053         atom = pn.Atom(atom = pn.diags\_dict[diag][0])
00054         to\_eval = pn.diags\_dict[diag][1]
00055         \textcolor{keywordflow}{try}:
00056             lines\_rat = eval(to\_eval)
00057         \textcolor{keywordflow}{except}:
00058             print(\textcolor{stringliteral}{'\{\} failed'}.format(to\_eval))
            
\end{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_ad390fada703f6ef17a79073dc89b4bfb}{\index{pyneb\-::test\-::test\-\_\-lines@{pyneb\-::test\-::test\-\_\-lines}!test\-\_\-labels@{test\-\_\-labels}}
\index{test\-\_\-labels@{test\-\_\-labels}!pyneb::test::test_lines@{pyneb\-::test\-::test\-\_\-lines}}
\subsubsection[{test\-\_\-labels}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-test.\-test\-\_\-lines.\-test\-\_\-labels (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacepyneb_1_1test_1_1test__lines_ad390fada703f6ef17a79073dc89b4bfb}
\begin{DoxyVerb}This tool scans all the lines from pn.LINE_LABEL_LIST, extract the wavelength and compare with the 
wavelength given by the corresponding atom for the corresponding transition. Is the difference is greater 
than 1AA for optical or 0.1mu for IR, it prints the information
\end{DoxyVerb}
 

Definition at line \hyperlink{test__lines_8py_source_l00059}{59} of file \hyperlink{test__lines_8py_source}{test\-\_\-lines.\-py}.


\begin{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_l00059}{}\hyperlink{namespacepyneb_1_1test_1_1test__lines_ad390fada703f6ef17a79073dc89b4bfb}{00059} 
00060 \textcolor{keyword}{def }\hyperlink{namespacepyneb_1_1test_1_1test__lines_ad390fada703f6ef17a79073dc89b4bfb}{test\_labels}():
00061     \textcolor{stringliteral}{"""}
00062 \textcolor{stringliteral}{    This tool scans all the lines from pn.LINE\_LABEL\_LIST, extract the wavelength and compare with the }
00063 \textcolor{stringliteral}{    wavelength given by the corresponding atom for the corresponding transition. Is the difference is
       greater }
00064 \textcolor{stringliteral}{    than 1AA for optical or 0.1mu for IR, it prints the information}
00065 \textcolor{stringliteral}{    """}
00066     \textcolor{keywordflow}{for} atom\_str \textcolor{keywordflow}{in} pn.LINE\_LABEL\_LIST:
00067         \textcolor{keywordflow}{try}:
00068             \textcolor{keywordflow}{if} atom\_str[-1] == \textcolor{stringliteral}{'}\textcolor{stringliteral}{r':}
00069 \textcolor{stringliteral}{                atom = pn.RecAtom(atom=atom\_str)}
00070 \textcolor{stringliteral}{            }\textcolor{keywordflow}{else}:
00071                 atom = pn.Atom(atom=atom\_str)
00072         \textcolor{keywordflow}{except}:
00073             atom = \textcolor{keywordtype}{None}
00074         \textcolor{keywordflow}{if} atom \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
00075             \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} pn.LINE\_LABEL\_LIST[atom\_str]:
00076                 \textcolor{keywordflow}{if} line[-1] == \textcolor{stringliteral}{'m'}:
00077                     wavelength = float(line[:-1])*1e4
00078                 \textcolor{keywordflow}{else}:
00079                     wavelength = float(line[:-1])
00080                 i, j = atom.getTransition(wavelength)
00081                 wave = atom.wave\_Ang[i-1, j-1]
00082                 \textcolor{keywordflow}{if} wave < 1e4:
00083                     dif = np.abs(wavelength-wave)
00084                 \textcolor{keywordflow}{else}:
00085                     dif = np.abs(wavelength-wave)/1e3
00086                 \textcolor{comment}{#print atom\_str}
00087                 \textcolor{keywordflow}{if} dif > 1.0:
00088                     print(\textcolor{stringliteral}{'\{0\} \{1:.2f\} =? \{2:.2f\}  \{3:.2f\}'}.format(atom\_str, wavelength, wave, dif))
00089                     

\end{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_acb05b820a841199fa35d7c7333964d2a}{\index{pyneb\-::test\-::test\-\_\-lines@{pyneb\-::test\-::test\-\_\-lines}!test\-\_\-line\-\_\-lists@{test\-\_\-line\-\_\-lists}}
\index{test\-\_\-line\-\_\-lists@{test\-\_\-line\-\_\-lists}!pyneb::test::test_lines@{pyneb\-::test\-::test\-\_\-lines}}
\subsubsection[{test\-\_\-line\-\_\-lists}]{\setlength{\rightskip}{0pt plus 5cm}def pyneb.\-test.\-test\-\_\-lines.\-test\-\_\-line\-\_\-lists (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacepyneb_1_1test_1_1test__lines_acb05b820a841199fa35d7c7333964d2a}
\begin{DoxyVerb}Check the validity of all the lines in diags_dict by comparing the wavelengths
\end{DoxyVerb}
 

Definition at line \hyperlink{test__lines_8py_source_l00004}{4} of file \hyperlink{test__lines_8py_source}{test\-\_\-lines.\-py}.


\begin{DoxyCode}
\hypertarget{namespacepyneb_1_1test_1_1test__lines_l00004}{}\hyperlink{namespacepyneb_1_1test_1_1test__lines_acb05b820a841199fa35d7c7333964d2a}{00004} 
00005 \textcolor{keyword}{def }\hyperlink{namespacepyneb_1_1test_1_1test__lines_acb05b820a841199fa35d7c7333964d2a}{test\_line\_lists}():
00006     \textcolor{stringliteral}{"""}
00007 \textcolor{stringliteral}{    Check the validity of all the lines in diags\_dict by comparing the wavelengths}
00008 \textcolor{stringliteral}{    """}
00009     \textcolor{keyword}{def }L(wave):
00010         \textcolor{keywordflow}{if} wave > 10000:
00011             \textcolor{keywordflow}{return} 1
00012         \textcolor{keywordflow}{if} pn.isValid(\textcolor{stringliteral}{'\{0\}\_\{1\}A'}.format(atom,wave)):
00013             \textcolor{keywordflow}{return} 1
00014         \textcolor{keywordflow}{else}:
00015             print(\textcolor{stringliteral}{'Wrong: \{0\}\_\{1\}A'}.format(atom,wave))
00016             \textcolor{keywordflow}{return} 1
00017         
00018     \textcolor{keyword}{def }I(i, j):
00019         \textcolor{keywordflow}{return} 1
00020     
00021     \textcolor{keyword}{def }B(wave):
00022         \textcolor{keywordflow}{if} pn.isValid(\textcolor{stringliteral}{'\{0\}\_\{1\}'}.format(atom,wave)):
00023             \textcolor{keywordflow}{return} 1
00024         \textcolor{keywordflow}{else}:
00025             print(\textcolor{stringliteral}{'Wrong: \{0\}\_\{1\}'}.format(atom,wave))
00026             \textcolor{keywordflow}{return} 1
00027     
00028     \textcolor{keywordflow}{for} diag \textcolor{keywordflow}{in} pn.diags\_dict:
00029         atom = pn.diags\_dict[diag][0]
00030         \textcolor{comment}{#print atom}
00031         atom\_obj = pn.Atom(atom = atom)
00032         eval(pn.diags\_dict[diag][1])
00033 

\end{DoxyCode}
